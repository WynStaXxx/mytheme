/** @format */

@import url(uc-globals.css);
@import url(uc-variables.css);
@import url(uc-extensions.css);
@import url(uc-app-menu.css);
@import url(uc-panels.css);
@import url(uc-findbar.css);
@import url(uc-tabs-bar.css);
@import url(uc-navbar.css);
@import url(uc-urlbar-results.css);
@import url(uc-urlbar.css);
@import url(uc-ctrl-tab.css);
@import url(uc-extensions.css);
@import url(uc-sidebar.css);
@import url(uc-bookmarks.css);
@import url(uc-fullscreen.css);
@import url(resources/in-content/library.css);
@import url(uc-popups.css);
@import url(uc-search-mode-icons.css);
@import url(uc-misc.css);
@import url(parts/customization-window.css);
@import url(colors/blurred.css);
@import url(parts/main-window.css);
@import url(parts/tabbar.css);
@import url(parts/vibrancy.css);
@import url(parts/compact-bookmarks.css);
@import url(parts/sidebar.css);
@import url(parts/onetab-darktheme.css);
/**@import url(overlay_scrollbars.ag.css);
/**@import url(custom-chrome.css);**/
/**@import url(addons.css); **/

#main-window,
#nav-bar,
#sidebar-header,
#history-panel,
#sidebar-search-container,
#bookmarksPanel,
#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#appMenu-popup,
#customizationui-widget-panel,
#pageActionPanel,
#editBookmarkPanel,
#protections-popup,
#pageActionActivatedActionPanel,
#widget-overflow,
#urlbar-background,
#identity-popup,
.panel-arrowcontent,
menupopup[hasbeenopened="true"] {
  opacity: 0.9 !important;
}

/* Possible Bug Fix Keeps sidebar from being weirdly affected by vibrancy settings in find bar*/

findbar {
  opacity: 0.9 !important;
}

/* Remove Themeing */

menupopup,
menuitem,
menu {
  -moz-appearance: auto !important;
}

/* Softens the Menu Separator in Right Click Menus */

menupopup menuseparator {
  -moz-appearance: meter !important;
}

/* Keep Rounded Edges on Menus */

.panel-arrowcontent,
#alltabs-popup .arrowscrollbox-scrollbox,
menupopup:not(#BMB_bookmarksPopup),
.textbox-contextmenu {
  border-radius: 5px !important;
}

#mainPopupSet menupopup {
  color: var(--lwt-toolbar-field-color) !important;
  /* Text Color */
  background-color: rgba(144, 89, 255, 0.719) !important;
  /*This is the right click menu color*/
  opacity: 0.9 !important;
}

/* Color of hovered menu item */

menu[_moz-menuactive="true"],
menuitem[_moz-menuactive="true"] {
  background: #4d4dfe30 !important;
}

/* Side Panel Header Drop Down */

image.panel-arrow {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Side Panel Drop Down Menu Hover Color */

.subviewbutton:hover {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

box.panel-arrowcontent {
  color: #dddddd !important;
  background: #4d4dfe30 !important;
  box-shadow: #4d4dfe30 !important;
  opacity: 0.9;
}

/* context menus in the ui like the url bar */

arrowscrollbox.menupopup-arrowscrollbox {
  color: #dddddd !important;
  /* Text Color*/
  background: #4d4dfe30 !important;
  /*This is the right click menu color*/
  box-shadow: none !important;
  opacity: 0.9;
  border-radius: 5px !important;
}

image.panel-arrow {
  fill: #4d4dfe30 !important;
  stroke: #4d4dfe30 !important;
}

/***  Hides all the tabs if there is only one tab***
#tabbrowser-tabs tab:only-of-type,
#tabbrowser-tabs tab:only-of-type + #tabs-newtab-button {
  display: none !important;
}

/* Find Bar Input Field color and text color *
.findbar-textbox.findbar-find-fast {
  background-color: white !important;
  color: rgb(255, 175, 15) !important;
}

/* Color of Buttons When Hovering in Find Bar */

.findbar-button.tabbable:hover {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Color of Selected Button */

.findbar-button.tabbable[checked="true"] {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}
::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

box#customization-container {
  -moz-appearance: none !important;
}

/*Button Color*/

.customizationmode-button {
  -moz-appearance: none !important;
  background: #4d4dfe30 !important;
}

/* Button Color on Hover */

.customizationmode-button:hover {
  -moz-appearance: none !important;
  background: var(--autocomplete-popup-highlight-background) !important;
}

/* Button Text */

.customizationmode-button label {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Text Color on Hover */

.customizationmode-button:hover label {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Remove border From Buttons */

.customizationmode-button {
  border: none !important;
}

/* URL Bar Drop Down Coloring */
vbox.panel-subview-body {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

box.panel-header {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

#overflowMenu-customize-button {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Hide some buttons for hover */

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #page-action-buttons {
  opacity: 0;
}

#page-action-buttons {
  transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #identity-box {
  opacity: 0;
  /*visibility: collapse;*/
}

#identity-box {
  /*transition: visibility 0.30s ease-in-out, opacity 0.30s ease-in-out;*/
  transition: opacity 0.15s ease !important;
}

#nav-bar:not([customizing="true"])
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container
  > #tracking-protection-icon-container {
  opacity: 0;
}

#tracking-protection-icon-container {
  transition: opacity 0.15s ease !important;
}

/*inactive tabs effect*/

.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover)
  .tab-icon-image {
  opacity: 0.7 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: -moz-box !important;
}

#main-window {
  background: transparent !important;
}

/* Show Tab close button on hover */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  display: -moz-box !important;
  opacity: 0 !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  opacity: 1;
  visibility: visible !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}

#navigator-toolbox:-moz-lwtheme-darktext {
  background-color: transparent !important;
}

#TabsToolbar {
  -moz-default-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
  background: transparent !important;
}

.tabbrowser-tab[multiselected],
.tabbrowser-tab[visuallyselected="true"] {
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
}

/* Firefox Translucent Tabbar for macOS */

:root:not(:-moz-window-inactive) {
  background: transparent !important;
}

:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

#PersonalToolbar,
.TabsToolbar,
.tab-background-inner,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

.theme-body {
  background: transparent !important;
}

:root[lwthemetextcolor="dark"] #TabsToolbar,
:root[lwthemetextcolor="dark"] #titlebar,
:root[lwthemetextcolor="dark"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-light !important;
}

:root[lwthemetextcolor="bright"] #TabsToolbar,
:root[lwthemetextcolor="bright"] #titlebar,
:root[lwthemetextcolor="bright"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

:root:-moz-window-inactive #TabsToolbar,
:root:-moz-window-inactive #titlebar,
:root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: none !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}
/*
:root[lwthemetextcolor="bright"] .tabbrowser-tab:not([selected="true"]):hover {
	background-color: rgba(0, 0, 0, 0.1) !important;
}

:root:not([lwthemetextcolor="bright"]) .tabbrowser-tab:not([selected="true"]) {
	color: #000 !important;
}
/*
:root[lwthemetextcolor="bright"] {
  --lwt-background-tab-separator-color: rgba(255,255,255,0.5) !important;
  --lwt-selected-tab-background-color: rgb(55,55,55) !important;
  --toolbar-bgcolor: rgb(55,55,55) !important;
  --tabs-border-color: rgba(0,0,0,0.8) !important;
}
/*
:root[lwthemetextcolor="bright"] .tabbrowser-tab:not([selected="true"]):hover {
   background-color: rgba(255,255,255,0.1) !important;
}*/

#sidebar-box:-moz-lwtheme {
  -moz-default-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
  background: transparent !important;
  background-color: transparent !important;
}

#sidebar-box:lwt-sidebar {
  -moz-default-appearance: -moz-mac-source-list;
  -moz-font-smoothing-background-color: -moz-mac-source-list;
}

/* Correct visualization of the zoom percentage shown in URLBAR was 0px 2px */

#urlbar-zoom-button {
  padding: 0px 0px !important;
}

:root {
  --panel-separator-zap-gradient: linear-gradient(
    90deg,
    #00ffff90,
    #9059ff 30%,
    #ff4aa2 85.08%,
    #ffbd4fcc 100%
  ) !important;
  --toolbar-color: #441bd8b2 !important;
  --tab-border-radius: 5px !important;
  --tab-block-margin: 2px !important;
  --tab-min-height: 33px !important;
  --arrowpanel-padding: 0.4em !important;
  --arrowpanel-dimmed: color-mix(
    in srgb,
    #1d1d38fa 40%,
    transparent
  ) !important;
  --arrowpanel-dimmed-further: color-mix(
    in srgb,
    #1d1d38fa 50%,
    transparent
  ) !important;
  --arrowpanel-dimmed-even-further: color-mix(
    in srgb,
    #1d1d38fa 60%,
    transparent
  ) !important;
  --lwt-accent-color: #441bd8b2 !important;
  --tabs-navbar-shadow-size: 1px !important;
  --my-border-color: #9400ff !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --panel-disabled-color: #99999990 !important;
  --my-gradient: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  --arrowpanel-background: #1515697e !important;
  --lwt-text-color: #c3c3c3 !important;
  --arrowpanel-color: #fff !important;
  --arrowpanel-border-color: #4d4dfe50 !important;
  --lwt-popup-brighttext-url-color: #4da6ff !important;
  --panel-description-color: #1d1d3bfa !important;
  --lwt-toolbar-field-background-color: #2f2a3c00 !important;
  --lwt-toolbar-field-color: #e5e5e6 !important;
  --lwt-toolbar-field-border-color: #4d4dfe40 !important;
  --lwt-toolbar-field-focus: #242343fc !important;
  --lwt-toolbar-field-focus-color: #fff !important;
  --toolbar-field-focus-border-color: #4d4dfe !important;
  --lwt-toolbar-field-highlight: #3b439b !important;
  --lwt-toolbar-field-highlight-text: #eaeaea !important;
  --lwt-tab-text: #fff !important;
  /*  --lwt-selected-tab-background-color: #11092300 !important;
  --lwt-background-tab-separator-color: #0a090c !important;*/
  --toolbar-bgcolor: #4d4dfe !important;
  --toolbarseparator-color: #4d4dfe70 !important;
  --chrome-content-separator-color: transparent !important;
  /*  --lwt-toolbarbutton-icon-fill: color-mix(in srgb, #4e6bfd 35%, transparent) !important;*/
  --toolbarbutton-icon-fill: #d8d8d9 !important;
  --lwt-toolbarbutton-icon-fill-attention: #4d7afe !important;
  --toolbarbutton-hover-background: #4e6bfd !important;
  --toolbarbutton-active-background: #4e6bfd !important;
  --autocomplete-popup-highlight-background: #3e3b9d !important;
  --toolbarbutton-inner-padding: 5px !important;
  --toolbarbutton-outer-padding: 3px !important;
  --tabs-shadow-size: 1px !important;
  --panel-font-size: 1.1em !important;
  --button-bgcolor: color-mix(in srgb, #4e6bfd 35%, transparent) !important;
  --button-hover-bgcolor: color-mix(
    in srgb,
    #4e6bfd 50%,
    transparent
  ) !important;
  --button-active-bgcolor: color-mix(
    in srgb,
    #4e6bfd 65%,
    transparent
  ) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(
    in srgb,
    #4d4dfeff 30%,
    transparent
  ) !important;
  /*  --lwt-additional-images: url("images/derecha-copy.png"),
    url("images/izquierda-copy.png"), url("images/1.svg") !important;*/
  --lwt-background-alignment: right top, left top, right top !important;
  --lwt-background-tiling: no-repeat, no-repeat, repeat-x !important;
  --uc-tab-line-color: transparent !important;
  --multiselected-color: #ffbd4fee !important; /*linear
    gradient(
      to right,
      #9059ff3a,
      #ff4aa2 40%,
      #ffbd4fee 60%,
      #ff4aa2 80%,
      #9059ff3a
    ) !important;*/
  --lwt-tab-line-color: transparent !important;
  --lwt-tabs-border-color: #4e6bfd !important; /* line between nav-bar and tabs toolbar, also fallback color for border around selected tab */
}

/* Rainbow line in the main menus */

.PanelUI-subView > toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}
/*
.tab-background::after {
	width: -moz-available !important;
	margin-block: 0px !important;
	background-image: linear-gradient(
		to right,
		#9400ff,
		#ba00e5,
		#df06b9,
		#e62da7,
		#f13b95,
		#f64d86,
		#f85f7a,
		#fc7169,
		#f9845b,
		#e8ab52
	) !important;
	position: absolute;
	content: "";
	height: 2px !important;
	left: 0px;
	right: 0px;
	top: 0;
	margin-right: 0px !important;
	margin-left: 0px !important;
	transform: scale(0, 1) !important;
	transform-origin: center center !important;
	opacity: 1 !important;
}

.tab-background[selected="true"]::after {
	transform: scale(1, 1);
}

/* Active tab brightness */

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}
.tab-content:not([selected="true"]) {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

:root:-moz-any([inFullscreen], [tabsintitlebar]) #TabsToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
  color: hsl(240, 9%, 98%) !important;
  text-shadow: 0px 0px 5px #27272793 !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  animation-duration: 0s !important;
}

/* Removes the padding between pinned and unpinned tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]
  > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: var(--lwt-toolbar-field-color) !important;
}

/*
.tabbrowser-tab:hover {
    border-radius: 0.25em;
    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1), inset 0 -2px 0 0 rgba(0, 0, 0, 0.2);
}

/* Show Tab Close buttons only when hovered (slide in using max-width) */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  min-width: 20px !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  max-width: 20px !important;
  opacity: 1 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tab-close-button {
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 0px;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

:root {
  --chrome-nav-bar-controls-border-color: transparent !important;
}

:root {
  background: transparent !important;
}

#main-window {
  background: transparent !important;
}

#TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

.tab-background[selected="true"] {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#nav-bar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

:root[macOSNativeFullscreen]:is(#navigator-toolbox, #sidebar-box) {
  /* Make the toolbar opaque using this color that simulates the -moz-mac-vibrant-toolbar-dark effect. This hides vibrancy, but it also ensures that we can't see #browser through the transparent toolbar. */
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background: transparent !important;
}

/*VIBRANCY (OLDer from reddit)*/

#TabsToolbar,
.tab-background,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

/**----------------------------------------------------------------*
#TabsToolbar {
  position: relative;
  z-index: 1;
}

#TabsToolbar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.3) !important;
  background: transparent !important;
  background-image: linear-gradient(
    rgba(0, 0, 0, 0.1),
    rgba(0, 0, 0, 0.3)
  ) !important;
  right: 0;
  bottom: 0;
  z-index: -1;
}

.tabbrowser-tab .tab-background-inner {
  background: rgba(0, 0, 0, 0.274) !important;
  background-image: linear-gradient(
    rgba(255, 255, 255, 0),
    rgba(0, 0, 0, 0.534)
  ) !important;
  background: transparent !important;
}

.tabbrowser-tab[visuallyselected="true"] .tab-background-inner {
  background-color: transparent !important;
  background-image: linear-gradient(
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.1)
  ) !important;
}
*/
.navigable.subviewbutton:not([disabled], [open], :active):is(:hover),
menu.subviewbutton:not([disabled], :active)[_moz-menuactive],
menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive],
.widget-overflow-list
  .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
.toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])
  > toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #441bd8b2 43%, transparent) !important;
}

/* Colors of the contextual menu */

.menuseparator {
  border-top: 1px solid #3d376279 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  color: white !important;
  background-color: #1d1d3896 !important;
  border: 1px solid #3d3762 !important;
  border-radius: 5px !important;
  padding-block: 0px !important;
  border-color: #2d2762 !important;
}

menu[_moz-menuactive="true"]:not([disabled="true"]),
menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  background-color: #4e6bfd90 !important;
  color: #eaeaea !important;
  --menuitem-hover-background-color: #4e6bfd00 !important;
}

/*"Smaller Urlbar icons "*/

.sharing-icon,
#permissions-granted-icon,
#tracking-protection-icon,
.notification-anchor-icon,
#blocked-permissions-container > .blocked-permission-icon {
  height: 15px !important;
  width: 15px !important;
  margin: 1px !important;
  padding: 0px !important;
}

/*Color of "Track Protection"*/

.protections-popup-category.notFound {
  color: #99999990 !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

/* Verified page color"*/

description#identity-popup-content-owner-label,
description#identity-popup-content-owner,
description#identity-popup-content-verifier,
#identity-popup-securityView-body > button {
  color: #2cf62c !important;
}

/** Gradient line ***

.tab-background {
  position: relative !important;
}

.tab-background:hover::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  position: absolute;
  content: "";
  height: 2px !important;
  left: 0px;
  right: 0px;
  top: 0;
  margin-right: 0px !important;
  margin-left: 0px !important;
  transform: scale(0, 0) !important;
  transform-origin: center center !important;
  opacity: 1 !important;
}

.tab-content[selected="true"]::after {
  transform: scale(1, 1) !important;
}

.tab-content[selected="false"]::after {
  transform: scale(0, 0) !important;
}

/*
  box-shadow: 0 0 20px 0 rgba(0,0,0,0.15),
              0 20px 30px 8px rgba(0,0,0,0.25),
              0 0 0.5px 0.5px rgba(0,0,0,0.3); /* MacOS Style Window Shadow *

#navigator-toolbox {
    box-shadow: inset 0 1px 0.5px rgba(255, 255, 255, 0.1),
        0 0 20px 0 rgba(0, 0, 0, 0.15), 0 20px 30px 8px rgba(0, 0, 0, 0.25),
        0 0 0.5px 0.5px rgba(0, 0, 0, 0.3);
}*/

/*test code from reddit never used prob delete*/

:root #nav-bar,
#titlebar,
.tab-background[selected="true"] {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
#nav-bar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  /*-moz-mac-vibrancy-dark*/
}

#titlebar,
#urlbar,
#nav-bar,
#PersonalToolbar,
.tab-content {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  /*-moz-mac-vibrancy-dark*/
}

/*google searxh box shadow
box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 2px rgba(0, 0, 0, 0.08);
*/

.browser-toolbar:not(.titlebar-color) {
  color: #fff !important;
}

/* Media label "Playing" modified */

tab:not([pinned])[selected]
  .tab-secondary-label.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  background-image: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* background: linear-gradient(
    90deg,
    #1f005c,
    #48005f,
    #680060,
    #830060,
    #9c155f,
    #b22c5e,
    #c5415d,
    #d5585c,
    #e36e5c,
    #ef865e,
    #f89d63,
    #ffb56b
  ) !important;*/

tab:not([pinned], [selected])
  .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  font-weight: bold !important;
  background-image: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  background-size: 100% !important;
  background-repeat: repeat !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: 0px !important;
}

.tab-icon-image:is([pinned]):not([selected]) {
  margin-left: 0px !important;
  margin-top: 0px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  transition-duration: 300ms !important;
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px !important;
  inset-inline-end: -15px !important;
  z-index: 1 !important;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #00000010 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted],
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px !important;
  inset-inline-end: -15px !important;
  z-index: 1 !important;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #1d1d3800 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([crashed], [pinned])[soundplaying]:hover,
.tab-icon-overlay:not([crashed], [pinned])[muted]:hover,
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
  transform: scale(1.1) !important;
  transition-duration: 100ms !important;
  transition-delay: 100ms !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 14px !important;
  width: 14px !important;
  transition-duration: 200ms !important;
}

.tab-icon-overlay:is([pinned])[soundplaying]:hover {
  stroke: white !important;
  color: black !important;
}

/* Rule to display better selecting several tabs */

.tabbrowser-tab[multiselected]:-moz-lwtheme {
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  background-clip: text !important;
  color: transparent !important;
  background-size: 100% !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* --lwt-tab-line-color: linear-gradient(to bottom, #202085, #2020853c) !important;*/

.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]) {
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  background-size: 100% !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  -moz-background-clip: text !important;
  background-clip: text !important;
  -moz-text-fill-color: transparent !important;
}

/* Color of drop-down menus arrows */

#identity-popup,
#permission-popup,
#protections-popup,
.panel-header,
.subviewbutton-back,
.PanelUI-subView,
.subviewbutton-nav::after {
  fill: #4e6bfd !important;
  fill-opacity: 1 !important;
}

/*Color When passing the pointer by the different items of main menus */

.protections-popup-category:hover,
.protections-popup-footer-button:hover,
#protections-popup-show-report-stack:hover > .protections-popup-footer-button,
panelview .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
toolbarbutton.subviewbutton:not([disabled], [open], :active):is(:hover),
.navigable.subviewbutton:not([disabled], [open], :active):is(:hover),
menu.subviewbutton:not([disabled], :active)[_moz-menuactive],
menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive],
.widget-overflow-list
  .toolbarbutton-1:not([disabled], [open], :active):is(:hover),
.toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])
  > toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #4e6bfd 43%, transparent) !important;
}

/*** Line gradient in  Active Tab *

tab:not([pinned])[selected="true"] .tab-background {
  border-radius: 5px !important;
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}*/
tab:not([pinned])[selected="true"] .tab-content {
  /*background-image: url(images/tabbackground.png);*/
  background-image: radial-gradient(
    circle at bottom center,
    #551dfc,
    #1b0034d3
  ) !important;
  margin-bottom: 0px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
  border-radius: 0px !important;
}
/*
tab:is([pinned])[selected="true"] .tab-background {
	-height: 33px !important;
}*/

tab:is([pinned])[selected="true"] .tab-content {
  /* background-color: #161742 !important;*
  background-image: linear-gradient(
    90deg,
    #551dfc,
    #1293dd,
    #551dfc
  ) !important;*/
  background-image: radial-gradient(
    circle at bottom center,
    #551dfc,
    #1b0034d3
  ) !important;
  border-radius: 0px !important;
}
/*
tab:is([pinned]):not([selected="true"]) .tab-content {
	-height: 33px !important;
}

/*
.tab-content[selected="true"] {
  transition-duration: 0ms !important;
}

/**Move the label of the eyelashes to the vertical center of the tab */

.tab-label {
  text-shadow: 1px !important;
}

/**Hover mouse background by passing by eyelashes not selecteds*/

.tabbrowser-tab:hover
  > .tab-stack
  > .tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
  height: 32px !important;
}

/*** Buttons on the Personalize Toolbar */

.customizationmode-button {
  background-color: #4e6bfd65 !important;
  border-color: #4e6bfd !important;
  color: #ccc !important;
  font-weight: 700 !important;
}

.customizationmode-button:is(:active, :hover):not([disabled]),
.customizationmode-button[open],
.customizationmode-button[checked] {
  background-color: #2b2a80 !important;
  color: white !important;
  border-color: rgb(77, 77, 254) !important;
}

#customization-done-button:is(:active, :hover):not([disabled]) {
  background-color: #4e6bfd65 !important;
}

#customization-done-button {
  color: #fff !important;
  font-weight: 700 !important;
  border-color: rgb(117, 117, 117) !important;
  background-color: #4e6bfd !important;
}

/* Safe Firefox pages */

#identity-box[pageproxystate="valid"].chromeUI > .identity-box-button {
  background-color: #2e3075 !important;
}

#identity-box[pageproxystate="valid"].notSecureText
  > .identity-box-button:hover:not([open]),
#identity-box[pageproxystate="valid"].chromeUI
  > .identity-box-button:hover:not([open]) {
  background-color: #3e3bad !important;
}

#identity-box[pageproxystate="valid"].notSecureText
  > .identity-box-button[open="true"],
#identity-box[pageproxystate="valid"].chromeUI
  > .identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/*** URLBAR Focus ******

#urlbar[focused="true"] {
    background: linear-gradient(#161742a6, #18151e26) !important;
    /* border: 1px solid transparent !important;*
    border-image: 1 1 1 1
        linear-gradient(
            90deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;
    border-image: 9px !important;*/

/*	border-radius: 9px !important;*
}*/
#urlbar[focused="true"] #urlbar-background {
  background-image: url(images/noise-512x512.png) !important;
  background-color: #24095a7b !important;
  backdrop-filter: blur(32px) !important;
  -webkit-backdrop-filter: blur(32px) !important;
  background: linear-gradient(#24095a7b, #18151e) !important;
  /*border-radius: 9px !important;*/
  /***	border-image: 1 1 1 1
        linear-gradient(
            270deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;***/
}

/* Upper images */

#navigator-toolbox {
  background-image: var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
}

/* Hide titlebar spaces */

.titlebar-spacer {
  display: none !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px !important;
  inset-inline-end: -15px;
  z-index: 1 !important;
  margin-right: 16px !important;
  color: #e6fcff !important;
  background-color: #1d1d38bb !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted],
.tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px !important;
  inset-inline-end: -15px !important;
  z-index: 1 !important;
  margin-right: 16px !important;
  color: #ffffff !important;
  background-color: #1d1d3850 !important;
  fill-opacity: 0.9 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover,
.tab-icon-overlay:not([crashed])[muted]:hover,
.tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 15px !important;
  width: 15px !important;
}

/* Active tab brightness *

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #1b0034d3 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}

.tab-background::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background: linear-gradient(
    to right,
    #9059ff3a,
    #ff4aa2 40%,
    #ffbd4fee 60%,
    #ff4aa2 80%,
    #9059ff3a
  ) !important;
  position: absolute;
  content: "";
  height: 2px;
  left: 0px;
  right: 0px;
  top: 0;
  margin-top: 0px !important;
  margin-right: 0px !important;
  transform: scale(0, 1) !important;
  transform-origin: center center;
  opacity: 1 !important;
}

.tab-background[selected="true"]::after {
  transform: scale(1, 1) !important;
}

/***inactive*/

.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover)
  .tab-icon-image {
  opacity: 0.6 !important;
  filter: grayscale(0.8), brightness(0.4), contrast(20%) !important;
}

/*** Mouse Hover Background by passing by non-selected tabs *

.tabbrowser-tab
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-image: linear-gradient(
		180deg,
		#551dfc,
		#531cf7,
		#4e1aeb,
		#4717d8,
		#3e14c1,
		#350fa9,
		#2b0b90,
		#220878,
		#1b0564,
		#150354,
		#12014a,
		#110046
	) !important;
}
/*  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  border-radius: 5px !important;*
}

/***Rule to visualize better selecting several tabs****/

.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]) {
  background-color: color-mix(in srgb, #1b0034d3 30%, transparent) !important;
}

/* Design of the plus/newtab button */

toolbar
  #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active):hover
  > .toolbarbutton-icon {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  border-radius: 20px 20px 20px 20px !important;
}

toolbar
  #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :hover:active)
  > .toolbarbutton-icon {
  border-bottom: 1px solid #ffffff30 !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  /* box-shadow: inset 0 0 10px #0000004d !important;*/
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

:root {
  --toolbarbutton-border-radius: 5px !important;
}

#urlbar-input-container > box:hover,
#urlbar-input-container > box[open],
#main-menubar > menu,
.titlebar-button:hover,
#scrollbutton-up,
#scrollbutton-down,
#page-action-buttons > :hover,
.panel-arrowcontent,
.urlbarView-row-inner,
.search-one-offs button,
.subviewbutton-back,
.toolbaritem-combined-buttons > toolbarbutton,
#PopupSearchAutoComplete,
menupopup {
  border-radius: 5px !important;
}

.panel-arrowcontent {
  margin-inline-end: 0 !important;
}

.panel-arrow {
  margin-inline: 17px !important;
}

menupopup {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#nav-bar {
  box-shadow: inset 0 0 20px 5px hsla(0, 0%, 0%, 0.5) !important;
}

.subviewbutton.bookmark-item {
  padding-block: 4px !important;
}

.subview-subheader {
  display: -moz-box !important;
}

/*
░▀█▀░█▀█░█▀█░█░░░█▀▄░█▀█░█▀▄
░░█░░█░█░█░█░█░░░█▀▄░█▀█░█▀▄
░░▀░░▀▀▀░▀▀▀░▀▀▀░▀▀░░▀░▀░▀░▀
Contains navbar, urlbar, and etc*/

.browser-toolbar:-moz-lwtheme-darktext,
.browser-toolbar:-moz-lwtheme-brighttext {
  background: var(--toolbar-bgcolor) !important;
  /*var(--bf-tab-toolbar-bg)*/
}

/*
#nav-bar {
  box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1), inset 0 -2px 0 0 rgba(0, 0, 0, 0.2),
    inset 0 1 0 var(--lwt-toolbar-field-border-color) !important;
}

/* Selected Tab - Box Shadow */

#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  box-shadow: 0 0 1px rgba(91, 91, 122, 0.486),
    5px 3px 6px rgba(91, 91, 122, 0.486), 4px 4px 2px rgba(91, 91, 122, 0.486) !important;
  /*border-top: 3px solid transparent !important;*/
  /*border-image: 1 0 0 0
        linear-gradient(
            90deg,
            #9400ff,
            #ba00e5,
            #df06b9,
            #e62da7,
            #f13b95,
            #f64d86,
            #f85f7a,
            #fc7169,
            #f9845b,
            #e8ab52
        ) !important;*/
}

/* Hover over tabs *

.tabbrowser-tab:hover .tab-background:not([selected]) {
background-image: radial-gradient( circle farthest-corner at 32.7% 82.7%,  rgba(173,0,171,1) 8.3%, rgba(15,51,92,1) 79.4% )!important;
} /*
  margin-top: 0px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
  height: 32px !important;
  border-radius: 5px !important;
  border-top: 3px solid transparent !important;
  border-radius: 5px !important;
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}
*/
.tab-content[selected="hover"] {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  margin-top: 0px !important;
  margin-bottom: 0px !important;
  border-radius: 5px !important;
}

/* Mouse Hover Background by passing by non-selected tabs *

.tabbrowser-tab:hover
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-image: radial-gradient(
		circle at bottom center,
		#551dfc,
		#000134d3
	) !important;
	border-top: 2px solid transparent !important;
	border-image: 1 0 0 0
		linear-gradient(
			90deg,
			#9400ff,
			#ba00e5,
			#df06b9,
			#e62da7,
			#f13b95,
			#f64d86,
			#f85f7a,
			#fc7169,
			#f9845b,
			#e8ab52
		) !important;
}

/***inactive background tab
.tabbrowser-tab:not([selected="true"]):not([multiselected="true"])
  .tab-background {
  background-color: color-mix(in srgb, currentColor 8%, transparent) !important;
}

/*tooltip dark theme*/

tooltip {
  -moz-appearance: none !important;
  color: #fff !important;
  background-color: #1d1d3b !important;
  /*border-color: #E55B0A !important;*/
  border: 1px solid transparent !important;
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
  border-radius: 4px !important;
}

#urlbar-zoom-button[animate="true"] {
  animation-name: none !important;
}

/*** Fancy tab container label in url bar *

#page-action-buttons {
  height: 24px !important;
  display: flex !important;
}

/*
#userContext-icons {
    position: relative !important;
    padding-inline: 8px !important;
    margin: 0 !important;
    color: var(--identity-tab-color) !important;
}

#userContext-icons::before {
    content: "" !important;
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    background: var(--identity-tab-color) !important;
    border-radius: 99px !important;
    border-radius: 5px !important;
    opacity: 0.1 !important;
}
*/

.tab-close-button {
  margin-inline-start: 0px !important;
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

/**prevent tab overflow to expand causing height changes *

#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
	min-height: unset !important;
}

/* sidebar bgcolor to proton dark */

#sidebar-header,
#sidebar-search-container,
#bookmarks-view-children,
#historyTree {
  background-color: #4e6bfd65 !important;
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
  appearance: auto !important;
}

#bookmarksPanel,
#history-panel {
  background-color: transparent !important;
  background: #4e6bfd65 !important;
  appearance: auto !important;
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

/* synced tabs sidebar bgcolor */

#template-container.content-scrollable {
  background-color: transparent !important;
  background: transparent !important;
}

.sidebar-splitter {
  display: none !important;
}

/** URL Bar *

:root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme),
:root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) {
  --focus-outline-color: -moz-accent-color !important;
}


:root[tabsintitlebar][lwt-theme]:not(:-moz-window-inactive)
    #urlbar[open]
    > #urlbar-background {
  backfr: linear-gradient(
        90deg,
        #9400ff,
        #ba00e5,
        #df06b9,
        #e62da7,
        #f13b95,
        #f64d86,
        #f85f7a,
        #fc7169,
        #f9845b,
        #e8ab52
    ) !important; /* Like: --toolbar-field-focus-border-color*
}

.toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

:root[uidensity="compact"] .toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

:root[uidensity="touch"] .toolbar-items,
.tabbrowser-tab {
  max-height: unset;
}

:root:not([uidensity="touch"]) #tabbrowser-arrowscrollbox {
  --scrollbtn-vertical-padding: 0px !important;
  --scrollbtn-vertical-border: 0px !important;
  --scrollbtn-border-radius: 0px !important;
}
**!important
/* Multi Selected Color *

#tabbrowser-tabs:not([movingtab])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab
  > .tab-stack
  > .tab-background[multiselected]:not([selected]):-moz-lwtheme {
  background-image: linear-gradient(
      var(--toolbar-bgcolor, transparent),
      var(--toolbar-bgcolor, transparent)
    ),
    linear-gradient(var(--toolbar-bgcolor), var(--toolbar-color)) !important;
}

.tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  background: color-mix(in srgb, currentColor 65%, transparent) !important;
  opacity: 0.3 !important;
}

#TabsToolbar[brighttext]
  .tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  opacity: 0.15 !important;
}

/** Clipped tabs - Letters cleary *******************************************/

#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  visibility: collapse !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}

.tab-background > .tab-context-line {
  flex: 1 !important;
}

#urlbar-background,
#urlbar {
  background-image: linear-gradient(#161742a6, #18151e26) !important;
}
/*
#urlbar {
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}*/

#urlbar[focused="true"] #urlbar-background {
  background: linear-gradient(#161742a6, #18151e26) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
}

#urlbar[open="true"] #urlbar-background {
  background: linear-gradient(#161742a6, #18151e26) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
}

#urlbar[focused="true"] {
  background: linear-gradient(#161742a6, #18151e26) !important;
  border: 1px solid transparent !important;
}

#urlbar[focused="true"] #urlbar-background {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px) !important;
  background: linear-gradient(#161742a6, #18151e26) !important;
}

:root {
  --toolbarbutton-inner-padding: 7px !important;
  --proton-tab-block-margin: 0px 0px !important;
  --tabs-shadow-size: 1px !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --urlbar-icon-padding: 4px !important;
  --panel-font-size: inherit !important;
  --arrowpanel-padding: 0.4em !important;
  --lwt-accent-color: #161742a6 !important;
}

/**** Gradient Line *
.tab-background {
    position: relative !important;
}
.tab-background::after {
    width: 96% !important;
    margin-block: -5px !important;
    background: var(--panel-separator-zap-gradient);
    position: absolute;
    content: '';
    height: 1px;
    left: 6;
    right: 0;
    top: 0;
    margin-top: -1px !important;
    margin-left: 2px !important;
    transform: scale(0, 1);
    transform-origin: center center;
    opacity: 1 !important;
}
.tab-background[selected='true']::after {
    transform: scale(1, 1);
}

/* Active Tab Brightness *
.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #c5c5c5 0%, transparent) !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}
/*** important **/
#personal-bookmarks menupopup[placespopup] {
  appearance: auto !important;
  background: var(--arrowpanel-background) !important;
  color: var(--arrowpanel-color);
}

#personal-bookmarks menupopup menu:hover,
#personal-bookmarks menupopup menuitem:hover {
  appearance: auto !important;
  background-color: #4d4dfe40 !important;
}

#personal-bookmarks .bookmarks-actions-menuseparator {
  appearance: auto !important;
  background-color: var(--panel-separator-color) !important;
}

/* Left space of the first tab */

.tabbrowser-tab:first-child:not([pinned]) {
  margin-left: 0px !important;
}

/* Reduce spacing between pinned and regular tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0px !important;
}

/* Menu items border and padding */

menupopup > menuitem,
menupopup > menu {
  border-radius: 4px !important;
  padding-inline-start: 0.5em !important;
}

menugroup > menuitem:first-child {
  padding-left: 4px !important;
}

menugroup > menuitem:last-child {
  padding-right: 4px !important;
}

/* context menu top buttons radius */

menugroup > menuitem {
  border-radius: 4px !important;
}

menugroup > menuitem > hbox > image {
  border-radius: 4px !important;
}

menuseparator {
  border-top: 1px solid var(--panel-separator-color) !important;
  padding: 0 !important;
}

.menupopup-arrowscrollbox {
  background: var(--arrowpanel-background) !important;
  background-color: var(--arrowpanel-background) !important;
  color: var(--arrowpanel-color);
}

/*******NEW PART2 KIDS CODE*****/

/*Shadow of eliminated active tab and transparency of the Toolbar tab and top edge*/
#TabsToolbar:not([brighttext])
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background {
  box-shadow: 0 0 1px rgba(123, 123, 138, 0.952), 5px 3px 6px rgb(1 1 1 / 16%),
    4px 4px 2px rgb(0 0 0 / 23%) !important;
}

#tabbrowser-tabs {
  --lwt-tab-line-color: transparent !important;
}

/*Center NEW TAB Button*/

#TabsToolbar .toolbarbutton-1 {
  padding-top: 0px !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
}

#identity-icon {
  width: 14px !important;
}

description#identity-popup-content-owner-label,
description#identity-popup-content-owner,
description#identity-popup-content-verifier,
#identity-popup-securityView-body > button {
  color: #2cf62c !important;
}

/* COLOUR OF URL BAR ADDRESS UNDERLINE */

.urlbarView div {
  border-image: 1 0 0 0
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
  border-width: 1px !important;
}

/* Tab label mask. */

.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 2em !important;
}

#urlbar[focused="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

/* adding drag space before 1st tab *

:root[sizemode="compact"] .titlebar-spacer[type="pre-tabs"] {
  display: -moz-box !important;
  width: 5px !important;
}

:root:not([sizemode="compact"]) .titlebar-spacer[type="pre-tabs"] {
  display: -moz-box !important;
  width: 5px !important;
}

/*Allow window dragging around the toolbar buttons.*/

#nav-bar,
#nav-bar > .customization-target {
  -moz-box-align: center !important;
}

/*** Unhide the tab close button on hover when it is the selected tab and not pinned*/

#TabsToolbar .tabbrowser-tab[selected]:not([pinned]):hover .close-icon {
  display: inline-block !important;
}

/*** dark theme header */

:root[lwt-default-theme-in-dark-mode] #navigator-toolbox {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background: transparent !important;
}

/* toolbar area background  */

.browser-toolbar:not(.titlebar-color) {
  background: transparent !important;
}

/*** dark theme
:root[lwthemetextcolor="bright"] #urlbar:not([focused="true"], [open]) > #urlbar-background, #searchbar:not(:focus-within),
:root[lwt-default-theme-in-dark-mode] #urlbar:not([focused="true"], [open]) > #urlbar-background, #searchbar:not(:focus-within) {
    background-color: #55545270 !important;
}

/*** This sets a color for border around tabs and between tabs & navigation toolbars. Set to transparent to remove the border.*

#navigator-toolbox {
  --tabs-border-color: transparent !important;
}

#navigator-toolbox:not([movingtab]) > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: transparent;
}
*/
#TabsToolbar .toolbarbutton-1 > .toolbarbutton-badge-stack,
#TabsToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  border-radius: 5px !important;
}

.tabbrowser-tab {
  padding-inline: 0 !important;
}

.tab-content[pinned] {
  padding-inline: 11px !important;
}

/***

.tab-stack:hover > .tab-background::before {
  background-color: inherit;
}

.tab-stack > .tab-background[selected]::after {
  background-color: inherit;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
}

/*background-image: linear-gradient(var(--lwt-tab-line-color),var(--lwt-tab-line-color));


*/

.tab-content {
  justify-content: center !important;
}

.tab-label-container,
.tab-icon-stack {
  flex: 1 !important;
}

/* "Customize search bar" *

.browserContainer > findbar:-moz-lwtheme {
  color: #d3d3d3 !important;
}

.findbar-find-status[status="notfound"] {
  color: #00dbfd !important;
}

#customization-container {
  color: #d3d3d3 !important;
}

/* "Menu with fewer spaces" */

menupopup > menuitem,
menupopup > menu {
  padding-block: 0.4em !important;
}
/*"popup_highlight"*/
.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]
  > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: var(--lwt-toolbar-field-color) !important;
}

.tabbrowser-tab > .tab-stack > .tab-content > .tab-close-button {
  border-radius: 5px !important;
}

#PersonalToolbar {
  background-color: #3e3b9dbe !important;
  background-image: linear-gradient(#161742cc, #18151e98) !important;
  backdrop-filter: blur(32px) !important;
  -moz-backdrop-filter: blur(32px) !important;
}

#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  appearance: auto !important;
}

/* Show Tab Close buttons only when hovered (slide in using max-width) */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  min-width: 20px !important;
  opacity: 0 !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  max-width: 20px !important;
  opacity: 1 !important;
}

.tab-text,
.tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.subview-subheader {
  display: -moz-box !important;
}

#urlbar-container {
  padding-block: 2px !important;
}

#urlbar-background {
  margin-block: 2px !important;
}

/* Back button */

#back-button > .toolbarbutton-icon {
  --backbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

#forward-button > .toolbarbutton-icon {
  --forwardbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

.toolbarbutton-1:not([disabled]):hover > .toolbarbutton-icon,
.toolbarbutton-1:not([disabled]):hover > stack,
.toolbarbutton-1[open="true"] > .toolbarbutton-icon,
.toolbarbutton-1[open="true"] > stack,
.toolbarbutton-1[checked="true"] > .toolbarbutton-icon,
.toolbarbutton-1[checked="true"] > stack {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 6px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

.titlebar-placeholder {
  border: none !important;
}

.titlebar-spacer {
  border: none !important;
}

.tabbrowser-tab:hover
  > .tab-stack
  > .tab-background:not([selected="true"])
  > spacer {
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/* To be able to see the top border of the tab*/

.tab-stack {
  margin-top: 0px !important;
}

/*container tabs indicator customization. Line Position:bottom Default style */

.tab-context-line {
  -moz-box-ordinal-group: 2;
  margin-block: 0 !important;
}

.tabbrowser-tab .tab-stack {
  border-radius: 5px !important;
}

menupopup > menuitem,
menupopup > menu {
  border-radius: 5px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
}

/* context menu top left button padding */

menugroup > menuitem:first-child {
  border-radius: 5px !important;
}

/* context menu top right button padding */

menugroup > menuitem:last-child {
  border-radius: 5px !important;
}

/* context menu top buttons radius */

menugroup > menuitem {
  border-radius: 5px !important;
}

menugroup > menuitem > hbox > image {
  border-radius: 5px !important;
}

/* for menu item with submenu  */

.panel-header > .subviewbutton {
  border-radius: 5px !important;
}

/***toolbar hamburger menu gradient color*/

#appMenu-fxa-separator {
  border-image: 1 1 1 1
    linear-gradient(
      to right,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}

/***STATUS PANEL BOOKMARKS MENU PANEL MENU*/

#statuspanel-label {
  -moz-appearance: none !important;
  color: #fff !important;
  background-color: #2b2a33 !important;
  border: 1px solid transparent !important;
  border-image: 1 1 0 0
    linear-gradient(
      to right,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}
/*     linear-gradient(
      to right,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;*/

/*container tab label color when selected */

.tabbrowser-tab[selected="true"][class*="identity-color-"] .tab-label {
  color: var(--identity-tab-color) !important;
}

/* Fix awful icon colour */

#star-button[starred],
.urlbarView-row[source="bookmarks"]
  > .urlbarView-row-inner
  > .urlbarView-no-wrap
  > .urlbarView-favicon,
#urlbar-engine-one-off-item-bookmarks {
  fill: #4d4dfe !important;
}

/* Remove bottom radius and bottom margin from current tab */

.tab-background[selected="true"] {
  border-bottom-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
  border-radius: 5px !important;
  margin-bottom: 0px !important;
}

/*** Theme - Compatibility */
/*** Header Image *
:root[lwtheme-image] {
  background-image: var(--lwt-header-image) !important;
  background-repeat: no-repeat !important;
  background-position: right top !important;
}

:root[lwtheme-image] #navigator-toolbox:-moz-lwtheme {
  background-image: var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
  background-color: transparent !important;
}

/* Original:  var(--lwt-accent-color)*/

.tabbrowser-tab {
  padding-inline: 0px !important;
}

.tab-background > .tab-context-line {
  flex: 1 !important;
}

/***  Active Tab Brightness *

.tab-content[selected="true"] {
  background-image: color-mix(in srgb, #c5c5c5 90%, transparent) !important;
  border-radius: 5px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/*** show the secondary label when video is in PiP */

.tab-secondary-label[pictureinpicture] {
  display: -moz-box !important;
}

.tab-secondary-label:is([pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -1px !important;
  color: #9400ff !important;
  font-size: 0.5rem !important;
  font-weight: bold !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/* Left space of the first tab */

.tabbrowser-tab:first-child:not([pinned]) {
  margin-left: 0px !important;
}

/* moves context-line to the bottom */

.tab-context-line {
  -moz-box-ordinal-group: 2 !important;
}
/*** Search Bar
#searchbar {
  border: 1px solid transparent !important;
  border-image: 1 1 1 1
    linear-gradient(
      90deg,
      #9400ff,
      #ba00e5,
      #df06b9,
      #e62da7,
      #f13b95,
      #f64d86,
      #f85f7a,
      #fc7169,
      #f9845b,
      #e8ab52
    ) !important;
}

/** Inactive tabs: Separator line style *
.tab-background:not([selected="true"]):not([multiselected="true"]):not([beforeselected-visible="true"]) {
    border-right: 1px solid rgba(0, 0, 0, 0.2) !important;
    /*  border-left: 1px solid rgba(0, 0, 0, 0.2) !important;*
}
/* Remove padding between tabs */

.tabbrowser-tab {
  padding-left: 0 !important;
  padding-right: 0 !important;
}
/**? Usercontext Containter Tabs BG Tab Context**/
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-image: linear-gradient(
    to right,
    transparent 2%,
    var(--identity-tab-color) 2%,
    var(--identity-tab-color) 98%,
    transparent 98%
  ) !important;
  height: 2px !important;
  margin-bottom: 0px !important;
  border-radius: 5px !important;
}

:root[sizemode="normal"] #nav-bar {
  border-radius: 5px 5px 5px 5px !important;
}

.tabbrowser-tab[visuallyselected="false"] {
  --chrome-nav-bar-controls-border-color: transparent !important;
}

/* fancy line for container tabs */

#TabsToolbar
  #tabbrowser-tabs
  .tabbrowser-tab[class*="identity-color"]
  .tab-label {
  text-decoration: underline !important;
  text-decoration-color: var(--identity-icon-color) !important;
  /*font-weight: bold !important;*/
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

tab {
  font-size: 1em !important;
  font-family: sans-serif !important;
}

/* remove padding between tabs and also z-index uhhhhhhh forgot what thats for *

.tabbrowser-tab {
  padding-inline-start: 0 !important;
  padding-inline-end: 0 !important;
  z-index: 1 !important;
}

#urlbar > #urlbar-input-container::before {
	content: "";
	display: -moz-box;
	height: 28px !important;
}

#urlbar {
	--urlbar-min-height: 28px !important;
	--urlbar-icon-padding: 4px !important;
	font-size: 1.35em !important;
	overflow: hidden !important;
}*/

#urlbar {
  min-height: 28px !important;
  margin-block: 0px 0px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

#searchbar {
  min-height: 28px !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

#urlbar[focused="true"] #urlbar-background {
  background-color: #1b1a38f6 !important;
  border: transparent !important;
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

/*----------------------------------------------------------------
.tabbrowser-tab:not([selected="true"]) .tab-label {
  color: #99999990 !important;
}

/* Latest Tab & New tab margin *

#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab[last-visible-tab] {
  margin-inline-end: 5px !important;
}

:is(:root[sizemode="normal"], :root[gtktiledwindow="true"])
  .tabbrowser-tab:first-of-type {
  margin-inline-start: 1px !important;
}

.tabbrowser-tab::after,
.tabbrowser-tab::before {
  border-inline-start: 1px solid var(--toolbarbutton-active-background);
}

.tabbrowser-tab::before {
  margin-inline-start: -1px !important;
}

:root[tabsintitlebar]:not([extradragspace])
  #toolbar-menubar[autohide="true"]
  + #TabsToolbar
  .tabbrowser-tab::after,
.tabbrowser-tab:hover::after,
.tabbrowser-tab[multiselected]::after,
#tabbrowser-tabs:not([movingtab]) .tabbrowser-tab[beforehovered]::after,
#tabbrowser-tabs:not([movingtab]) .tabbrowser-tab[before-multiselected]::after {
  margin-block-start: 3px;
  margin-block-end: 0px;
}

#tabbrowser-tabs:not([movingtab])
  .tabbrowser-tab[beforeselected-visible]::after,
#tabbrowser-tabs[movingtab] .tabbrowser-tab[visuallyselected]::before,
.tabbrowser-tab[visuallyselected]::after,
.tabbrowser-tab[visuallyselected]::before {
  border-color: var(--tabs-border-color);
  margin-block-start: 0;
  margin-block-end: 1px;
}

.tabbrowser-tab::after,
.tabbrowser-tab[visuallyselected]::before,
.tabbrowser-tab:first-of-type::before,
#tabbrowser-tabs[movingtab] .tabbrowser-tab[visuallyselected]::before {
  content: "";
  display: block;
}

.tabbrowser-tab:not([selected], [beforeselected-visible])::after {
  content: "";
  display: block;
  border-left: 1px solid currentColor;
  margin-left: -1px;
  opacity: 0.3;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[last-visible-tab]::after {
  border-width: 0;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[pinned]::after {
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
}

#tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[pinned] {
  min-height: calc(var(--tab-min-height) + 0px) !important;
}*/

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.scrollbox-clip > scrollbox {
  padding-left: 0px !important;
  padding-right: 0px !important;
}

/*----------------------------------------------------------------
.customization-target:is(toolbarbutton, toolbaritem, .toolbarbutton-badge) {
  background-color: hsl(224, 100%, 71%) !important;
  color: var(currentColor) !important;
  box-shadow: 0 1px 1px -1px hsla(0, 0%, 100%, 0.3) inset,
    0 -1px 1px -1px hsla(0, 0%, 0%, 0.5) inset,
    0 1px 1px hsla(240, 3%, 12%, 0.15), 0 1px 3px hsla(240, 3%, 12%, 0.2) !important;
  min-width: 10.5px !important;
  height: 10.5px !important;
  padding: 0 2px 2px !important;
  vertical-align: center !important;
  font-size: 9px !important;
  font-weight: 600 !important;
  line-height: 10px !important;
  filter: none !important;
  margin: -6px -6px 0 -6px !important;
}*/

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#TabsToolbar:-moz-lwtheme-brighttext,
.table-widget-empty-text:-moz-lwtheme-brighttext {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

.tabbrowser-tab .tab-label:-moz-lwtheme-brighttext {
  color: #fff !important;
}

/* navbar shadow */

#navigator-toolbox {
  position: relative !important;
  box-shadow: 0px 0px 8px -5px hsla(240, 4%, 0%, 0.5),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.2) !important;
}

/* Apply dimmed background for inactive tabs *
.tabbrowser-tab:hover
    > .tab-stack
    > .tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 2%, transparent) !important;
}
.tabbrowser-tab
    > .tab-stack
    > .tab-background:not([selected], [multiselected]) {
    background-color: color-mix(in srgb, currentColor 2%, transparent) !important;
}

*/
#TabsToolbar tab:not([visuallyselected="true"]):not(:hover) .tab-close-button {
  opacity: 0 !important;
}

#TabsToolbar tab:hover .tab-close-button {
  opacity: 1 !important;
}
/*
#TabsToolbar tab .close-icon:hover {
  -moz-image-region: unset !important;
  background-clip: padding-box !important;
}

/* Hide close buttons on tabs *

tab[selected="true"] > stack > hbox > .tab-close-button {
  transition: 0.25s all ease-in-out !important;
}
*/
tab:not([selected="true"]) > stack > hbox > .tab-close-button {
  transform: scale(0) !important;
  transition: 0.25s all ease-in-out !important;
}

/* Maintain original tab size when scrollstrip enables, otherwise tab size will awkwardly increase
also the default border-radius makes it hard to click the arrows at the corner of the window*/

#scrollbutton-up,
#scrollbutton-down {
  border: 0px !important;
  border-radius: 0px !important;
  padding: 0px !important;
}

/* but dont drag on buttons, */

.tab-close-button,
.tab-icon-overlay {
  -moz-window-dragging: no-drag !important;
}

#urlbar .urlbar-input-box {
  text-align: center !important;
}

#wrapper-urlbar-container #urlbar {
  height: var(--urlbar-height) !important;
}

/* Make all tabs small except selected one *
.tabbrowser-tab[fadein]:not([selected]):not([pinned]) {
  max-width: 145px !important;
  min-width: 115px !important;
}

/* Selected tabs width *
.tabbrowser-tab[selected][fadein]:not([pinned]) {
  /*max-width: 225px !important;*
  min-width: 205px !important;
}*/

#PersonalToolbar,
.TabsToolbar,
.tab-background-inner,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

.theme-body {
  background: transparent !important;
}

#urlbar,
#searchbar {
  -moz-window-dragging: no-drag !important;
  min-height: 28px !important;
  /*  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;*/
}

/** Add tab separators *

#TabsToolbar #tabbrowser-tabs .tabbrowser-tab .tab-background {
  box-shadow: -1px 0px 0px -1px var(--lwt-background-tab-separator-color),
    1px 0px 0px 0px var(--lwt-background-tab-separator-color) !important;
}
/* box-shadow: 0 0px 0px 0px white, 0 0px 0px 0px white,
    5px 0 0px -4px var(--lwt-background-tab-separator-color),
    -4px 0 0px -4px var(--lwt-background-tab-separator-color) !important;
}

/* Add separator to newtab button. *

#tabs-newtab-button {
    box-shadow: 0 0px 0px 0px white, 0 0px 0px 0px white, 0px 0 0px 0px var(--lwt-background-tab-separator-color), -5px 0 0px -4px var(--lwt-background-tab-separator-color) !important;
}

/* hide separators and yeah. yeah *

#tabs-newtab-button:hover,
#tabbrowser-tabs
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:is([beforeselected-visible], [before-multiselected], [selected], [beforehovered], [visuallyselected], [multiselected], :hover, [collapsed], [last-visible-tab])
  .tab-background,
#tabbrowser-tabs
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:is([beforeselected-visible], [before-multiselected], [selected], [beforehovered], [visuallyselected], [multiselected], :hover, [collapsed], [last-pinned-tab])
  + #tabs-newtab-button {
  box-shadow: none !important;
}

/* Hide forward button only when disabled*
#forward-button[disabled="true"] {
	display: none !important;
}

/* Hide back button only when disabled*
#back-button[disabled="true"] {
	display: none !important;
}

/* Searchbar: Ensure toolbar height doesn't augment when searchbar is visible */

#urlbar-container,
#search-container {
  padding-block: 0 !important;
}

/* Mixed content including neterror *
#identity-box[pageproxystate="valid"].unknownIdentity~.urlbar-input-box {
    color: #1b1a38f6
}

/* http: and potentially some other insecure connections like ftp: *
#identity-box[pageproxystate="valid"].notSecure~.urlbar-input-box {
    color: #f9845b
}

/* Extension pages *
#identity-box[pageproxystate="valid"].extensionPage~.urlbar-input-box {
    color: #ba00e5
}

/* Internal about: and chrome:// urls (includes reader-view) *

#identity-box[pageproxystate="valid"].localResource~.urlbar-input-box,
#identity-box[pageproxystate="valid"].chromeUI~.urlbar-input-box {
    color: #9400ff;
}

/* Shadow above content */

#navigator-toolbox {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
}

/*
.urlbarView-row[label="Firefox Suggest"]::before {
    display: none !important;
}

.urlbarView-row[label="Firefox Suggest"] {
    margin-top: 0 !important;
}*/

.toolbarbutton-badge {
  color: #ece1fd !important;
  background-color: #4d4dfe40 !important;
  min-width: 14px !important;
  min-height: 14px !important;
  padding: 0px !important;
  margin-right: -10px !important;
}

/* optimize tab drag/drop  movement */

#tabbrowser-tabs[movingtab] .tabbrowser-tab[selected],
#tabbrowser-tabs .tabbrowser-tab[justmoved] {
  will-change: transform !important;
}

/* block our animations while tabs are being dragged & dropped *
#tabbrowser-tabs[movingtab] .tabbrowser-tab */

#tabbrowser-tabs .tabbrowser-tab[justmoved] * {
  transform: none !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar.*/

#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack:before,
.tabbrowser-tab .tab-stack:after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px;
  height: 5px;
  z-index: 2 !important;
}

/* for some reason the gradient on overflowing labels is variable in proton.
it gets bigger when you hover the tab, apparently because the close button gains a background in that condition.
this is ugly in general imo but it's useless with this theme in particular since we put the close button on the right,
meaning it doesn't overlap with the right side of the label at all, which is where the overflowing mask is applied.
so we make the mask size constant. */

.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */

.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */

.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */

.tabbrowser-tab[visuallyselected="true"] {
  z-index: 8 !important;
}

/* multiselected tabs do too, but lower than selected tabs */

.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */

.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 8 !important;
}

/* pinned tabs stack over everything except selected tabs */

.tabbrowser-tab[pinned] {
  z-index: 6 !important;
}

/* and the same formula applies to them too */

.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab) {
  z-index: 7 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected] {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab) {
  z-index: 9 !important;
}

/* the pinnacle of z-index, the pinned, selected, multiselected tab lol */

.tabbrowser-tab[pinned][visuallyselected="true"][multiselected] {
  z-index: 10 !important;
}

#TabsToolbar .tabbrowser-tab {
  padding: 0 !important;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */

.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab)
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/* This colors the folders in the bookmark bar and menu bar */

#PlacesToolbarItems
  toolbarbutton[container="true"]:not([query="true"])
  .toolbarbutton-icon,
:-moz-any(#PlacesToolbarItems, #PlacesChevronPopup, #BMB_bookmarksPopup, #bookmarksMenu, #OtherBookmarksPopup)
  menu[container="true"]:not([query="true"])
  > .menu-iconic-left
  > .menu-iconic-icon {
  fill: #4d4dfe40 !important;
}

/* Change DOWNLOAD ICON color */

.downloadIconShow .button-icon {
  fill: #4d4dfe40 !important;
}

/* change browser tab height in Firefox 91 */

:root {
  --tab-min-height: 33px !important;
}

:root #tabbrowser-tabs {
  --tab-min-height: 33px !important;
}

:root[uidensity="compact"] {
  --tab-min-height: 31px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  padding: 0 !important;
}
/*
:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: calc(var(--tab-min-height)+2px) !important;
}

/* Shows tab audio icons next to the tab icon, and by default removes the tab secondary line *

.tabbrowser-tab:not([pinned]) .tab-icon-stack:is([muted], [soundplaying], [activemedia-blocked]) {
    grid-template-areas: "a s" !important;
}

.tabbrowser-tab:not([pinned]) .tab-icon-overlay:is([muted], [soundplaying], [activemedia-blocked]) {
    grid-area: s !important;
}

.tab-icon-overlay,
.tab-icon-image {
    opacity: 1 !important;
}

#TabsToolbar {
    --user-mute-button-height: 20px;}
    /* default size is 12px, site icon is 16px */

/* menu item padding */

toolbarbutton {
  --arrowpanel-menuitem-padding: 2px 8px !important;
}

#nav-bar {
  box-shadow: inset 0 1px 1px var(--lwt-background-tab-separator-color),
    0 -2px 0 0 color-mix(in srgb, currentcolor 30%, transparent) !important;
}

/* 0 calc(-1 * var(--tabs-navbar-shadow-size)) 0 var(--my-border-color) !important;*/

:root[uidensity="compact"] #urlbar-container,
:root[uidensity="compact"] #search-container {
  padding-block: 0px !important;
}

:root #nav-bar {
  border-top: none !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  border-top: none !important;
}

:root:-moz-window-inactive #TabsToolbar,
:root:-moz-window-inactive #titlebar,
:root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: none !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}

/** Enable urlbar border when focused *
#urlbar:focus-within > #urlbar-background {
  border-color: -moz-accent-color !important;
  border-width: 1px !important;
}

/* highlights the top of active tabs *

.tabbrowser-tab:not([selected="true"]) {
	padding-top: 3px !important;
}
*/
.tabbrowser-tab[selected="true"] {
  padding-top: 0px !important;
}

.tabbrowser-tab:not([visuallyselected="true"]):hover {
  padding-top: 0px !important;
}
#urlbar {
  /** max-width: 70% !important;
 * margin: 0 15% !important;
  /* URL bar and toolbar height */
  --urlbar-height: 28px !important;
  --urlbar-toolbar-height: 32px !important;
}

/* align bookmarks with nav and tabs */

#PersonalToolbar {
  padding: 2px !important;
}

/* sets the height of the tab toolbar
otherwise will change height when tabs overflow */

#TabsToolbar {
  height: 33px !important;
}

:root {
  --tab-min-height: 33px !important;
}
/*
.tabbrowser-tab > stack {
  width: 100%;
  height: 100%;
}

/** Tab - Max Size */

.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
  max-width: none !important;
}

/** Toolbar Height */

:root:not([uidensity="touch"]) #TabsToolbar {
  --toolbarbutton-inner-padding: 9px !important;
}

/** Blend Inactive tabs favicon */

#TabsToolbar
  #tabbrowser-tabs
  .tabbrowser-tab[pending]
  .tab-content:not(:hover)
  .tab-icon-image {
  filter: grayscale(70%) !important;
  transition: filter 0.2s ease-in !important;
  opacity: 1 !important;
}
/*? Overflow */
#tabbrowser-tabs[overflow="true"]
  .tabbrowser-tab[pinned]:is(.tab-background, .tab-stack) {
  min-height: var(--tab-min-height) !important;
}

.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line
  + .tab-loading-burst {
  background-color: var(--identity-tab-color) !important;
  opacity: 0.3 !important;
  border-radius: 5px !important;
}

#tabbrowser-tabs {
  --uc-scrollbutton-margin: 0px;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block-width: var(--uc-scrollbutton-margin, 0px) !important;
}

.tabbrowser-tab {
  padding-inline: 0px !important;
}

/****************************************************************
.tab-context-line {
  display: var(--my-gradient) !important;
}
.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background {
  border-block: 2px solid var(--identity-icon-color, transparent) !important;
}********************************/

/*   "Add/Edit Bookmark": Show "Location" in Ctrl+D doorhanger popup
      Nobody wants to launch Library just to edit bookmark URL.
  */

#editBMPanel_locationRow[collapsed="true"] {
  visibility: visible !important;
}

/*
  §  "Add/Edit Bookmark": Show "Keyword" in Ctrl+D doorhanger popup
  */

#editBMPanel_keywordRow[collapsed="true"] {
  visibility: visible !important;
}

/* Remove margin around download item which is actually clickable, but not highlighted on hover (Download progress popup).
Now whole area of tile should be highlighted and link to downloaded item.
Works with Firefox 90 */

#downloadsListBox > richlistitem > .downloadMainArea {
  height: inherit !important;
}

/* Make open containing folder great again - fill whole height of the tile (Download progress popup).
Works with Firefox 90 */

#downloadsListBox > richlistitem > .downloadButton {
  height: inherit !important;
}

/*
.tabbrowser-tab[selected="true"] .tab-background {
  border-top: 3px solid var(--my-gradient) !important;
}
/* DISABLE EXPANDING START *

#urlbar[breakout][breakout-extend] {
  top: calc(
    (var(--urlbar-toolbar-height) - var(--urlbar-height)) / 2
  ) !important;
  left: 0px !important;
}

#urlbar[breakout][breakout-extend] > #urlbar-input-container {
  height: var(--urlbar-height) !important;
  padding-block: 0px !important;
  padding-inline: 0px !important;
}

/*
#urlbar[breakout][breakout-extend] > #urlbar-background {
  animation-name: none !important;
  /* box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 0px 0px 2px 1px rgb(0 0 0 / 23%) !important;*
}

/* Remove margins around download item button (Download progress popup) - prepare for Firefox 93 (experiments on nightly) */

#downloadsListBox > richlistitem {
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 5px !important;
}

/** BEGIN Rouhdness **/

.tab-background,
menupopup,
.menupopup-arrowscrollbox {
  border-radius: 5px !important;
}

.tab-background {
  border-radius: 5px !important;
  margin-bottom: 0px !important;
}

/* tooltips */

.places-tooltip-box {
  border-radius: 5px !important;
}

/* autosave password notification input fields */

#password-notification-username {
  border-radius: 5px !important;
}

#password-notification-password {
  border-radius: 5px !important;
}

/* SUB MENUS --------------------------------------------------------------------------------------------- */

/* removes the rounded corners from (bookmarks) menu */

.menupopup-arrowscrollbox,
.panel-arrowcontainer,
.panel-arrowbox,
.panel-arrowscrollbox,
menupopup {
  border-radius: 5px !important;
}

/* square off aspects of the download menu (i.e. selection boxes, open in folder button) */

.download-state,
.downloadButton {
  border-radius: 5px !important;
}
/*!important*/
/* tab line *
.tab-background:is([selected], [multiselected]) {
  box-shadow: inset 0 2px var(--my-gradient) !important;}
   /* change this to change the color of the tab line */

/* highlights the top of active tabs *
.tabbrowser-tab:not([selected="true"]) {
  padding-top: 3px !important;
}
.tabbrowser-tab[selected="true"] {
  border-top: 3px solid #0a84ff !important;
  padding-top: 0px !important;
}
/* brings container indicators back to the bottom *
.tab-label-container {
  border-bottom: 1px solid var(--identity-icon-color) !important;
  padding-bottom: 2px;
}

.tab-background[selected] {
  border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;
}*/

:root[uidensity="compact"] .toolbar-items,
.tabbrowser-tab {
  max-height: 32px !important;
}

/* adds the little colored strip on top of the selected tab *
.tabbrowser-tab[selected] .tab-context-line {
  height: 2px !important;
  background-color: #0a84ff !important;
}*/
/*
#urlbar {
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

/** Mega bar, Search bar */

#search-container,
#urlbar-container {
  --urlbar-container-height: 32px !important;
  padding-block: 2px !important;
}

#urlbar,
#searchbar {
  --urlbar-height: 28px !important;
  --urlbar-min-height: 28px !important;
  --urlbar-toolbar-height: 32px !important;
}

#urlbar-input-container {
  --urlbar-icon-padding: 4px !important;
  border: 0 !important;
}

.tab-content {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.tab-stack {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.tabbrowser-tab {
  padding-inline: 0 !important;
}

:root[sizemode="normal"] {
  border-top: none !important;
}

#navigator-toolbox {
  border-bottom: none !important;
}

#TabsToolbar > .toolbar-items > spacer {
  display: none !important;
}

.titlebar-spacer {
  border: none !important;
}

/* Active tab brightness */

.tab-content[selected="true"] {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/*Label de medios "Reproduciendo" modifiado*/

.tab-secondarylabel-:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -5px !important;
  margin-bottom: 2px !important;
  opacity: 1 !important;
  font-weight: bold !important;
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  background: linear-gradient(
    to left,
    rgb(144, 89, 255, 1),
    rgb(255, 74, 162),
    #ffbd4f
  ) !important;
  -webkit-background-clip: text !important;
  -moz-background-clip: text !important;
  -moz-text-fill-color: transparent !important;
  -webkit-text-fill-color: transparent !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
  animation-duration: 0s !important;
}

/* Remove Border Above Tab bar When Windowed *
#main-window:not([sizemode="maximized"]) #navigator-toolbox {
  margin-top: -8px !important;
}
:root[tabsintitlebar][sizemode="normal"] #titlebar {
  appearance: none !important;
}*/

:root {
  --toolbarbutton-inner-padding: 5px !important;
  --tabs-shadow-size: 1px !important;
  --tab-border-radius: 5px !important;
  --arrowpanel-menuitem-padding: 2px 8px !important;
  --panel-font-size: 1.1em !important;
  --arrowpanel-padding: 0.4em !important;
  --button-bgcolor: color-mix(in srgb, #4e6bfd 35%, transparent) !important;
  --button-hover-bgcolor: color-mix(
    in srgb,
    #4e6bfd 50%,
    transparent
  ) !important;
  --button-active-bgcolor: color-mix(
    in srgb,
    #4e6bfd 65%,
    transparent
  ) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(
    in srgb,
    #4d4dfeff 30%,
    transparent
  ) !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

.tabbrowser-tab[multiselected]:-moz-lwtheme,
.tabbrowser-tab[visuallyselected="true"]:-moz-lwtheme {
  filter: drop-shadow(0 0 3px rgba(32, 32, 32, 0.767)) !important;
}

/** stacks use box-shadow as a border to prevent size from changing */

#navigator-toolbox > toolbar .chromeclass-toolbar-additional > stack {
  box-shadow: inset 0 0 0 1px hsla(240, 5%, 5%, 0.55) !important;
}
*/ .tab-background[selected="true"] {
  backdrop-filter: blur(3px) !important;
}

/********************************
* {
  font-family: "Source code pro", "Ropa Sans", "JetBrains Mono" !important;
  font-size: 13px !important;
}
****************************************************************************/

#urlbar,
.searchbar-textbox {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

.tab-loading-burst {
  border: none !important;
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}
/***Back and Forward Button
#back-button,
#forward-button {
  list-style-image: url("chrome://devtools/skin/images/play.svg") !important;
}

#back-button > .toolbarbutton-icon {
  transform: scaleX(-1);
}

/********************************
.tab-background[selected="true"] {
  background: linear-gradient(
      to bottom,
      transparent 2px,
      var(--toolbar-bgcolor) 2px,
      var(--toolbar-bgcolor) 100%
    ),
    linear-gradient(
      to right,
      #9f1aff,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;
}
****/

/*
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-position: bottom !important;
}
*/

/*** custom icon for bookmarks button ***

#bookmarks-menu-button {
  list-style-image: url("chrome://userchrome/content/chill.svg") !important;
}

/* #home-button { list-style-image: url('home.svg') !important; } */

/***COOL URL BAR BACKGROUND *

#urlbar[breakout][breakout-extend] > #urlbar-background {
	background-color: var(--lwt-accent-color) !important;
	background-image: var(--lwt-additional-images) !important;
	background-repeat: var(--lwt-background-tiling) !important;
	background-position: var(--lwt-background-alignment) !important;
}

/* tab close button shows only on hover */

.tabbrowser-tab .tab-close-button {
  display: none;
  transform: scale(0.8, 0.8) !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  transform: scale(0.8, 0.8) !important;
}

/* change tab loading animation color *
.tab-throbber::before {
  fill: white !important;
  opacity: 1 !important;
}*/

#main-window {
  background: transparent !important;
}

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

#TabsToolbar:-moz-lwtheme-brighttext,
.table-widget-empty-text:-moz-lwtheme-brighttext {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

.tabbrowser-tab[selected="true"] .tab-background:-moz-lwtheme-brighttext {
  box-shadow: 0 0 1px rgba(100, 100, 177, 0.616),
    5px 3px 6px rgba(100, 100, 177, 0.616),
    4px 4px 2px rgba(100, 100, 177, 0.616) !important;
}

#navigator-toolbox {
  background-color: var(--lwt-accent-color) !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-top-width: 0 !important;
  border-bottom-width: 0 !important;
}

/* This style makes menus from bookmarks toolbar folders look like context menus do (on Win10) which was the behavior pre-fx92 */

menupopup[placespopup="true"] {
  padding: 0 !important;
  margin: 0 !important;
  --arrowpanel-background: var(--menu-background-color) !important;
  border-radius: 5px !important;
}

.menupopup-arrowscrollbox {
  margin-top: 1px !important;
  border: 1px solid var(--panel-border-color) !important;
  padding: var(--panel-padding) !important;
  border-radius: 5px !important;
}

:where(menupopup[placespopup="true"]) menu,
:where(menupopup[placespopup="true"]) menuitem {
  margin-inline: 0 !important;
  padding-inline-start: 1em !important;
  border-radius: 5px !important;
  padding-block: 0.5em !important;
}

:root[privatebrowsingmode="temporary"] {
  --toolbar-bgcolor: #322560 !important;
  --lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;
}
/*
#urlbar[focused]:not([open]) > #urlbar-background {
  border: none !important;
}
*/
:root {
  --toolbar-field-focus-border-color: transparent !important;
}

/** Selected Tab - Box Shadow ***********************************************/
#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab[visuallyselected="true"]
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  /* Origina: 0 0 1px var(--lwt-tab-line-color, rgba(128,128,142,0.9))
       Bright: 0 0 1px var(--lwt-tab-line-color, rgba(128,128,142,0.9)), 0 0 4px rgba(128,128,142,0.5) */
  box-shadow: 0 0 1px rgba(68, 68, 148, 0.9),
    5px 3px 6px rgba(100, 100, 177, 0.616),
    4px 4px 2px rgba(100, 100, 177, 0.616) !important;
}

#TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab[multiselected]:not([visuallyselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  box-shadow: 0 0 1px color-mix(in srgb, var(--toolbar-color) 80%, transparent) !important;
}

/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}

/** Selected Tab - Bottom Rounded Corner ************************************/
#tabbrowser-tabs {
  --tab-corner-rounding: 5px; /* 10px looks about like chromium - 17px looks close to Australis tabs */
  --tab-corner-padding: 1px !important;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before,
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  /* Box */
  content: "" !important;
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape */
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;

  /* Color */
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;

  background-image: url(/icons/tab-bottom-corner.svg) !important;
  background-size: var(--tab-corner-rounding) !important;
  background-repeat: no-repeat !important;
  background-position-y: bottom !important;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before {
  left: calc(var(--tab-corner-padding) - var(--tab-corner-rounding)) !important;
}
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  left: auto;
  right: calc(var(--tab-corner-padding) - var(--tab-corner-rounding));
  transform: scaleX(-1) !important;
}

.titlebar-placeholder[type="pre-tabs"] {
  display: none !important;
}

#main-window {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
}

#main-window:-moz-lwtheme {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

/* remove window control buttons *
.titlebar-buttonbox-container {
	display: none !important;
}
/* remove "padding" left and right from tabs */
.titlebar-spacer {
  display: none !important;
}

/* remove gap after pinned tabs */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

/*
.panel-subview-body,
#permList,
scrollbar {
	color: inherit !important;
	scrollbar-color: currentColor transparent !important;
	scrollbar-width: thin !important;
}*/

.tabbrowser-tab:is([selected], [multiselected]) .tab-context-line {
  /* Photon like color
        Default: var(--lwt-tab-line-color, rgb(10, 132, 255))
        Automatic: color-mix(in srgb, var(--button-primary-bgcolor) 80%, transparent)
	var(--lwt-tab-line-color, rgb(10, 132, 255)) !important;*/
  background-color: var(--lwt-tab-line-color) !important;
}

.tabbrowser-tab:hover:not([selected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: rgba(0, 0, 0, 0.2) !important;
  opacity: 1 !important;
  transform: none !important;
}

#TabsToolbar[brighttext]
  .tabbrowser-tab:hover:not([selected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

.tabbrowser-tab:not([selected="true"], [multiselected]) .tab-context-line {
  opacity: 0 !important;
  transform: scaleX(0) !important;
}

.tabbrowser-tab:not([selected="true"], [multiselected]) .tab-context-line {
  transition: transform 250ms var(--animation-easing-function),
    opacity 250ms var(--animation-easing-function) !important;
  --animation-easing-function: cubic-bezier(0.07, 0.95, 0, 1) !important;
}

/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}
/** Selected Tab - Bottom Rounded Corner ************************************
#tabbrowser-tabs {
  --tab-corner-rounding: 5px !important;
  /* 10px looks about like chromium - 17px looks close to Australis tabs *
  --tab-corner-padding: 1px !important;
  --tab-corner-position: calc(
    var(--tab-corner-padding) - var(--tab-corner-rounding)
  ) !important;
}

:root:not([customizing="true"]) tab[visuallyselected] > stack::before,
:root:not([customizing
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape *
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;
  /* Color *
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;
  /* Image *
  background-size: var(--tab-corner-rounding) !important;
  background-repeat: no-repeat !important;
  background-position-y: bottom !important;
}

tab[visuallyselected] > stack::before {
  left: var(--tab-corner-position) !important;
  background-image: url("./icons/tab-bottom-corner-left.svg") !important;
}

tab[visuallyselected] > stack::after {
  left: auto !important;
  right: var(--tab-corner-position) !important;
  background-image: url("./icons/tab-bottom-corner-right.svg") !important;
}

/* Bar between the bookmarks bar and the page  */
#sidebar-splitter {
  border: none !important;
  opacity: 0 !important;
  -moz-appearance: none !important;
  display: none !important;
}

#main-window {
  --chrome-content-separator-color: transparent !important;
}

.findbar-closebutton {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

box#customization-container {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

/* Reduce size of text in urlbar */
#urlbar,
.searchbar-textbox,
#urlbar:hover,
.searchbar-textbox:hover {
  font-size: 1.35em !important;
}

:root {
  background: transparent !important;
}

.theme-body {
  background: transparent !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}

#main-window {
  background: transparent !important;
}

#TabsToolbar,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
.tab-background-inner,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

.theme-body {
  background: transparent !important;
}

.tab-background:not([selected="true"]) {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
}

:root #TabsToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
}

/* Get rid of that annoying flash of white when loading new pages. */
browser,
browser.display.background_color,
tabbrowser tabpanels {
  background-color: #1d1d3bfa !important;
}

/* white flash fix */
browser[type="content-primary"],
browser[type="content"] {
  background: #1d1d3bfa !important;
  /*#222355*/
}

/* Tab Overflow
.tabbrowser-tab {
	min-width: 0px !important;
}
.tab-content {
	overflow: hidden !important;
}
/* Makes Close Tab Button Have Even Padding On Right
.tab-close-button {
	margin-inline-end: 0px !important;
}
/* Close Tab Icon Fade Animation
.tab-close-button,
.tab-icon-overlay:-moz-any([soundplaying], [muted], [activemedia-blocked]),
.tab-icon-sound {
  transition-property: fill-opacity, background-color !important;
  transition-duration: 0.15s !important;
  transition-timing-function: var(--ease-basic) !important;
}
/* Remove Overflow Shadow *
spacer[part="overflow-start-indicator"],
spacer[part="overflow-end-indicator"] {
	opacity: 0 !important;
}*/

/* Remove next line if you want selected tab to have color other than toolbar background - then it follows your theme color  *
	--lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;

/* Uncomment next line to force specific color for tab top line */
#tabbrowser-tabs {
  --lwt-tab-line-color: transparent !important;
}

.tab-background[selected] {
  /*border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;*/
  border-inline: none !important;
}

#TabsToolbar {
  --toolbarbutton-inner-padding: 7px !important;
}

#TabsToolbar .toolbarbutton-1 > .toolbarbutton-badge-stack,
#TabsToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  border-radius: 5px !important;
}

/* tabs newtab button needs some special styling... *

#tabbrowser-arrowscrollbox > #tabs-newtab-button > .toolbarbutton-icon {
  border-radius: 5px !important;
  width: initial !important;
  height: initial !important;
  padding: 9px !important;
}

:root[uidensity="compact"]
  #tabbrowser-arrowscrollbox
  > #tabs-newtab-button
  > .toolbarbutton-icon {
  padding: 7px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-radius: 0 !important;
  border-width: 0 !important;
  padding-inline: 3px !important;
}

/* tab shaping */
.tabbrowser-tab {
  padding-inline: 0 !important;
}
/*
:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  height: 31px !important;
}*/

.tab-content[pinned] {
  padding-inline: 11px !important;
}

.tab-background {
  border-radius: 0px !important;
}

/***  Line to mark selected tab *
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px;
  content: "";
}

.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
  background-color: highlight !important;
}

.tab-stack > .tab-background[selected]::before {
  background-color: highlight !important;
  background-image: var(--my-gradient) !important;
}

/* Photon-like tab on hover animation for the top line *
@keyframes tab-onhover-line-anim {
  from {
    margin-inline: 90px !important;
  }

  to {
    margin-inline: 0;
  }
}

.tab-stack:hover > .tab-background::before {
  animation: tab-onhover-line-anim 160ms !important;
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
  > .tab-stack
  > .tab-background::before {
  animation: none;
}

/* moves context-line to the bottom */
.tab-context-line {
  -moz-box-ordinal-group: 2 !important;
  margin-inline: 0px !important;
}

/***  Non-selected tab's tab-line hover animation */
@media (prefers-reduced-motion: no-preference) {
  .tab-line:not([selected="true"]):not([multiselected]) {
    transition: transform 250ms var(--animation-easing-function),
      opacity 250ms var(--animation-easing-function) !important;
  }
}

/** Disable tab label mask on hover */
.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 1em !important;
}

/* Disable tab label mask Proton default value = 2em This is a tweak. Photo does contain this mask.
 */
.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}

/* hide sidebar header for tree style tabs sidebar */
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"]
  #sidebar-header {
  display: none;
}

/* Hide splitter, when using Tree Style Tab. */
#sidebar-splitter {
  display: none !important;
}
/*** TAB TEXT & BACKBOARD STYLING UNREAD, UNLOADED, VISTITED */
/* Loaded but unread (not selected) */
.tabbrowser-tab:not([selected="true"])[unread] .tab-label {
  color: rgb(133, 133, 133) !important;
  font-style: italic !important;
  font-weight: thin !important;
}

.tabbrowser-tab:not([selected="true"])[unread] .tab-background {
  background-color: transparent !important;
}

/* Not loaded yet (also visited) */
.tabbrowser-tab:not([selected="true"])[pending] .tab-label,
.tabbrowser-tab:not([selected="true"])[visited] .tab-label {
  color: rgb(173, 148, 231) !important;
  font-style: italic !important;
  font-weight: thin !important;
}

/* This ensures that the side arrows when tabs become scrollable sideways don't create a gap below tabs *
#scrollbutton-up,
#scrollbutton-down {
	padding: 0 !important;
	max-height: var(--tab-min-height) + 2px !important;
}*/

#alltabs-button,
#tabs-newtab-button,
#TabsToolbar-customization-target .webextension-browser-action,
#wrapper-alltabs-button,
#wrapper-new-tab-button,
#new-tab-button {
  margin-bottom: 0 !important;
}

/* Menu back button padding */
.panel-header {
  padding: unset !important;
  padding-top: 4px !important;
}

/* url bar *
#widget-overflow-mainView,
#urlbar[open="true"] > #urlbar-background {
  backdrop-filter: contrast(10%) blur(20px) saturate(25%) !important;
}

/* overfow menu in customize menu */
vbox#customization-panelWrapper box.panel-arrowcontent {
  background: #0000 !important;
  backdrop-filter: blur(6px) !important;
}

/** Clipped tabs - Show close button at hover *******************************
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

/*
#tabbrowser-tabs[closebuttons="activetab"]
	.tabbrowser-tab:not([visuallyselected])
	.tab-close-button {
	visibility: collapse !important;
	opacity: 0;
	/* Animation - Fade out
	transition: opacity 0.1s var(--animation-easing-function) !important;
}*/
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1;
  /* Animation - Fade in */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}
/*** URL BORDER ***/
#urlbar-background,
#urlbar {
  background: color-mix(
    in srgb,
    var(--accent-color) 90%,
    transparent
  ) !important;
  border: transparent !important;
}

/*** changes bg color of pinned tabs when updated */
.tabbrowser-tab[pinned][titlechanged]:not([selected="true"])
  > .tab-stack
  > .tab-content {
  opacity: 0.6 !important;
  background: var(--secondary-text) !important;
  color: var(--tabpanel-background-color) !important;
}

/* menubar + bookmarks */

:root #nav-bar,
#titlebar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
}

#TabsToolbar,
#nav-bar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

/*
.tabs-newtab-button:hover,
#new-tab-button:hover,
#alltabs-button:hover,
.scrollbutton-up:hover,
.scrollbutton-down:hover {
	box-shadow: 0px -2px 10px 2px rgba(0, 0, 0, 0.4) !important;
	z-index: 2 !important;
	position: relative !important;
	clip-path: inset(0px -20px 0px -20px) !important;
}
.tabbrowser-tab > .tab-stack > .tab-background[selected] {
	box-shadow: 0px 0px 10px 2px rgba(0, 0, 0, 0.4) !important;
}
#nav-bar {
	box-shadow: 0px -2px 10px 2px rgba(0, 0, 0, 0.4) !important;
	clip-path: inset(-20px 0px 0px 0px) !important;
}
*/
:root #PersonalToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}

/********************************	 GLOW EFFECT ON TAB ICON ********************
 toolbarbutton.bookmark-item:not([container=true]) .toolbarbutton-icon
/*for icons on the bookmarks bar under the url bar *
.tab-icon-image,
.bookmark-item:not([container="true"]) .menu-iconic-icon {
	filter: drop-shadow(0 0 3px #fff) !important;
}
#urlbar[breakout][breakout-extend][open] {
	background-image: url(noise-512x512.png) !important;
	background-color: #1a13447a !important;
	backdrop-filter: blur(32px) !important;
}

/* Bookmarks bar with BLUR need layout.css.backdrop-filter.enabled = true rgba(50, 50, 52, 0.85)*/
#PersonalToolbar {
  background-image: url(images/noise-512x512.png) !important;
  -webkit-backdrop-filter: blur(32px) !important;
  backdrop-filter: blur(32px) !important;
  background: rgba(50, 50, 52, 0.85) !important;
}

#tabs-toolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrancy-dark !important;
  background-color: transparent !important; /* #232323 !important;
	color: hsl(240, 9%, 98%) !important;*/
}
.urlbar-input::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

/* W h a t   d o e s   t h i s   d o */
#scrollbutton-up,
#scrollbutton-down {
  border-top-width: 0 !important;
  border-bottom-width: 0 !important;
}

/*Idk What This Does But This Was The Note Given:
    "Set A Max Height Based On Min-height Plus Margin-block: 1px 0"*
#TabsToolbar,
#TabsToolbar > hbox,
#TabsToolbar-customization-target,
#tabbrowser-arrowscrollbox {
	min-height: calc(var(--tab-min-height) + 2px) !important;
}
/*
#PlacesToolbarItems > toolbarseparator::before {
	border-image-source: linear-gradient(
		transparent 8px,
		var(--toolbarseparator-color) 8px,
		var(--toolbarseparator-color) calc(100% - 8px),
		transparent calc(100% - 8px)
	) !important;
}*
#tabbrowser-tabs .arrowscrollbox-overflow-start-indicator,
#tabbrowser-tabs .arrowscrollbox-overflow-end-indicator,
#tabbrowser-tabs::part(arrowscrollbox-overflow-start-indicator),
#tabbrowser-tabs::part(arrowscrollbox-overflow-end-indicator),
spacer[part="overflow-start-indicator"],
spacer[part="overflow-end-indicator"] {
	display: none !important;
}
#tabbrowser-tabs[overflow] .tab-content {
	-moz-box-pack: center !important;
}
#navigator-toolbox::after {
	display: none !important;
}
/*prevent tab overflow to expand causing height changes *
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
	min-height: unset !important;
}
/* container tabs indicator customization - different style. this will give rounded borders if tab border radius is there
and covers entire bottom outline of tab. Line Position:bottom
  .tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
    display: none;
}
.tabbrowser-tab[class*="identity-color-"] .tab-background {
    background: linear-gradient(0, var(--identity-tab-color) 1px, transparent 0);
}
.tabbrowser-tab[selected="true"][class*="identity-color-"] .tab-background {
    background: linear-gradient(to bottom, transparent 2px, var(--toolbar-bgcolor) 2px,var(--toolbar-bgcolor) 95%,var(--identity-tab-color) 1px), linear-gradient(to right, #9f1aff, #9f1aff, #8a46ff, #765dff, #5d7dff, #3e8cff, #1c99ff, #00a5ff, #00b4ff, #00c3ff, #00d0ff, #00ddff) !important;
}
/*** Tab: Ensure tab height doesn't augment when arrowscrollbox is visible */
#tabbrowser-arrowscrollbox {
  --tab-min-height: 33px !important;
  /*  max-height: var(--tab-min-height) !important;*/
}

.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
}

.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  /* Disable gap between the last pinned tab and the first visible tab */
  margin-inline-start: 0 !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

/* Sets tab bar transition durations *
#tabbrowser-tabs:not(:hover) tab {
	transition: all 200ms ease 0ms !important;
}
/********
.tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
.tab-label-container[textoverflow]:not([labeldirection]):not([pinned]):-moz-locale-dir(ltr) {
	mask-image: linear-gradient(to left, transparent, black 1.3em) !important;
}

/* Highlight tabs that were changed or shared from other devices by adding a small colored line

.tab-label[attention]:not([selected="true"]) {
	font-weight: normal !important;
}

.tabbrowser-tab:-moz-any([image], [pinned])
	> .tab-stack
	> .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
	> .tab-stack
	> .tab-content[pinned][titlechanged]:not([selected="true"]) {
	background-image: none !important;
}
.tabbrowser-tab[attention] > .tab-stack > .tab-background > .tab-bottom-line {
	height: 1px !important;
	background: linear-gradient(
		to right,
		transparent 35%,
		#1abc9c 35% 65%,
		transparent 65%
	) !important;
}
 /* Dim discarded tabs*/
.tabbrowser-tab[pending] .tab-content:not(:hover) .tab-label {
  opacity: 0.6 !important;
}

/* unloaded tab hover */
.tabbrowser-tab[pending="true"] .tab-text:hover {
  filter: brightness(125%) !important;
}

.tabbrowser-tab:hover .tab-close-button {
  visibility: visible !important;
  opacity: 1;
  /*transition: visibility 0.5s, opacity 0.6s ease !important;*/
  font-weight: bold !important;
}

/*** inactive tab hover */
.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):hover,
.tabbrowser-tab:-moz-lwtheme:hover {
  /*filter: grayscale(25%) !important;*/
  opacity: 1 !important;
  filter: brightness(125%) !important;
  backdrop-filter: blur(14px) !important;
}

#urlbar[open="true"] {
  backdrop-filter: blur(14px) !important;
}
/** Multi selection **/
.tabbrowser-tab[multiselected]:-moz-lwtheme {
  color: var(--lwt-tab-text) !important;
  --lwt-tab-line-color: transparent !important;
}

/*
.tabbrowser-tab > .tab-stack > .tab-background:is([multiselected]),
.tabbrowser-tab > .tab-stack > .tab-content:is([multiselected]) {
	background: #4d4dfe !important;
}
.tabbrowser-tab:hover
	> .tab-stack
	> .tab-background:not([selected="true"], [multiselected]) {
	background-color: color-mix(
		in srgb,
		var(--button-hover-bgcolor) 60%,
		transparent
	) !important;
}

/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned]):is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]):is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]:is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack:before,
.tabbrowser-tab .tab-stack:after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack:before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack:after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack:before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack:after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab :is(.tab-line, .tab-context-line) {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack:before,
.tabbrowser-tab[pinned] .tab-stack:after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack:before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack:after {
  display: none !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack:after {
  display: block !important;
}

/* how the background color is applied. it's not as convoluted as it looks,
it needs to be a gradient image because the bottom line .tab-context-line overlaps with the outside corners.
we want the corners to take on the color of the bottom line, but the corners are taller than the bottom line, so they can't be fully the same color as the line.
they must have a 1px tall stripe at the bottom, the color of the bottom line (should it exist), with the remaining 4px being the current bg color of the tab. */
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack:after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack:before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  );
}

.tabbrowser-tab[selected] .tab-stack:after,
.tabbrowser-tab[selected] .tab-stack:before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  );
}

.tabbrowser-tab[multiselected] .tab-stack:after,
.tabbrowser-tab[multiselected] .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  );
}

.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack:after,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  );
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack:after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack:before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border: none !important;
}

.tab-background {
  border: none !important;
  z-index: 1;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

#TabsToolbar tab:not([visuallyselected="true"]):not(:hover) .tab-close-button {
  opacity: 0 !important;
}

#TabsToolbar tab:hover .tab-close-button {
  opacity: 1 !important;
}
/*
#TabsToolbar tab .close-icon:hover {
  -moz-image-region: unset !important;
  background-clip: padding-box !important;
}

/***  Hide close buttons on tabs *

tab[selected="true"] > stack > hbox > .tab-close-button {
	transition: 0.05s all ease-in-out !important;
}

tab:not([selected="true"]) > stack > hbox > .tab-close-button {
	transform: scale(0) !important;
	transition: 0.15s all ease-in-out !important;
}

/* indicator for multiselected tabs */
.tabbrowser-tab[multiselected="true"] .tab-stack .tab-content {
  box-shadow: inset 2px 0 0 Highlight, inset -2px 0 0 Highlight,
    inset 0 2px 0 Highlight, inset 0 -2px 0 Highlight !important;
}

#tabbrowser-tabs[overflow="true"]
  .tabbrowser-tab[pinned]:is(.tab-background, .tab-stack) {
  min-height: var(--tab-min-height) !important;
}

/* reduce minimum tab height */
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
.tabbrowser-tabs[positionpinnedtabs] > .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

#TabsToolbar #tabbrowser-tabs[overflow="true"] .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
  max-height: var(--tab-min-height) !important;
}

/* [Optional] Animation when hovering non-active/non-selected tabs */

.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  transform: scaleX(1);
  transition: transform 100ms linear;
}
:root[privatebrowsingmode="temporary"] #urlbar-input-container:hover {
  background-color: #1f1b36 !important;
}

:root[privatebrowsingmode="temporary"] {
  /* Toolbar */
  --toolbar-bgcolor: #322560 !important;

  /* Behind Tabs */
  --lwt-accent-color: #19162f !important;

  /* Search Bar Colour */
  --toolbar-field-background-color: #0b0724 !important;

  /* Turns Tab Into Same Colour As Toolbar */
  --lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;

  /* What Happens When You Hover Over A Button */
  --toolbarbutton-hover-background: rgba(255, 255, 255, 0.05) !important;

  /* Click On A Button, This Colour Is What The Button Will Be */
  --toolbarbutton-active-background: #4d4175 !important;

  /* Click A Button With A Context Menu? This Is The Menu Colour */
  --arrowpanel-background: #1d1935 !important;

  /* Tool Bar Context Menu Outline */
  --arrowpanel-border-color: #322560 !important;

  /* Line Between Toobar And Site */
  --chrome-content-separator-color: transparent !important;

  /* Colour Of The Expanded Address Bar */
  --toolbar-field-focus-background-color: var(
    --toolbar-field-background-color
  ) !important;

  /* Hovering Over The Autocomplete Items Colour */
  --autocomplete-popup-hover-background: #1d1935 !important;

  /* Clicking On Said Autocomplete Item Colour */
  --autocomplete-popup-highlight-background: rgba(65, 48, 117, 0.5) !important;
}

/* Right Click Menu */
:root[privatebrowsingmode="temporary"] menupopup {
  --menuitem-hover-background-color: #413d54 !important;
  --menu-background-color: #1d1935 !important;
  --menu-color: #eeeeee !important;
  --menuitem-disabled-hover-background-color: #ffffff00 !important;
  --menu-disabled-color: #ffffff50 !important;
  --menu-border-color: #322560 !important;
}

/* Set Value For Radius For Both Top Corners */
#tabbrowser-tabs {
  --user-tab-rounding: 5px;
}

/* Adjust Tab Corner Shape */
.tab-background {
  border-radius: 5px !important;
  margin-block: 0px 0px !important;
}

/** Make Tab Name Semi-Bold When Selected */
.tab-text[selected] {
  font-weight: 500 !important;
}

/* Changes Minimum Height For Tabs [Do Not Touch] */
#TabsToolbar,
#tabbrowser-tabs {
  --tab-min-height: 33px !important;
}

#TabsToolbar,
#TabsToolbar > hbox,
#TabsToolbar-customization-target,
#tabbrowser-arrowscrollbox {
  -height: 33px !important;
}

/* Always Show Close Icon - Selected Tabs *
#TabsToolbar .tabbrowser-tab[selected]:not([pinned]) .close-icon {
  display: inline-block !important;
}

/*** URL Bar Fade Animation On Hover */
#urlbar-input-container:hover {
  background-color: #322560 !important;
}
#urlbar-input-container {
  transition: background-color 0.3s ease-in;
}
/*
#urlbar-background {
	backdrop-filter: blur(20px) !important;
}*/
#PlacesToolbarItems toolbarbutton {
  /*border-radius: 20px !important;*/
  padding-left: 5px !important;
  padding-right: 5px !important;
  transition: background 0.05s !important;
}

.tab-background[selected="true"] {
  backdrop-filter: blur(20px) !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  -height: 32px !important;
}

/* This ensures that the side arrows when tabs become scrollable sideways don't create a gap below tabs *
#scrollbutton-up,
#scrollbutton-down {
  padding: 0 !important;
  -height: 33px !important;
  max-height: 32px !important;
} /*
:root {
	--lwt-toolbar-field-highlight: red !important;
	--lwt-toolbar-field-highlight-text: blue !important;
}
/*
* Only show close buttons on background tabs when hovering with the mouse*
.tabbrowser-tab:not([selected]) .tab-close-button {
	visibility: hidden !important;*

.tabbrowser-tab:not([selected]):hover .tab-close-button {
  visibility: visible !important;
}

.tabbrowser-tab:not([selected]):not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
}

/***
.tabbrowser-tab:hover .tab-background:not([selected]) {
  border-color: #dadada !important;
  border: 1px solid !important;
}*/
*::-moz-selection {
  color: var(--lwt-toolbar-field-color) !important;
  /*Colour of text*/
  background: #4d4dfe77 !important;
  /*Highlighting colour*/
}

/* change urlbar highlight text color */
#urlbar-input::-moz-selection {
  background-color: rgb(144, 89, 255, 1) !important;
  color: #ffffff !important;
}

.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}

.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
}

/*
.urlbarView-row[has-url]:not([has-action]) .urlbarView-title[no-highlights] {
	color: #ff0022 !important;
}*/
#tabbrowser-tabs {
  --scrollbutton-block-border: 0px !important;
}

#scrollbutton-up,
#scrollbutton-down {
  border-block: var(--scrollbutton-block-border, initial) !important;
}

#new-tab-button .toolbarbutton-icon {
  height: 32px !important;
}

/* Gradient color container line */
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 5px !important;
  /*  margin: -1px 20px 0px 0px !important;*/
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--lwt-accent-color)
    )
    1 !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 5px !important;
  /*margin: -1px 20px 0px 0px !important;*/
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-tab-line-color),
      var(--identity-icon-color) 4.5% 95%,
      var(--lwt-tab-line-color)
    )
    1 !important;
}

/* remove 'open all in tabs' option (.bookmarks-actions-menuseparator,.openintabs-menuseparator*/
.openintabs-menuitem {
  display: none !important;
}

#urlbar-background,
#searchbar {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/******************************** Find Bar ********************************/

findbar {
  -moz-box-ordinal-group: 0;
  margin-bottom: -33px;
  position: relative;
  top: 0 !important;
  left: 1.5em;
  border: 0px solid transparent !important;
  border-bottom-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-top: none !important;
  box-shadow: 0px 0px 7px -2px hsla(240, 4%, 0%, 0.6),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.2) !important;
  background-image: none !important;
  transition: 0.2s ease-in-out opacity, 0.2s ease-in-out transform !important;
  transform-style: preserve-3d !important;
  backface-visibility: hidden !important;
  z-index: 1 !important;
  animation: 0.2s ease-in-out findbar-down !important;
  overflow: hidden !important;
}

@keyframes findbar-down {
  0% {
    opacity: 0;
    transform: translateY(-2em);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.findbar-container > .findbar-find-fast {
  padding: var(--toolbarbutton-inner-padding) 1px !important;
  margin: 0 !important;
}

findbar[hidden] {
  transform: translateY(-40px) !important;
}

findbar > .findbar-container,
findbar > .close-icon {
  border: 1px solid var(--chrome-content-separator-color) !important;
  border-width: 0 0 1px 0px !important;
  background: var(--uc-light-bkgnd-color, var(--toolbar-bgcolor)) !important;
  pointer-events: auto !important;
}

findbar > .findbar-container {
  -moz-box-direction: reverse;
  border-left-width: 1px !important;
  border-bottom-left-radius: 4px !important;
}

.findbar-closebutton {
  margin: 0 !important;
  border-radius: 0 !important;
  padding: 5px !important;
}

.findbar-closebutton > image {
  padding: 3px !important;
}

.findbar-closebutton:hover > image {
  background: var(--toolbarbutton-hover-background) !important;
  border-radius: 4px !important;
}

findbar > .findbar-container > hbox {
  margin: 0 5px !important;
}

findbar::before {
  content: "";
  display: -moz-box;
  -moz-box-flex: 100;
}

/*
Move findbar so it isn't over the scrollbar
Delete if you want findbar to begin from right window edge
*/

findbar {
  margin-right: 16px !important;
  border-right: 1px solid var(--chrome-content-separator-color) !important;
}

.findbar-closebutton .toolbarbutton-icon {
  border-radius: var(--toolbarbutton-border-radius) !important;
  fill-opacity: 0 !important;
  width: var(--findbar-height) !important;
  height: var(--findbar-height) !important;
  padding: 5px !important;
  /* list-style-image: url(chrome://userchrome/content/textbox-clear.svg) !important; */
  list-style-image: url(chrome://userchrome/content/textbox-clear.svg) !important;
  stroke: white !important;
  -moz-context-properties: fill, fill-opacity, stroke !important;
}

.findbar-closebutton:is(:hover, :focus-visible):not([disabled])
  .toolbarbutton-icon {
  background-color: var(--toolbarbutton-hover-background) !important;
}

.findbar-closebutton:is(:hover, :focus-visible):not([disabled]):active
  .toolbarbutton-icon {
  background-color: var(--toolbarbutton-active-background) !important;
}

[anonid="findbar-textbox-wrapper"] {
  border-radius: var(--toolbarbutton-border-radius) !important;
  overflow: hidden !important;
  height: var(--findbar-height) !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox {
  border: none !important;
  transition: 300ms !important;
  width: 20em !important;
  border-radius: 0 !important;
  outline: none !important;
  max-height: var(--findbar-height) !important;
  padding-inline: 6px !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox input > .anonymous-div {
  color: white !important;
  opacity: 1 !important;
}

.findbar-textbox,
.findbar-textbox:-moz-lwtheme {
  background-color: var(--search-box-color) !important;
  color: var(--ui-text-80) !important;
}

@supports -moz-bool-pref("userChrome.css.mac-ui-fonts") {
  findbar .matches-indicator {
    font-weight: var(--uc-font-weight-thin, 300) !important;
    line-height: 23px !important;
  }
}

.findbar-textbox:focus ~ .matches-indicator {
  background-color: var(--search-box-focus) !important;
}

.findbar-textbox[status="notfound"] ~ .matches-indicator {
  background-color: var(--search-box-null) !important;
  transition-duration: 400ms !important;
}

[anonid="findbar-textbox-wrapper"]:focus-within
  .findbar-textbox:not([status="notfound"])
  ~ .matches-indicator {
  background-color: var(--search-box-focus) !important;
}

.findbar-find-previous,
.findbar-find-next {
  border: none !important;
  padding: 0 !important;
  background: var(--search-box-color) !important;
  fill: rgba(255, 255, 255, 1) !important;
  transition: 300ms !important;
}

.findbar-find-previous > .toolbarbutton-icon,
.findbar-find-next > .toolbarbutton-icon {
  background: none !important;
  padding: 0 !important;
  width: 12px !important;
  margin-inline: 2px !important;
  opacity: 0.5 !important;
}

.findbar-find-previous {
  padding-inline: 0 !important;
  margin-inline: 0 !important;
  list-style-image: url(chrome://userchrome/content/menu-arrow-left-tiny.svg) !important;
}

.findbar-find-next {
  padding-inline: 0 !important;
  margin-inline: 0 !important;
  list-style-image: url(chrome://userchrome/content/menu-arrow-tiny.svg) !important;
}

:is(.findbar-find-previous, .findbar-find-next):not([disabled], [hidden]):is(:hover, :focus-visible)
  > .toolbarbutton-icon {
  background: none !important;
  opacity: 1 !important;
}

:is(.findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):is(:hover, :focus-visible, [checked]):is(.toolbarbutton-icon, .checkbox-icon) {
  background: none !important;
  opacity: 0.8 !important;
}

:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):hover:active {
  box-shadow: none !important;
}

:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):not([disabled], [hidden]):where([checked]:hover, [checked]:focus-visible, :hover:active, :focus-visible:hover):is(.toolbarbutton-icon, .checkbox-icon) {
  background: none !important;
  opacity: 1 !important;
}

.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next)
  > .toolbarbutton-icon,
.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next)
  > .toolbarbutton-icon,
:is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive):is([disabled="true"], [hidden]):is(.toolbarbutton-icon, .checkbox-icon) {
  fill: rgba(255, 255, 255, 1) !important;
  opacity: 0.25 !important;
}

.findbar-textbox:focus
  ~ :is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive) {
  background-color: var(--search-box-focus) !important;
  transition: 300ms !important;
}

.findbar-textbox[status="notfound"]
  ~ :is(.findbar-find-previous, .findbar-find-next, .findbar-entire-word, .findbar-case-sensitive) {
  background-color: var(--search-box-null) !important;
  transition: 400ms !important;
}

.findbar-textbox {
  border: none !important;
  transition: 300ms !important;
  width: 20em !important;
  border-radius: 0 !important;
  outline: none !important;
  max-height: var(--findbar-height) !important;
  padding-inline: 6px !important;
  -moz-box-flex: 1 !important;
}

.findbar-textbox input > .anonymous-div {
  color: white !important;
  opacity: 1 !important;
}

.findbar-textbox,
.findbar-textbox:-moz-lwtheme {
  background-color: var(--search-box-color) !important;
  color: var(--ui-text-80) !important;
}

.findbar-textbox::placeholder {
  color: var(--ui-text-50) !important;
}

.findbar-textbox:focus {
  background-color: var(--search-box-focus) !important;
  color: var(--lwt-toolbar-field-color) !important;
  transition: 300ms !important;
}

.findbar-textbox[status="notfound"] {
  background-color: var(--search-box-null) !important;
  color: var(--ui-text-80) !important;
  transition: 400ms !important;
}

[anonid="findbar-textbox-wrapper"]:focus-within
  .findbar-textbox:not([status="notfound"]) {
  background-color: var(--search-box-focus) !important;
  color: var(--lwt-toolbar-field-color) !important;
  transition: 300ms !important;
}

findbar .matches-indicator {
  background-color: var(--search-box-color) !important;
  transition: 300ms background-color !important;
  mask-image: linear-gradient(to right, transparent 0px, black 20px) !important;
  line-height: var(--findbar-height) !important;
  height: var(--findbar-height) !important;
}

/*
 * Force the overlay to create a new stacking context so it always appears on
 * top of the icon.
 */
.tab-icon-overlay {
  opacity: 0.9999 !important;
}

.tab-label {
  margin-block: 1px 0 !important;
}

/* Draws a border around urlbar using the color of the current container. */

#urlbar:not([open]) > #urlbar-input-container {
  border-width: 0 !important;
  padding: 2px !important;
}

#userContext-icons::before {
  box-sizing: border-box;
  display: block;
  position: absolute;
  content: "";
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  outline: 1px solid var(--identity-icon-color);
  border-radius: var(--toolbarbutton-border-radius);
  outline-offset: -1px;
  pointer-events: none;
}

#urlbar[focused] #userContext-icons::before {
  outline-width: 2px;
  outline-offset: -2px;
}

/* These might potentially cause some issues, but are needed to make the border extend the border to the full popup when urlabar popup is open */
#urlbar[open] > #urlbar-input-container {
  position: static !important;
}

#urlbar[open] > #urlbar-background {
  z-index: -1 !important;
}

/* OPTIONAL FEATURES */

/* Hide container label in urlbar */
/* #userContext-label{ display: none } */

/* Hide container icon in urlbar */
/* #userContext-indicator{ display: none } */

/* Hide the container line above tabs */
/* .tab-context-line{ display: none } */

/* New hover effect */
#TabsToolbar toolbarbutton {
  filter: opacity(100%) brightness(50%);
}

#TabsToolbar toolbarbutton:not([disabled]):hover,
#TabsToolbar toolbarbutton[open="true"] {
  filter: opacity(100%) brightness(120%) drop-shadow(2px 0px 0px #00000060) !important;
}

/* hide the close button for pinned tabs. if the last visible tab is pinned, it doesn't hide the close button since the tab doesn't get shrunk in that case.
this requires you to make a pref in about:config and set it to true: "userChrome.tabs.pinned-tabs.close-buttons.disabled" */
@supports (
  -moz-bool-pref("userChrome.tabs.pinned-tabs.close-buttons.disabled")
) {
  .tabbrowser-tab[pinned] .tab-close-button {
    display: none !important;
  }

  .tabbrowser-tab[pinned] .tab-throbber[busy],
  .tabbrowser-tab[pinned]:not([busy]):is(.tab-icon-image, .tab-sharing-icon-overlay) {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* for some reason the gradient on overflowing labels is variable in proton.
it gets bigger when you hover the tab, apparently because the close button gains a background in that condition.
this is ugly in general imo but it's useless with this theme in particular since we put the close button on the right,
meaning it doesn't overlap with the right side of the label at all, which is where the overflowing mask is applied.
so we make the mask size constant. */
.tabbrowser-tab {
  --tab-label-mask-size: 2em !important;
}
/*
:root:-moz-lwtheme {
  --chrome-content-separator-color: rgba(0, 0, 0, 0.3) !important;
}

:root {
  --toolbar-non-lwt-bgcolor: -moz-dialog;
  --toolbar-non-lwt-textcolor: -moz-dialogtext;
  --toolbar-non-lwt-bgimage: none;
  --toolbarbutton-vertical-text-padding: calc(
    var(--toolbarbutton-inner-padding) + 1px
  ) !important;
  --toolbarbutton-border-radius: 5px !important;
  --panel-separator-color: hsla(210, 4%, 10%, 0.14);
}

/** Begin titlebar **/

#titlebar {
  /* Centrally align content items vertically */
  -moz-box-pack: center !important;
}

.titlebar-button {
  display: none !important;
}

.titlebar-buttonbox-container {
  -moz-box-align: center !important;
}

/* Hide window controls in fullscreen */
:root[inFullscreen] .titlebar-buttonbox-container {
  display: none !important;
}

.titlebar-buttonbox:-moz-locale-dir(ltr) {
  margin-left: 12px !important;
  margin-right: 0 !important;
}

.titlebar-buttonbox:-moz-locale-dir(rtl) {
  margin-left: 12px;
  margin-right: 12px;
}

#nav-bar:not([tabs-hidden="true"]) {
  /* The toolbar buttons that animate are only visible when the #TabsToolbar is not collapsed.
     The animations use position:absolute and require a positioned #nav-bar. */
  position: relative !important;
}

/* Draw the bottom border of the tabs toolbar when titlebar isn't using vibrancy */
:root:not([inFullscreen], [tabsintitlebar]) #nav-bar:not([tabs-hidden="true"]),
#nav-bar:not([tabs-hidden="true"]):-moz-lwtheme {
  box-shadow: 0 calc(-1 * var(--tabs-navbar-shadow-size)) 0
    var(--tabs-border-color) !important;
}

:root[chromehidden~="toolbar"][chromehidden~="location"][chromehidden~="directories"] {
  border-top: none !important;
}

.browser-toolbar {
  appearance: none !important;
}

.browser-toolbar:not(.titlebar-color) {
  background: var(--toolbar-bgcolor) !important;
  color: var(--toolbar-color) !important;
}

.tab-label-container:not([selected="true"], [multiselected]) {
  opacity: 0.7 !important;
}

.tabbrowser-tab[multiselected],
.tabbrowser-tab[visuallyselected="true"] {
  /* overriding tabbox.css */
  text-shadow: inherit !important;
}

:root[uidensity="compact"] {
  --urlbar-min-height: 28px !important;
  --urlbar-icon-padding: 4px !important;
  /* (26px - 2px border - 2px padding - 16px icon) / 2 */
}

:root:-moz-lwtheme {
  --toolbar-bgcolor: var(--toolbar-bgcolor) !important;
  --toolbar-bgimage: none !important;
  --toolbar-color: var(--lwt-text-color, inherit) !important;
  color: var(--lwt-text-color) !important;
}

:root[uidensity="compact"] {
  --toolbarbutton-outer-padding: 3px !important;
  --toolbarbutton-inner-padding: 6px !important;
  --bookmark-block-padding: 1px !important;
  --tab-shadow-max-size: 1px !important;
  --tab-block-margin: 2px !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox::part(scrollbox) {
  /* Add padding to match the shadow's blur radius so the
    shadow doesn't get clipped when either the first or
    last tab is selected */
  padding-inline: var(--tab-shadow-max-size) !important;
}

/********************************
.tab-icon-image {
  filter: invert(40%) contrast(25%) saturate(25%) !important;
}

/* Remove next line if you want selec4ed tab to have color other than toolbar background - then it follows your theme color  *
	--lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;
}

.tab-background[selected] {
	border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;
}

/* Few exceptions for default light theme */
#navigator-toolbox:not([movingtab]):-moz-lwtheme > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: var(--toolbar-bgcolor) !important;
}

#TabsToolbar:not(:-moz-lwtheme) {
  --lwt-tab-line-color: transparent !important;
}

.tab-background[selected]:not(:-moz-lwtheme) {
  background: var(--toolbar-bgcolor) !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

.tab-background:not([selected])[multiselected] {
  background: color-mix(in srgb, currentColor 11%, transparent) !important;
  margin-inline-start: -1px !important;
}

/**  Line to mark selected tab */
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px !important;
  content: "";
}
.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
}
.tab-stack > .tab-background[selected]::before {
  background-image: var(--my-gradient) !important;
}
/* Photon-like tab on hover animation for the top line */
@keyframes tab-onhover-line-anim {
  from {
    margin-inline: 20px;
  }

  to {
    margin-inline: 0;
  }
}

.tab-stack:hover > .tab-background::before {
  animation: tab-onhover-line-anim 160ms;
}

:root[lwtheme-image] #navigator-toolbox:-moz-lwtheme {
  background-image: var(
    --lwt-additional-images
  ) !important; /* Original: var(--lwt-header-image), var(--lwt-additional-images);*/
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
  background-color: var(
    --lwt-accent-color
  ) !important; /* Original:  var(--lwt-accent-color)*/
}
/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.1) !important;
}

:root:-moz-lwtheme #toolbar-menubar {
  text-shadow: -1px -1px 1px rgba(255, 255, 255, 0.1),
    1px 1px 1px rgba(0, 0, 0, 0.5) !important;
  /* Original: 0 0 .5em white, 0 0 .5em white, 0 1px 0 rgba(255, 255, 255, .4) */
}

/* Unloaded Tab - Contents Opacity ******************************************/
#tabbrowser-tabs .tabbrowser-tab[pending] .tab-content {
  opacity: 0.7 !important;
}

/** Clipped tabs - Letters cleary *******************************************/
#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}

/** Clipped tabs - Show close button at hover *******************************/
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  visibility: collapse !important;
  opacity: 0 !important;

  /* Animation - Fade out */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1 !important;

  /* Animation - Fade in */
  transition: opacity 0.1s var(--animation-easing-function) !important;
}

/* Closed Button's icon thicker */
.tabbrowser-tab .tab-content > .close-icon {
  list-style-image: url("./icons/dismiss-filled.svg") !important;
}

/* Closed Button's icon larger *
.tab-close-button {
  padding: 6px !important; /* Original: 7px *
}
.tabbrowser-tab:not(:hover) > .tab-stack > .tab-content > .tab-close-button {
  padding-inline-start: 1px !important; /* Original: 0px *
  width: 19px !important; /* Original: 17px *
}

/* Closed Button's padding reduce *
#tabbrowser-tabs[closebuttons="activetab"] .tab-content > .tab-close-button {
  margin-inline-end: calc(
    (var(--inline-tab-padding) / -2) + 2px
  ) !important; /* Original: calc(var(--inline-tab-padding) / -2)*
  padding: 4px !important; /* Original: 7px *
  width: 20px !important; /* Original: 24px *
  height: 20px !important; /* Original: 24px *
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not(:hover)
  > .tab-stack
  > .tab-content
  > .tab-close-button {
  padding-inline-start: 3px !important; /* Original: 0px *
  width: 19px !important; /* Redefine from 19px !important, Original: 17px = (width - padding)  *
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
	> .tab-stack
	> .tab-background::before {
	animation: none !important;
}

/* These ones are used for the read/unread tabs styling. For italic rules use
  either "normal" or "italic" without the quotes for either no italics or using italics,
  and for bold, use either "bold" or "normal" in the same way. You'll want to use semi-transparent
  colors (if any) for background colors, otherwise it will show as too bright opaque colors.
  Requires the use of setAttribute_unread.uc.js for unread tabs editting. *
:root {
	--Loaded-and-selected-text: #eee;
	--Loaded-and-selected-italic: normal;
	--Loaded-and-selected-bold: normal;

	--Loaded-but-unread-text: #fff;
	--Loaded-but-unread-italic: italic;
	--Loaded-but-unread-bold: normal;

	--Not-loaded-text: #ccc;
	--Not-loaded-italic: italic;
	--Not-loaded-bold: normal;

	--Loading-text: #0088ff;
	--Loading-italic: normal;
	--Loading-bold: normal;
}

/* GLOW EFFECT ON TAB ICON */
/* toolbarbutton.bookmark-item:not([container=true]) .toolbarbutton-icon
for icons on the bookmarks bar under the url bar *
.tab-icon-image,
.bookmark-item:not([container="true"]) .menu-iconic-icon {
  filter: drop-shadow(0 0 3px #fff) !important;
}

/* TAB READ/UNREAD COLORS */
/* You can bold the text of any tab adding "font-weight: bold !important" after their last rule, but before the "}"  */
/* Selected (loaded) *
.tabbrowser-tab[selected="true"] .tab-label {
	color: var(--Loaded-and-selected-text) !important;
	font-style: var(--Loaded-and-selected-italic) !important;
	font-weight: var(--Loaded-and-selected-bold) !important;
}

/* Loaded but unread (not selected) *
.tabbrowser-tab:not([selected="true"])[unread] .tab-label {
	color: var(--Loaded-but-unread-text) !important;
	font-style: var(--Loaded-but-unread-italic) !important;
	font-weight: var(--Loaded-but-unread-bold) !important;
}

/* Not loaded yet (also visited) *
.tabbrowser-tab:not([selected="true"])[pending] .tab-label,
.tabbrowser-tab:not([selected="true"])[visited] .tab-label {
	color: var(--Not-loaded-text) !important;
	font-style: var(--Not-loaded-italic) !important;
	font-weight: var(--Not-loaded-bold) !important;
}

/* loading *
.tabbrowser-tab[busy] .tab-text.tab-label {
	color: var(--Loading-text) !important;
	font-style: var(--Loading-italic) !important;
	font-weight: var(--Loading-bold) !important;
}
*/
/*remove space before 1st tab*/
:root .titlebar-spacer[type="pre-tabs"] {
  display: none !important;
} /*
:root .tab-background[selected="true"] {
  background: linear-gradient(
      to bottom,
      transparent 2px,
      var(--toolbar-bgcolor) 2px,
      var(--toolbar-bgcolor) 100%
    ),
    linear-gradient(
      to right,
      #9f1aff,
      #9f1aff,
      #8a46ff,
      #765dff,
      #5d7dff,
      #3e8cff,
      #1c99ff,
      #00a5ff,
      #00b4ff,
      #00c3ff,
      #00d0ff,
      #00ddff
    ) !important;
}

/* Gray out the favicon icon on the inactive tab *

.tabbrowser-tab .tab-icon-image:not([selected=true]):not([pinned]) {
    filter: grayscale(100%) !important;
}
/* favicon gray on inactive Tab */

.tab-icon:not([selected="true"]),
.tab-icon-image:not([selected="true"]) {
  filter: grayscale(1) brightness(1) blur(20px) opacity(0.7) !important;
}

/* Onetab *
#extension_one-tab_com-browser-action {
  list-style-image: url("./icons/broom.svg") !important;
  transform: scale(2);
  margin-bottom: -3px !important;
  fill: white !important;
}

/* This sets a color for border around tabs and between tabs & navigation toolbars. Set to transparent to remove the border.*/
#navigator-toolbox {
  --tabs-border-color: color-mix(
    in srgb,
    currentcolor 60%,
    transparent
  ) !important;
}

#navigator-toolbox:not([movingtab]) > #titlebar > #TabsToolbar {
  --toolbar-bgcolor: transparent !important;
}

:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

/* Disable animation for selected and pinned tabs *
.tabbrowser-tab:is([pinned], [selected])
	> .tab-stack
	> .tab-background::before {
	animation: none !important;
}

/* Line to mark selected tab */
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box;
  height: 2px !important;
  content: "";
}
.tab-stack:hover > .tab-background::before {
  background-image: var(--my-gradient) !important;
}
.tab-stack > .tab-background[selected]::before {
  background-image: var(--my-gradient) !important;
}
*/
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  display: none;
}
:root.tabbrowser-tab[class*="identity-color-"] .tab-background {
  background: linear-gradient(0, var(--identity-tab-color) 2px, transparent 0);
}
:root.tabbrowser-tab[selected="true"][class*="identity-color-"]
  .tab-background {
  background: linear-gradient(
    to bottom,
    transparent 2px,
    var(--toolbar-bgcolor) 2px,
    var(--toolbar-bgcolor) 95%,
    var(--identity-tab-color) 2px
  ) !important;
}
:root::-moz-lwtheme.tab-background[selected="true"] {
  background: linear-gradient(
    to bottom,
    transparent 2px,
    var(--toolbar-bgcolor) 2px,
    var(--toolbar-bgcolor) 100%
  ) !important;
}

/* Gradient color container line*/
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 5px !important;
  margin: -2px 0px 0px 0px !important;
  border-top: 2px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 92%,
      var(--lwt-accent-color)
    )
    1 !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 2px !important;
  border-radius: 5px !important;
  margin: -2px 0px 0px 0px !important;
  border: 2px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-tab-line-color),
      var(--identity-icon-color) 4.5% 90%,
      var(--lwt-tab-line-color)
    )
    1 !important;
}
*/
  #TabsToolbar:not([brighttext])
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

:root:not([lwtheme-mozlightdark])
  #TabsToolbar[brighttext]
  #tabbrowser-tabs:not([noshadowfortests])
  .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background:-moz-lwtheme {
  border-radius: 5px !important;
  box-shadow: 0 0 0 1px rgba(128, 128, 142, 0.9),
    0 0 4px rgba(128, 128, 142, 0.5) !important;
}

.tabbrowser-tab[visuallyselected="true"]:hover,
#tabbrowser-tabs:not([closebuttons="activetab"])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([visuallyselected="true"]):hover {
  --tab-label-mask-size: 2em !important;
}

/* Add a translucent color on top of multiselected tabs */
.tab-background[multiselected="true"]:not([selected="true"]) {
  opacity: 0.9 !important;
  border-radius: 5px !important;
}

:root #navigator-toolbox {
  --tabs-border-color: transparent !important;
}

.tab-stack > .tab-background[selected]::before {
  /*	background-color: highlight;*/
  background-image: var(--my-gradient) !important;
}
/* Photon-like tab on hover animation for the top line*/
@keyframes tab-line-anim {
  from {
    margin-right: var(--tab-min-width);
  }
  to {
    margin-right: 0;
  }
}
.tab-background::before {
  animation: tab-line-anim 1500ms !important;
}

/* Disable animation for selected and pinned tabs */
.tabbrowser-tab[pinned] > .tab-stack > .tab-background::before {
  animation: none !important;
}
.tab-stack:hover > .tab-background::before {
  background-color: var(--toolbar-bgcolor) !important;
}
.tab-background[selected]::before {
  animation: tab-line-anim 1500ms !important;
}
@keyframes tab-loading-line-anim {
  from {
    background-position-x: left;
  }
  to {
    background-position-x: right;
  }
}
.tabbrowser-tab[busy] > .tab-stack > .tab-background[selected]::before {
  background-size: 300% !important;
  background-image: var(--my-gradient) !important;
  opacity: 0.9 !important;
  animation: tab-line-anim 1500ms,
    tab-loading-line-anim 800ms alternate infinite ease-in-out !important;
}
/* Hide the throbber all tabs*/
.tab-throbber {
  display: none;
}
.tab-icon-image[src] {
  display: -moz-box;
}
*/

/* Remove throbber from selected tab*/
.tab-throbber[selected] {
  display: none !important;
}
:root {
  --toolbarbutton-focus-outline: var(--focus-outline);
  --focus-outline: none !important;
}

:root[privatebrowsingmode="temporary"] {
  /* Value for --in-content-page-background in aboutPrivateBrowsing.css.
     !important overrides the direct setting of this variable in
     ThemeVariableMap.jsm when the user has a theme that defines
     ntp_background. */
  --tabpanel-background-color: #25003e !important;
}

#tabbrowser-tabs {
  --tab-min-width: 76px !important;
  --tab-loading-fill: #0a84ff;
}

#tabbrowser-tabs,
#tabbrowser-arrowscrollbox,
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  min-height: var(--tab-min-height) !important;
}

.tab-background,
.tab-stack {
  min-height: inherit !important;
  border-radius: 5px !important;
}
.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}
/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}
#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px;
  height: 5px;
  z-index: 2;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  left: -5px;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  right: -5px;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}
.tabbrowser-tab[usercontextid] .tab-context-line {
  opacity: 0 !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]
  .tab-context-line,
.tabbrowser-tab[usercontextid]:is(:hover, [selected], [multiselected], .keyboard-focused-tab, [open])
  .tab-context-line {
  transform: none;
  opacity: 1 !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::before,
.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack::before {
  left: -4.6px !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::after,
.tabbrowser-tab[usercontextid]:is(:hover, .keyboard-focused-tab, [selected], [visuallyselected], [open]):not([multiselected])
  .tab-stack::after {
  right: -4.6px !important;
}
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::after,
#tabbrowser-tabs:is(:hover, :focus-within)
  .tabbrowser-tab[usercontextid]:not([multiselected])
  .tab-stack::before,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack::after,
.tabbrowser-tab[usercontextid]:is([selected], :hover, .keyboard-focused-tab, [open])
  .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  );
}
/***/
.tabbrowser-tab[selected],
.tabbrowser-tab[pinned]:not([selected]) {
  --tab-bg-current: var(--toolbar-bgcolor);
}

.tabbrowser-tab:not([selected], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  --tab-bg-current: hsl(233, 55%, 8%);
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]) {
  --tab-bg-current: hsl(233, 53%, 8%);
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  --tab-bg-current: hsl(233, 51%, 10%);
}
/* style the loading burst that triggers when tab loading finishes */
.tab-loading-burst {
  z-index: 2 !important;
  pointer-events: none;
}

#TabsToolbar .tab-loading-burst::before {
  backface-visibility: hidden;
}
/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */
.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */
.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */
.tabbrowser-tab[visuallyselected="true"] {
  z-index: 6 !important;
}

/* multiselected tabs do too, but lower than selected tabs */
.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */
.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 6 !important;
}

/* pinned tabs stack over everything except selected tabs */
.tabbrowser-tab[pinned] {
  z-index: 7 !important;
}

/* and the same formula applies to them too */
.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected] {
  z-index: 9 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 10 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected][visuallyselected="true"] {
  z-index: 11 !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

#tabbrowser-tabs[positionpinnedtabs]
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border: none !important;
}

.tab-throbber[busy]::before {
  opacity: 0.8 !important;
  fill: var(--busy-throbber-fill) !important;
}

.tab-throbber[progress]::before {
  opacity: 1 !important;
  fill: var(--loading-throbber-fill) !important;
}

/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
  border-radius: 5px !important;
  -moz-box-ordinal-group: 2 !important;
}

/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}

.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
  border-radius: 5px !important;
}
.tab-background {
  border: none !important;
  border-radius: 5px !important;
}

/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}
/* Selected tab *

.tab-background {
  border: 2px none transparent !important;
  background-clip: padding-box !important;
}


/* New tab button */

#tabs-newtab-button,
#TabsToolbar #new-tab-button {
  list-style-image: url(chrome://global/skin/icons/plus.svg) !important;
}
/* Hide solo tab *
#tabbrowser-tabs
  tab[first-visible-tab="true"][last-visible-tab="true"]:only-of-type {
  visibility: collapse;
}
/* Stretch Tabs*/
.tabbrowser-tab[fadein]:not([pinned]) {
  max-width: none !important;
}
/*
#TabsToolbar {
	background-image: radial-gradient(
		eclipse at bottom,
		rgba(255, 255, 255, 0.8),
		rgba(255, 255, 255, 0.5) 80%,
		transparent
	) !important;
}*/
/* (MACOS ONLY!) Enable window vibrancy behind tabs *

#navigator-toolbox:not(:-moz-window-inactive) {
  background-color: #0001 !important;
}

#main-window[lwthemetextcolor="bright"]
  #navigator-toolbox:not(:-moz-window-inactive) {
  background-color: #1114 !important;
}
#main-window {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  appearance: auto;
}

#main-window[lwthemetextcolor="bright"] {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  appearance: auto;
}

:-moz-any(#main-window, #navigator-toolbox):-moz-any([inFullscreen="true"], :-moz-window-inactive) {
  appearance: none !important;
  background-color: var(--lwt-accent-color) !important;
}

/* Edge Style Tab Shadows *

#nav-bar {
  box-shadow: 0 -1px 2px -1px #0004 !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 2px -1px #0006 !important;
}

.tabbrowser-tab[visuallyselected] .tab-background {
  box-shadow: 0 2px 4px #0005, 0 -1px 2px -1px #0004 !important;
}
*/
:root[lwthemetextcolor="bright"]
  .tabbrowser-tab[visuallyselected]
  .tab-background,
:root[lwthemetextcolor="bright"] {
  box-shadow: 0 2px 4px #0008, 0 -1px 2px -1px #0006 !important;
}
#PlacesToolbarItems > toolbarseparator::before {
  border-image-source: linear-gradient(
    transparent 8px,
    var(--toolbarseparator-color) 8px,
    var(--toolbarseparator-color) calc(100% - 8px),
    transparent calc(100% - 8px)
  ) !important;
}

#PersonalToolbar {
  padding-block: 0 2px !important;
  padding-inline: 6px 12px !important;
  margin-top: -2px !important;
  background: var(--toolbar-bgcolor) !important;
  clip-path: inset(2px 0 0 0) !important;
}
:-moz-any(.titlebar-placeholder, .titlebar-spacer)[type="pre-tabs"] {
  width: 0 !important;
}

#TabsToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  background-color: transparent !important;
  color: var(--lwt-text-color) !important;
}
.tab-close-button {
  filter: drop-shadow(2px 0px 0 black) !important;
}
/* different tab background colors in various states */
.tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-hover) !important;
}

.tabbrowser-tab:is([visuallyselected], [selected]) .tab-background {
  background: var(--tab-selected) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant])
  > .tab-stack
  > .tab-background,
.tabbrowser-tab.keyboard-focused-tab[selected] > .tab-stack > .tab-background {
  background: var(--tab-focused-hover) !important;
}

.tabbrowser-tab:not([selected])[pinned]:is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-pinned-hover) !important;
}

.tabbrowser-tab:not([selected], [pinned], [multiselected], :hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-background) !important;
}

.tabbrowser-tab:not([selected])[pinned] .tab-background {
  background: var(--tab-pinned) !important;
}

.tabbrowser-tab[multiselected]:not([selected], [pinned], :hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-multi) !important;
}

.tabbrowser-tab[multiselected]:not([selected], [pinned]):is(:hover, .keyboard-focused-tab, [open])
  .tab-background {
  background: var(--tab-multi-hover) !important;
}
/* block our animations while tabs are being dragged & dropped */
#tabbrowser-tabs[movingtab] .tabbrowser-tab *,
#tabbrowser-tabs .tabbrowser-tab[justmoved] * {
  transform: none !important;
}
/*
.tab-background {
  border: none !important;
  border-radius: 0px !important;
  opacity: 1 !important;
}
/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1) !important;
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
}

/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}

.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
}

.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}

/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  overflow: hidden !important;
}

#TabsToolbar .tabbrowser-tab[selected],
#TabsToolbar
  .tabbrowser-tab[selected]
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
}

#TabsToolbar .tabbrowser-tab[multiselected]:not([pinned]),
#TabsToolbar
  .tabbrowser-tab[multiselected]:not([pinned])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 5px !important;
  border-top-right-radius: 5px !important;
}

#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open]),
#TabsToolbar
  .tabbrowser-tab:not([selected]):is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}
/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0;
  content: "";
  display: block;
  position: absolute;
  pointer-events: none;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff);
  mask-composite: exclude;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::after {
  display: none !important;
}

#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack::after {
  display: block !important;
}
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[selected] .tab-stack::after,
.tabbrowser-tab[selected] .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[multiselected] .tab-stack::after,
.tabbrowser-tab[multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

.tabbrowser-tab[usercontextid] .tab-stack::after,
.tabbrowser-tab[usercontextid] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack::after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 2px,
    var(--tab-bg-current) 2px
  ) !important;
}
/* this is all the convoluted z-index stuff I was talking about — how tab depth is controlled. */

/* default position is for tabs to be stacked on top of the tab to their left.
so shadows are cast to the left but not to the right. */
.tabbrowser-tab {
  position: relative !important;
}

/* hovered tabs stack on top of normal tabs in either direction.
so shadows are cast in both directions, unless the neighboring tab is selected or something. */
.tabbrowser-tab:not([visuallyselected="true"], [pinned], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 3 !important;
}

/* selected tabs stack over hovered tabs */
.tabbrowser-tab[visuallyselected="true"] {
  z-index: 6 !important;
}

/* multiselected tabs do too, but lower than selected tabs */
.tabbrowser-tab[multiselected] {
  z-index: 4 !important;
}

/* multiselected gets 1 extra point for being hovered */
.tabbrowser-tab[multiselected]:not([visuallyselected="true"], [pinned]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 5 !important;
}

.tabbrowser-tab[multiselected][visuallyselected="true"] {
  z-index: 6 !important;
}

/* pinned tabs stack over everything except selected tabs */
.tabbrowser-tab[pinned] {
  z-index: 7 !important;
}

/* and the same formula applies to them too */
.tabbrowser-tab[pinned]:not([visuallyselected="true"], [multiselected]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 8 !important;
}

.tabbrowser-tab[pinned][multiselected] {
  z-index: 9 !important;
}

.tabbrowser-tab[pinned][multiselected]:not([visuallyselected="true"]):is(:hover, .keyboard-focused-tab, [open]) {
  z-index: 10 !important;
}

.tabbrowser-tab[pinned][visuallyselected="true"],
.tabbrowser-tab[pinned][multiselected][visuallyselected="true"] {
  z-index: 11 !important;
}

/* pinned tabs should style just like regular tabs except without labels and buttons */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned]
  > .tab-stack {
  border-inline: none !important;
}

/* tab buttons are generally styled the same */
.tab-close-button,
.tab-icon-sound:not([pictureinpicture]) {
  opacity: 1 !important;
  fill: white !important;
  fill-opacity: 1 !important;
  border-radius: var(--tab-button-border-radius, 2px) !important;
}
.tab-close-button:hover {
  opacity: 1 !important;
}
.tabbrowser-tab:is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-icon-sound, .tab-close-button):not(:hover) {
  opacity: 1 !important;
}

.tabbrowser-tab:is(:hover, .keyboard-focused-tab, [open])
  :is(.tab-icon-sound, .tab-close-button):hover:active {
  background-color: var(--arrowpanel-dimmed-further) !important;
  opacity: 1 !important;
}

.tabbrowser-tab:not([pinned]):is(:hover, .keyboard-focused-tab, [open])
  .tab-close-button:not(:hover, :active) {
  opacity: 1 !important;
}

/* Adjust Colors *
.tab-background:not([selected="true"]),
.tab-background[selected="true"] {
  background: transparent !important;
}
*/
#urlbar[breakout][breakout-extend] > #urlbar-background {
  background: linear-gradient(
    180deg,
    transparent calc(var(--urlbar-height) + 1px),
    var(--key-color) 0
  ) !important;
}
*/ :root {
  /* This defines the size of the blue highlight on the tabs. */
  /* It differs for no reason depending on OS/setup */
  --tab-color-offset: -2px; /* Default: -1px */
}
/***1st pinned tab space */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  /* Add a gap between the last pinned tab and the first visible tab */
  margin-inline-start: 0px !important; /* .tabbrowser-tab sets margin: 0 !important; */
}
#TabsToolbar {
  --attention-icon-color: var(
    --lwt-tab-attention-icon-color,
    rgb(42, 195, 162)
  ) !important;
}

#TabsToolbar[brighttext] {
  --attention-icon-color: var(
    --lwt-tab-attention-icon-color,
    rgb(84, 255, 189)
  ) !important;
}

/** Container Tab - Color line at icon's bottom *******************************/
.tab-context-line {
  display: none;
}

.tab-icon-image {
  box-sizing: content-box;
  padding: 2px 0 !important;

  border-bottom: 2px solid var(--identity-icon-color) !important;
}

/* None exist favicon & Pinned to select */
.tabbrowser-tab:not([image]):not([pinned], [sharing], [crashed]):not([soundplaying], [muted], [activemedia-blocked])
  .tab-content::before,
.tabbrowser-tab[pinned][visuallyselected]:not([busy]):not(:hover)
  .tab-content::before {
  /* Box Model */
  content: "";
  display: block;
  position: absolute !important;
  transition: 0.2s !important;
  transform: translateY(10px) !important;

  /* Shape */
  border-bottom: 2px solid var(--identity-icon-color) !important;
  width: 16px !;
}
.tabbrowser-tab:not([image]):not([pinned], [sharing], [crashed]):not([soundplaying], [muted], [activemedia-blocked])
  .tab-content::before {
  transform: translateY(10px) !important; /* None exist favicon */
}
.tabbrowser-tab[pinned][visuallyselected]:not([busy]):not(:hover)
  .tab-content::before {
  transform: translateX(2.5px) translateY(10px) !important; /* Pinned to select */
}

/* None exist favicon - With Sound */
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  box-sizing: content-box;
  padding: 3px 0;

  border-radius: 0 !important;
  border-bottom: 2px solid var(--identity-icon-color);
}
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]):hover {
  padding: 0;

  border-radius: 10px !important;
  border-bottom: none;
}

/* Pinned Tab - Titlechanged Indicator override */
.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"])
  .tab-icon-image,
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"])
  .tab-icon-image {
  border-bottom: 2px solid transparent !important;
}

.tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  --dotted-identity-image: radial-gradient(
    circle,
    var(--identity-icon-color),
    var(--identity-icon-color) 2px,
    transparent 2px
  ) !important;
  background-image: var(--dotted-identity-image), var(--dotted-identity-image),
    var(--dotted-identity-image) !important;
  background-position-x: 32%, 50%, 70% !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  background-position-x: 30%, 50%, 70% !important;
}
/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}

/** Selected Tab - Bottom Rounded Corner ************************************/
#tabbrowser-tabs {
  --tab-corner-rounding: 5px; /* 10px looks about like chromium - 17px looks close to Australis tabs */
  --tab-corner-padding: 1px;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before,
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  /* Box */
  content: "" !important;
  display: block !important;
  position: absolute !important;
  z-index: 1 !important;

  /* Shape */
  width: var(--tab-corner-rounding) !important;
  height: 100% !important;

  /* Color */
  fill: var(--toolbar-bgcolor) !important;
  stroke: var(--tabs-border-color, transparent) !important;
  -moz-context-properties: fill, stroke !important;

  background-image: url(./icons/tab-bottom-corner.svg) !important;
  background-size: var(--tab-corner-rounding) !important;
  background-repeat: no-repeat !important;
  background-position-y: bottom !important;
}

:root[lwtheme="true"] tab[visuallyselected] > stack::before {
  left: calc(var(--tab-corner-padding) - var(--tab-corner-rounding)) !important;
}
:root[lwtheme="true"] tab[visuallyselected] > stack::after {
  left: auto;
  right: calc(var(--tab-corner-padding) - var(--tab-corner-rounding));
  transform: scaleX(-1) !important;
}
/* Move container color bar to bottom of tab */

.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 2px) !important;
  border-radius: 5px !important;
}

/* Emulate blue tab line from Photon 57-88 UI */

/* Set size and position of the bar relative to background */
.tab-background::before {
  content: "";
  display: block;
  height: 2px;
  border-radius: 5px !important;
}
/* Active tab */
.tabbrowser-tab[selected] .tab-background::before {
  background-color: var(--lwt-tab-line-color);
}
/* Selected tabs */
.tabbrowser-tab[multiselected]:not([selected]) .tab-background::before {
  background-color: color-mix(
    in srgb,
    var(--lwt-tab-line-color) 66%,
    transparent
  ) !important;
}
/* non-active/non-selected tabs */
.tabbrowser-tab:not([selected], [multiselected]):hover .tab-background::before {
  background-color: color-mix(
    in srgb,
    currentColor 33%,
    transparent
  ) !important;
}
/* non-active/non-selected tabs (container) */
.tabbrowser-tab[usercontextid]:not([selected], [multiselected]):hover
  .tab-background::before {
  background-color: color-mix(
    in srgb,
    var(--identity-tab-color) 100%,
    transparent
  ) !important;
  filter: brightness(20%) !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}
/* Container tabs */
.tabbrowser-tab[usercontextid] .tab-background::before {
  background: var(--identity-tab-color) !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}

/* [Optional] Animation when hovering non-active/non-selected tabs *

.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  transform: scaleX(0.8);
  transition: transform 100ms linear;
}

/* Cool container tabs */

/* Hide default line *
.tabbrowser-tab[usercontextid] .tab-context-line {
  display: none !important;
}

/* Tab background *
.tabbrowser-tab[usercontextid]:not([selected]) .tab-background {
  background: var(--identity-tab-color) !important;
  opacity: 0.6 !important;
}
.tabbrowser-tab[usercontextid]:not([selected]) {
  background: var(--identity-tab-color) !important;
}

/* Adjust margin on blue tab line for squared background tabs *
.tabbrowser-tab:not([selected], [multiselected]) .tab-background::before {
  margin: 0px 0 0 !important;
}
/*	Faviicon when mouse over active tab grayscale(15%) Pinned */
.tabbrowser-tab:hover .tab-icon-image[pinned] {
  filter: grayscale(0%) !important;
}

/* Favicon icon on pinned inactive tab grayscale(35%) */
.tabbrowser-tab .tab-icon-image[pinned] {
  filter: grayscale(15%) !important;
}

/* Favicon icon when mouse over over inactive tab grayscale(15%) */
.tabbrowser-tab:hover .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: grayscale(0%) !important;
}

/* Gray out the favicon icon on the inactive tab */
.tabbrowser-tab .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: grayscale(100%) !important;
}
/*** Container color bar visibility */
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin: 0px max(calc(var(--user-tab-rounding) - 3px), 0px) !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}

/***  Glowing line at bottom. *
.tabbrowser-tab > .tab-stack > .tab-background > .tab-context-line {
  background-color: var(--identity-icon-color) !important;
  height: 2px !important;
  border-radius: 5px !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}
/*
#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0px 0px 2px 1px rgba(255, 255, 255, 0.6) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/integrated_searchbar_popup.css made available  */
/* This makes the searchbar popup look integrated into the searchbar,kinda like urlbar popup looks.
 * Go to about:config and enable color-mix with layout.css.color-mix.enabled to make the popup border show properly, or make the border use other color.*/

#PopupSearchAutoComplete,
#searchbar {
  /* text input is clipped if this is too large compared to font-size. */
  --uc-searchbar-border-radius: 6px;
}

#PopupSearchAutoComplete {
  --uc-inner-margin: 6px;
  --uc-searchbar-border-outer-radius: calc(
    var(--uc-searchbar-border-radius) + var(--uc-inner-margin)
  );
  --arrowpanel-border-color: transparent !important;
  margin-top: calc(1px - var(--uc-searchbar-border-radius));
  outline: 2px solid var(--toolbar-field-focus-border-color) !important;
  outline-offset: -8px;
  -moz-window-shadow: none !important;
  margin-inline: calc(0px - var(--uc-inner-margin));
  padding-inline: var(--uc-inner-margin);
  margin-bottom: -6px;
  padding-bottom: 6px;
  filter: drop-shadow(0 0 6px rgba(0, 0, 0, 0.2));
  background: transparent !important;
  border-radius: 0 0 var(--uc-searchbar-border-outer-radius)
    var(--uc-searchbar-border-outer-radius) !important;
}

#searchbar:focus-within {
  border-radius: var(--uc-searchbar-border-radius) !important;
}

slot {
  border-radius: 0 0 var(--uc-searchbar-border-radius)
    var(--uc-searchbar-border-radius) !important;
}
#PopupSearchAutoComplete::before {
  height: 8px;
  background: var(--toolbar-field-focus-background-color);
  border-inline: 2px solid var(--toolbar-field-focus-border-color);
  display: -moz-box;
  content: "";
  position: relative;
  z-index: 2;
}
/*** Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_bookmarks_toolbar.css */

#PersonalToolbar {
  --uc-bm-height: 28px; /* Might need to adjust if the toolbar has other buttons */
  --uc-bm-padding: 7px; /* Vertical padding to be applied to bookmarks */
  --uc-autohide-toolbar-delay: 300ms; /* The toolbar is hidden after 0.6s */

  /* 0deg = "show" ; 90deg = "hide" ;  Set the following to control when bookmarks are shown */
  --uc-autohide-toolbar-focus-rotation: 90deg !important; /* urlbar is focused */
  --uc-autohide-toolbar-hover-rotation: 0deg; /* cursor is over the toolbar area */
}

:root[uidensity="compact"] #PersonalToolbar {
  --uc-bm-padding: 1px !important;
}
:root #PersonalToolbar {
  --uc-bm-padding: 7px !important;
}

#PersonalToolbar:not([customizing]) {
  position: relative;
  margin-bottom: calc(0px - var(--uc-bm-height) - 2 * var(--uc-bm-padding));
  transform: rotateX(90deg);
  transform-origin: top;
  transition: transform 135ms linear var(--uc-autohide-toolbar-delay) !important;
  z-index: 1;
  /* The following properties should allow the themes with trasparent toolbars to work */
  background-color: transparent !important;
  background-repeat: no-repeat, no-repeat, var(--lwt-background-tiling);
  --uc-bg-y: calc(
    -2 * (
        var(--tab-block-margin) + var(--toolbarbutton-inner-padding) +
          var(--toolbarbutton-outer-padding)
      ) - var(--tab-min-height) - 16px - var(--bookmark-block-padding)
  );
  background-position: top left, top left,
    var(--lwt-background-alignment, top left);
  background-position-y: top, top, var(--uc-bg-y), var(--uc-bg-y),
    var(--uc-bg-y);
  background-image: linear-gradient(
      var(--toolbar-bgcolor),
      var(--toolbar-bgcolor)
    ),
    var(--lwt-header-image, var(--lwt-additional-images)) !important;
}

#PlacesToolbarItems > .bookmark-item,
#OtherBookmarks,
#PersonalToolbar > #import-button {
  padding-block: var(--uc-bm-padding) !important;
}

#nav-bar:focus-within + #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-focus-rotation, 0));
}

#navigator-toolbox:hover > #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-hover-rotation, 0));
}

#navigator-toolbox:hover > #nav-bar:focus-within + #PersonalToolbar {
  transform: rotateX(0);
}

/** Gradient line ***/

.tab-content::after {
  width: calc(100%-10px) !important;
  margin-block: 0px !important;
  background-image: linear-gradient(
    to right,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  position: absolute;
  content: "";
  height: 2px !important;
  left: 0px;
  right: 0px;
  top: 0;
  margin-right: 0px !important;
  margin-left: 0px !important;
  border-radius: 5px !important;
  transform: scale(0, 0) !important;
  transform-origin: center center !important;
  opacity: 1 !important;
}

.tab-content[selected="true"]::after {
  transform: scale(1, 1) !important;
}
/* Selected tab */

#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 4px rgba(114, 109, 109, 0.411) !important;
}
/**  inactive Favicons */
.tabbrowser-tab:not([visuallyselected="true"], [multiselected])
  .tab-icon-image {
  filter: brightness(60%) grayscale(10%) contrast(120%) blur(0.5px)
    opacity(100%) !important;
}

.tabbrowser-tab:not([visuallyselected="true"], [multiselected]):hover
  .tab-icon-image {
  filter: drop-shadow(1px 1px 2px rgba(43, 43, 43, 0.658))
    drop-shadow(1px 1px 1px rgba(2, 2, 2, 0.74)) contrast(175%) brightness(113%) !important;
}

/* Inactive Tab Opacity */
.tabbrowser-tab {
  opacity: 0.8 !important;
  padding-inline: 0 !important;
}
.tabbrowser-tab:hover {
  opacity: 1 !important;
}

/* Unloaded Tab - Contents Opacity ********************************************/
#tabbrowser-tabs .tabbrowser-tab[pending] .tab-content {
  opacity: 0.7 !important;
}
#urlbar {
  box-shadow: 0px 0px 20px #1a1b26 !important;
}
#urlbar[breakout][breakout-extend][open] {
  /* background-color: #16161e !important;*/
  -webkit-backdrop-filter: blur(32px) !important;
  backdrop-filter: blur(32px) !important;
}
#wrapper-urlbar-container #urlbar {
  height: var(--urlbar-height) !important;
}
:root {
  --default-search-identity-icon: url(chrome://userchrome/content/engines/my-engine-icon.svg) !important;
}
.tab-context-line {
  -moz-box-ordinal-group: 2;
  margin-block: 0 !important;
}
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-image: linear-gradient(
    to right,
    transparent 5px,
    var(--identity-tab-color) 5px,
    var(--identity-tab-color) calc(100%-5px),
    transparent calc(100%-5px)
  ) !important;
  height: 2px !important;
  margin-bottom: 0px !important;
}
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line
  + .tab-loading-burst {
  background-color: var(--identity-tab-color) !important;
  opacity: 0.3 !important;
}
/* align bookmarks with nav and tabs */
#PersonalToolbar {
  padding-inline: 2px !important;
}
.tab-label-container:not([selected="true"], [multiselected]) {
  opacity: 1 !important;
}
/*** Unread Tab Mods ***/
.tabbrowser-tab[notselectedsinceload]:not([pending]:not([busy])) {
  font-style: italic !important;
}
/* controls the appearance of individual tabs and elements inside a tab. *

#TabsToolbar .tabbrowser-tab {
  background: var(--lwt-accent-color) !important;
  padding: 0 !important;
}
.tab-background {
  border: none !important;
  border-radius: 5px !important;
  z-index: 1 !important;
}
/* different tab shadows in various states. to produce the illusion of modulated depth */
.tabbrowser-tab .tab-content {
  box-shadow: 0px 0px 15px 0px hsla(0, 0%, 0%, 0.2),
    0px 0px 5px 0px hsla(0, 0%, 0%, 0.1);
}

.tabbrowser-tab:not([selected], [multiselected]):is(:hover, .keyboard-focused-tab, [open])
  .tab-content,
.tabbrowser-tab:is([multiselected], [pinned]) .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.25) !important;
}

.tabbrowser-tab[selected] .tab-content,
.tabbrowser-tab:is([multiselected], [pinned])[selected] .tab-content {
  box-shadow: 0px 0px 20px 1px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}

.tabbrowser-tab:focus:not([aria-activedescendant]) .tab-content {
  box-shadow: 0px 0px 25px 3px rgba(0, 0, 0, 0.1),
    0px 0px 15px 0px hsla(0, 0%, 0%, 0.35) !important;
}
/* colored lines on container tabs */
.tabbrowser-tab[usercontextid] .tab-context-line {
  background: var(--identity-tab-color) !important;
  height: 2px !important;
  margin-bottom: 0 !important;
}
/* purple line on multiselected tabs */
#TabsToolbar .tabbrowser-tab[multiselected="true"] .tab-context-line {
  min-height: 2px !important;
  background-color: var(--multiselected-color) !important;
}
.tabbrowser-tab .tab-context-line {
  display: -moz-box !important;
  -moz-box-ordinal-group: 2 !important;
  height: 2px !important;
  margin: 0 !important;
  opacity: 1 !important;
}
/***
.tabbrowser-tab:not([usercontextid], [multiselected]) .tab-context-line {
  display: none !important;
}
/*
.tab-label[attention]:not([selected="true"]) {
  font-weight: unset !important;
}
.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-image: unset !important;
  background-position: unset !important;
  background-repeat: unset !important;
}
/* highlight unread tabs; requires italicizeUnreadTabs.uc.js */
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload]:not([pending]),
:root[italic-unread-tabs] .tabbrowser-tab[notselectedsinceload][pending][busy] {
  font-style: italic !important;
}

/* tab top border roundness */
#TabsToolbar .tabbrowser-tab,
#TabsToolbar
  .tabbrowser-tab
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
  border-top-left-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
  border-bottom-left-radius: 5px !important;
  overflow: hidden !important;
}

/* unround top left/right corner for first/last tab.
this is complicated because we don't want to unround a tab unless it's really in place as the first/last tab,
and is stuck up against the left/right edge of the tab strip. that means we don't unround tabs when
1) a tab is being dragged/dropped, 2) a tab is being moved by an animation,
or 3) tabs are being closed from the end via mouse, and the mouse is still in the navbar,
because tabs are prevented from flexing to the end until the user's mouse leaves the navbar. */
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"]),
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 0 !important;
}

/* remove the first tab's rounded top left corner */
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"]),
#TabsToolbar
  #tabbrowser-tabs:not([using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-left-radius: 0 !important;
}

/* when there are no unpinned tabs and the tab strip is not overflowing,
the tab strip won't be filled since they don't flex to fill the tab strip.
so the last tab should have a rounded corner since it won't be touching the end of the tab strip. */
#TabsToolbar
    #tabbrowser-tabs
    #tabbrowser-arrowscrollbox:not([overflowing="true"])
    .tabbrowser-tab[last-visible-tab][pinned]
    :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst),
/* when the last tab has its max-width property set, it means tab sizing
has been set to some value less than what would fill the tab strip,
by _lockTabSizing in tabbrowser-tabs.js. this prevents the tabs from snapping
to fill the space when the user closes tabs with the mouse, in order to keep
the close button under the mouse. if the tab strip is overflowing, this is achieved
by adding a spacer (using-closing-tabs-spacer) at the end of the tab strip.
if it's not overflowing, this is achieved by setting the max-width of every tab
to the current width of the tab that was just closed. this way the tabs don't expand
when a tab is removed, until the user's mouse has moved out of the tab strip.
since the tabs no longer fill the entire tab strip, we give the final tab a rounded top-right corner.
you can see this at work by making a new tab and opening 5 tabs. select the first tab,
then close tab 2 by clicking its close button. then close tabs 3 and 4 without moving the mouse.
the tabs' width will not expand until you move your mouse out of the tab strip. */
#TabsToolbar
    #tabbrowser-tabs
    #tabbrowser-arrowscrollbox:not([overflowing="true"])
    .tabbrowser-tab[last-visible-tab][style*="max-width"]
    :is(.tab-stack, .tab-background, .tab-content, .tab-loading-burst) {
  border-top-right-radius: 5px !important;
}

/* set rounded outside corners on tabs so they look like folder labels.
you can disable this by making a new pref in about:config and setting it to true: "userChrome.tabs.rounded-outer-corners.disabled"
this CSS is complicated because the outside corner needs to take on the color of the tab,
but it's not part of the tab background so it doesn't do so automatically. */

/* overflow needs to be visible since the corners need to be outside the bounding box of the tab,
otherwise they won't overlap with other tabs, they'll just push tabs 10px away from each other, and from the edge of the tab bar. *
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack {
  overflow: visible !important;
}

.tabbrowser-tab .tab-stack::before,
.tabbrowser-tab .tab-stack::after {
  bottom: 0 !important;
  content: "";
  display: block !important;
  position: absolute !important;
  pointer-events: none !important;
  width: 5px !important;
  height: 5px !important;
  z-index: 2 !important;
}

.tabbrowser-tab .tab-stack::before {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-left.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  left: -5px !important;
}

.tabbrowser-tab .tab-stack::after {
  mask: url(chrome://userchrome/content/skin/tab-corner-mask-right.svg) 0/100%
      100%,
    linear-gradient(#fff, #fff) !important;
  mask-composite: exclude !important;
  right: -5px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::before {
  left: -4.6px !important;
}

.tabbrowser-tab[usercontextid]:not([multiselected]) .tab-stack::after {
  right: -4.6px !important;
}

/* z-index of these corners is very complicated because the z-index of other elements needs to be set directly,
to create the impression that tabs are layering on top of each other, with rightmost tabs on top and leftmost tabs on bottom.
this is the normal state but hovering, selecting, pinning, etc. needs to change the z-index so tabs can "pop out" of the stack.
so because z-index is being modulated so heavily we need to do the same with our outside corners,
or else they'll end up being covered up or showing through things they shouldn't. */
.tabbrowser-tab .tab-context-line {
  z-index: 3 !important;
  position: relative !important;
}

.tabbrowser-tab {
  z-index: 0 !important;
}

.tabbrowser-tab .tab-content {
  z-index: 1 !important;
}

.tabbrowser-tab[pinned] .tab-stack::before,
.tabbrowser-tab[pinned] .tab-stack::after {
  z-index: 6 !important;
}

.tab-icon-stack {
  z-index: -1 !important;
}

/* hide the corners on first/last visible tabs, just like we unround the top corners */
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[first-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::before,
#tabbrowser-tabs:not([movingtab], [using-closing-tabs-spacer])
  .tabbrowser-tab[last-visible-tab]:not([justmoved], [style*="transform"])
  .tab-stack::after {
  display: none !important;
}

/* we can't apply the rounded outside corner to the last tab when tabs' max-width is manually set
to prevent tabs from flexing, while the user is closing tabs with the mouse button.
it's kinda complicated but basically the outside corner would add 5px to the last tab,
which would make the tab strip overflow for like 1ms which changes the way tabbrowser-tabs.js works.
if we apply the corner in this situation when closing a tab to the right of the active tab,
while the tab strip is not overflowing, then there'll be no animation when the tab closes.
which would look very ugly so it's not worth it. this means there'll be rounded inside corners
on the last tab when it's not stretching to the right edge of the tab strip,
but unfortunately it won't have rounded outside corners unless the tab strip is overflowing. */
#TabsToolbar
  #tabbrowser-tabs
  #tabbrowser-arrowscrollbox:not([overflowing="true"])
  .tabbrowser-tab[last-visible-tab][pinned]
  .tab-stack::after {
  display: block !important;
}

/* how the background color is applied. it's not as convoluted as it looks,
it needs to be a gradient image because the bottom line .tab-context-line overlaps with the outside corners.
we want the corners to take on the color of the bottom line, but the corners are taller than the bottom line, so they can't be fully the same color as the line.
they must have a 1px tall stripe at the bottom, the color of the bottom line (should it exist), with the remaining 4px being the current bg color of the tab. *
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::after,
.tabbrowser-tab:not([selected], [multiselected]) .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[selected] .tab-stack::after,
.tabbrowser-tab[selected] .tab-stack::before {
  background-image: linear-gradient(
    var(--tab-bg-current),
    var(--tab-bg-current)
  ) !important;
}

.tabbrowser-tab[multiselected] .tab-stack::after,
.tabbrowser-tab[multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}

.tabbrowser-tab[usercontextid] .tab-stack::after,
.tabbrowser-tab[usercontextid] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--identity-tab-color) 0px,
    var(--identity-tab-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}

.tabbrowser-tab[usercontextid][multiselected] .tab-stack::after,
.tabbrowser-tab[usercontextid][multiselected] .tab-stack::before {
  background-image: linear-gradient(
    0deg,
    var(--multiselected-color) 0px,
    var(--multiselected-color) 1px,
    var(--tab-bg-current) 1px
  ) !important;
}
.tab-background {
  border: none !important;
  border-radius: 0px !important;
  box-shadow: none !important;
  opacity: 1 !important;
  z-index: 1;
}*/
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
} /*
.tab-content[pinned] {
  -moz-box-pack: center !important;
}
.tab-content[pinned] {
  width: 36px !important;
  padding: 0 !important;
  padding-inline-start: 10px !important;
  padding-inline-end: 0 !important;
}
#tabbrowser-tabs[overflow] {
  margin-inline-start: 8px !important;
}

#tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-tab]:not([pinned]),
#tabbrowser-tabs[overflow]
  .tabbrowser-tab[pinned]
  + .tabbrowser-tab:not([pinned]),
#tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab] {
  margin-inline-start: 8px !important;
}
/***  circle indicator
.tabbrowser-tab[usercontextid] > .tab-stack::after {
  content: "" !important;
  position: absolute !important;
  display: flex !important;
  bottom: 0 !important;
  left: 8px !important;
  width: calc(100% - 16px) !important;
  height: 2px !important;
  box-sizing: border-box !important;
  border-radius: 99px 99px 0 0 !important;
  transform: none !important;
  background: var(--identity-tab-color) !important;
  transition-property: top, bottom, left, right, width, height, border-radius;
  transition-duration: 0.225s !important;
  transition-timing-function: var(--ease-out) !important;
}

*/
#main-window[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([movingtab])
  > .tabbrowser-arrowscrollbox
  > .tabbrowser-tab
  > .tab-stack
  > .tab-background[selected="true"]:-moz-lwtheme {
  box-shadow: 0 4px 3px rgba(0, 0, 0, 0.45) !important;
}

:root:-moz-any([sizemode="fullscreen"], [customize-entered])
  #nav-bar:not([tabs-hidden="true"]),
:root:not([tabsintitlebar]) #nav-bar:not([tabs-hidden="true"]),
#nav-bar:not([tabs-hidden="true"]):-moz-lwtheme {
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2) !important;
}

#main-window[lwthemetextcolor="bright"] #TabsToolbar {
  background: rgba(0, 0, 0, 0.49) !important;
}
/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.3) !important;
}
#sidebar-header,
#sidebar-search-container,
#bookmarks-view-children,
#historyTree {
  background-color: #231a4d !important;
  -moz-appearance: none !important;
}
/*prevent tab overflow to expand causing height changes *
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
  min-height: unset !important;
}
/***
.tab-stack {
  transition: transform 20ms linear !important;
}
.tabbrowser-tab:active .tab-stack {
  transform: scale(0.9) !important;
}
***/
/* Photon-like tab on hover animation for the top line*/
@keyframes tab-line-anim {
  from {
    margin-right: 72px !important;
  }
  to {
    margin-right: 0 !important;
  }
}
.tab-background::before {
  animation: tab-line-anim 1500ms;
}
/* Disable animation for selected and pinned tabs */
.tabbrowser-tab[pinned] > .tab-stack > .tab-background::before {
  animation: none !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/tab_line_loading_indicator.css made available under Mozilla Public License v. 2.0See the above repository for updates as well as full license text. */

@keyframes tab-loading-line-anim {
  from {
    background-position-x: left !important;
  }
  to {
    background-position-x: right !important;
  }
}
.tabbrowser-tab[busy] > .tab-stack > .tab-background[selected]::before {
  background-size: 300% !important;
  background-image: linear-gradient(
    90deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  opacity: 0.9;
  animation: tab-line-anim 1500ms,
    tab-loading-line-anim 800ms alternate infinite ease-in-out !important;
}
/* Hide the throbber all tabs*/
/*.tab-throbber{ display: none }
.tab-icon-image[src]{ display: -moz-box }*/

/* Remove throbber from selected tab*/
.tab-throbber[selected] {
  display: none !important;
}
#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

#PlacesToolbarItems {
  background-color: #11092300 !important;
  backdrop-filter: blur(30px) !important;
}

#urlbar[focused="true"] #urlbar-background {
  border: transparent !important;
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  border-radius: 9px !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
}

#urlbar[open="true"] #urlbar-background {
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  animation-duration: 0ms !important;
  backdrop-filter: contrast(100%) blur(12px) saturate(25%) !important;
  background-color: #212142 !important;
}
#urlbar-background,
#urlbar {
  border-radius: 9px !important;
  background-color: #212142 !important;
  border: transparent !important;
}

#urlbar {
  background-image: linear-gradient(
    160deg,
    #9400ff,
    #ba00e5,
    #df06b9,
    #e62da7,
    #f13b95,
    #f64d86,
    #f85f7a,
    #fc7169,
    #f9845b,
    #e8ab52
  ) !important;
  backdrop-filter: blur(12px) saturate(25%) !important;
}

#urlbar-background {
  margin-bottom: 1px !important;
  margin-top: 1px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
}

#urlbar[focused="true"] #urlbar-background {
  background-color: #212142 !important;
}

#urlbar[open="true"] #urlbar-background {
  background-color: #212142 !important;
}

/** Mega bar, Search bar */

#search-container,
#urlbar-container {
  --urlbar-container-height: 32px !important;
  padding-block: 2px !important;
}
/* Gradient color container line *
.tabbrowser-tab[usercontextid]:not([selected="true"]):not([visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-accent-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--lwt-accent-color)
    )
    1 !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  background-color: unset !important;
  height: 1px !important;
  border-radius: 0 !important;
  margin: -1px 20px 0px 0px !important;
  border-top: 1px solid var(--identity-icon-color) !important;
  border-image: linear-gradient(
      90deg,
      var(--lwt-tab-line-color),
      var(--identity-icon-color) 4.5% 80%,
      var(--lwt-tab-line-color)
    )
    1 !important;
}
/* !!USER!! -  REMOVE ALL BUTTONS you can from the tabs toolbar and menubar */
/* Get window_control_placeholder_support.css Window controls will be all wrong without it

#titlebar {
  -moz-appearance: none !important;
}
/* We'll use window controls from menubar instead */
#TabsToolbar > .titlebar-buttonbox-container {
  display: none !important;
}
/*
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
#tabbrowser-arrowscrollbox {
  min-height: 0 !important;
}
*/
#TabsToolbar > .titlebar-spacer[type="post-tabs"] {
  width: calc(
    var(--uc-window-control-width, 0px) + var(--uc-window-drag-space-post, 0px)
  ) !important;
}
#toolbar-menubar > spacer {
  pointer-events: none !important;
}

:root:not([customizing]) #tabs-newtab-button,
:root:not([customizing]) #tabbrowser-tabs .tabs-newtab-button {
  -moz-appearance: none !important;
  height: 0px;
  padding-block: 0px !important;
  -moz-box-align: stretch;
  margin: 0 !important;
}

#tabs-newtab-button {
  transform: scale(0.8) !important;
  border-radius: var(--tab-border-radius) !important;
}

.accessibility-indicator,
.private-browsing-indicator {
  height: unset !important;
}
.accessibility-indicator > hbox {
  padding-block: 0 !important;
}
/*
#tabbrowser-tabs .tabbrowser-tab {
  height: calc(var(--tab-min-height) + 2 * var(--tab-block-margin));
}*/
#tabbrowser-tabs
  .tabbrowser-tab[first-visible-tab="true"][last-visible-tab="true"] {
  visibility: collapse;
}

/* Button re-styling */
#tabs-newtab-button:hover,
#tabbrowser-tabs .tabs-newtab-button:hover {
  background-color: var(--toolbarbutton-hover-background);
}

#tabs-newtab-button > .toolbarbutton-icon,
#tabbrowser-tabs .tabs-newtab-button > .toolbarbutton-icon {
  padding: 0 !important;
  transform: scale(0.6);
  background-color: transparent !important;
}

/* Window controls in nav-bar */
:root:not([customizing]) #toolbar-menubar[inactive] {
  height: initial !important;
  min-height: initial !important;
  margin-bottom: -28px !important;
}

:root:not([customizing]) #toolbar-menubar[autohide][inactive] > #menubar-items {
  pointer-events: none;
  opacity: 0;
}

:root[sizemode="fullscreen"] #TabsToolbar > #window-controls {
  z-index: 2;
}
.titlebar-buttonbox {
  color: inherit;
}
/**  https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/centered_tab_content.css
.tabbrowser-tab[selected]:not(:hover):not([pinned]) .tab-label-container,
#tabbrowser-tabs:not([closebuttons="activetab"])
  .tabbrowser-tab:not(:hover):not([pinned])
  .tab-label-container {
  margin-inline-end: 7px !important;
}
.tab-content:not([pinned])::before {
  display: -moz-box;
  content: "";
  -moz-box-flex: 1;
}
/** https://github.com/aris-t2/customcssforfx ************************************

#PersonalToolbar {
  opacity: 0 !important;
  transition: all 0.5s ease 0s !important;
  margin-top: -32px !important;
}

#navigator-toolbox:hover #PersonalToolbar {
  opacity: 1 !important;
  transition-delay: 0s !important;
  margin-top: inherit !important;
}
*/
#PersonalToolbar {
  -moz-window-dragging: no-drag !important;
}

.tabbrowser-tab[class*="identity-color"] .tab-loading-burst {
  background-image: linear-gradient(
    90deg,
    transparent,
    var(--identity-tab-color)
  ) !important;
}
.tabbrowser-tab .tab-loading-burst {
  background-image: linear-gradient(90deg, transparent, #9500ff3d) !important;
  background-repeat: no-repeat !important;
  transition: background-size 0.5s ease-out !important;
  opacity: 0.3s linear !important;
  background-size: 0px 100% !important;
  background-position-y: bottom !important;
}

.tabbrowser-tab:not([busy]) .tab-loading-burst {
  opacity: 0 !important;
}

.tabbrowser-tab[busy] .tab-loading-burst {
  background-size: 20% 100% !important;
  transition: background-size 0.3s ease-out !important;
}

.tabbrowser-tab[busy][progress] .tab-loading-burst {
  background-size: 100% 100% !important;
  transition-duration: 1s !important;
}

.tabbrowser-tab[bursting] .tab-loading-burst {
  background-size: 100% 100% !important;
  transition-duration: 0.5s !important;
}
/*** TABS DESIGN */
.tab-line {
  /* hide acrive tab line
    background-color: set your color !important; /*OR*/
  display: none !important;
}

.tabbrowser-tab[fadein]:not([pinned]) {
  /* https://www.reddit.com/r/FirefoxCSS/comments/74cnrs/full_width_tabs_firefox_57/ */
  max-width: none !important;
}

#PlacesToolbar {
  border-top: 2px !important;
  border-color: #890ae4 !important;
}

#nav-bar {
  height: 45px !important;
}

/* buttons design *
#nav-bar toolbarbutton > .toolbarbutton-icon {
  padding: 3.25px 11px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
  height: 30px !important;
  width: 39px !important;
  border-radius: 6.5px !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/hide_tabs_with_one_tab.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Makes tabs toolbar items zero-height initially and sets enlarge them to fill up space equal to tab-min-height set on tabs. Optionally use privatemode_indicator_as_menu_button.css to replace main menu icon with private browsing indicator while tabs are hidden. */
/* Firefox 65+ only */

:root[sizemode="normal"] #nav-bar {
  --uc-window-drag-space-width: 0px !important;
}

#titlebar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}
/*
#TabsToolbar {
  min-height: 0px !important;
}

#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
#tabbrowser-arrowscrollbox {
  min-height: 0 !important;
}

.accessibility-indicator,
.private-browsing-indicator {
  height: unset !important;
}
.accessibility-indicator > hbox {
  padding-block: 0 !important;
}
/********************************
#tabbrowser-tabs .tabbrowser-tab {
  height: calc(
    var(--tab-min-height) + 2 * var(--tab-block-margin, 0px)
  ) !important;
}

#tabbrowser-tabs
  .tabbrowser-tab[first-visible-tab="true"][last-visible-tab="true"] {
  visibility: collapse !important;
}

/* Button re-styling */
#tabs-newtab-button {
  transform: scale(0.8);
}
#tabs-newtab-button:hover {
  background-color: var(--toolbarbutton-hover-background);
  border-radius: var(--tab-border-radius);
}

#tabs-newtab-button > .toolbarbutton-icon {
  padding: 0 !important;
  transform: scale(0.6);
  background-color: transparent !important;
}

#downloads-button
  > .toolbarbutton-badge-stack
  > #downloads-indicator-progress-outer {
  top: calc(50% - 10px) !important;
  left: calc(50% - 10px) !important;
  width: 20px !important;
  height: 20px !important;
  border-radius: 0 !important;
  border: none !important;
  background-image: url(chrome://userchrome/content/downloads/progress-circle.svg) !important;
  background-position: center !important;
  background-size: 20px !important;
}
/*** Reddit Change from  post */
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 2px) !important;
}
.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 3px) !important;
}
*/
  .tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 2px) !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/non_floating_sharp_tabs.css made */

:root[id] {
  --tab-block-margin: 2px !important;
  --tabs-shadow-size: 1px !important;
}
/* Remove next line if you want selected tab to have color other than toolbar background - then it follows your theme color
  --lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;
}

/* Uncomment next line to force specific color for tab top line */
#tabbrowser-tabs {
  --lwt-tab-line-color: transparent !important;
}

/*** These next two rules set a color for border around tabs and between tabs & navigation toolbars. Set to transparent to remove the border.*/
#nav-bar {
  /* This overrides value in compact_proton.css */
  box-shadow: 0 -1px 0 0 color-mix(in srgb, currentcolor 30%, transparent) !important;
}
.tab-background[selected] {
  border-inline: 1px solid color-mix(in srgb, currentcolor 30%, transparent) !important;
  border-bottom-color: transparent !important;
}

#TabsToolbar {
  --toolbarbutton-inner-padding: 7px !important;
}
#scrollbutton-up,
#scrollbutton-down {
  border-radius: 0 !important;
  border-width: 0 !important;
  padding-inline: 3px !important;
}

/* tab shaping */
.tabbrowser-tab {
  padding-inline: 0 !important;
}
/*
:root[uidensity="compact"]
  #tabbrowser-tabs[positionpinnedtabs]
  .tabbrowser-tab[pinned] {
  min-height: calc(var(--tab-min-height) + 2px) !important;
}*/

.tab-content[pinned] {
  padding-inline: 11px !important;
}

.tab-background:not([selected])[multiselected] {
  background: color-mix(in srgb, currentColor 11%, transparent) !important;
  margin-inline-start: 0px !important;
}

/* Line to mark selected tab */
.tab-background[selected]::before,
.tabbrowser-tab:hover > stack > .tab-background::before {
  display: -moz-box !important;
  height: 2px !important;
  content: "" !important;
}
/* Photon-like tab on hover animation for the top line */
@keyframes tab-onhover-line-anim {
  from {
    margin-inline: 40px !important;
  }
  to {
    margin-inline: 0;
  }
}

.tab-stack:hover > .tab-background::before {
  animation: tab-onhover-line-anim 160ms !important;
}

/* Disable animation for selected and pinned tabs */
.tabbrowser-tab:is([pinned], [selected])
  > .tab-stack
  > .tab-background::before {
  animation: none !important;
}

/* moves context-line to the bottom */
.tab-context-line {
  -moz-box-ordinal-group: 2 !important;
}
/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_bookmarks_toolbar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

#PersonalToolbar {
  --uc-bm-height: 20px; /* Might need to adjust if the toolbar has other buttons */
  --uc-bm-padding: 7px; /* Vertical padding to be applied to bookmarks */
  --uc-autohide-toolbar-delay: 600ms; /* The toolbar is hidden after 0.6s */

  /* 0deg = "show" ; 90deg = "hide" ;  Set the following to control when bookmarks are shown */
  --uc-autohide-toolbar-focus-rotation: 0deg; /* urlbar is focused */
  --uc-autohide-toolbar-hover-rotation: 0deg; /* cursor is over the toolbar area */
}

:root[uidensity="compact"] #PersonalToolbar {
  --uc-bm-padding: 1px !important;
}
:root[uidensity="touch"] #PersonalToolbar {
  --uc-bm-padding: 7px !important;
}

#PersonalToolbar:not([customizing]) {
  position: relative;
  margin-bottom: calc(0px - var(--uc-bm-height) - 2 * var(--uc-bm-padding));
  transform: rotateX(90deg);
  transform-origin: top !important;
  transition: transform 135ms linear var(--uc-autohide-toolbar-delay) !important;
  z-index: 1;
  /* The following properties should allow the themes with trasparent toolbars to work */
  background-color: transparent !important;
  background-repeat: no-repeat, no-repeat, var(--lwt-background-tiling);
  --uc-bg-y: calc(
    -2 * (
        var(--tab-block-margin) + var(--toolbarbutton-inner-padding) +
          var(--toolbarbutton-outer-padding)
      ) - var(--tab-min-height) - 16px - var(--bookmark-block-padding)
  );
  background-position: top left, top left,
    var(--lwt-background-alignment, top left);
  background-position-y: top, top, var(--uc-bg-y), var(--uc-bg-y),
    var(--uc-bg-y);
  background-image: var(--toolbar-bgimage),
    linear-gradient(var(--toolbar-bgcolor), var(--toolbar-bgcolor)),
    var(--lwt-header-image, var(--lwt-additional-images)) !important;
}

#PlacesToolbarItems > .bookmark-item,
#OtherBookmarks,
#PersonalToolbar > #import-button {
  padding-block: var(--uc-bm-padding) !important;
}

#nav-bar:focus-within + #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-focus-rotation, 0));
}

#navigator-toolbox:hover > #PersonalToolbar {
  transition-delay: 100ms !important;
  transform: rotateX(var(--uc-autohide-toolbar-hover-rotation, 0));
}

#navigator-toolbox:hover > #nav-bar:focus-within + #PersonalToolbar {
  transform: rotateX(0) !important;
}
/*test code*/
tab.tabbrowser-tab vbox.tab-background[selected="true"] {
  border: 0px !important;
}

#navigator-toolbox {
  --lwt-tabs-border-color: transparent !important;
}
#tabbrowser-tabs {
  --lwt-tab-line-color: transparent !important;
}
#nav-bar {
  box-shadow: inset 0 var(--tabs-shadow-size) 0 var(--lwt-tabs-border-color) !important;
}

/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.5) !important;
}
/* brings container indicators back to the bottom */
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 3px) !important;
}

.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(var(--tab-min-height) - 3px) !important;
}
.tabbrowser-tab {
  height: 33px !important;
}
/* Fix spacing on normal tabs *
.tab-close-button {
  margin-right: 0 !important;
}

/* Hide close button when not hovering over the tab *
.tabbrowser-tab .tab-close-button {
  display: none !important;
}

.tabbrowser-tab:hover .tab-close-button {
  display: block !important;
}

/** Pinned tabs spacing */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0px !important;
}
/***
.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
}
/***looks good in PRIVATE WINDOW MODE needs work new code*
#urlbar-background {
  outline: none !important;
}

#urlbar:focus-within > #urlbar-background {
  border: 1px solid color-mix(in srgb, -moz-accent-color 60%, transparent) !important;
}

/* Move container color bar to bottom of tab - updated 1/16/2022 */

.tab-background {
  --context-line-margin-adjust: 3px; /* 1/16/2022 */
  --context-line-active-adjust: 1px; /* 1/16/2022 */
}
.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  .tab-background {
  border-top: 1px solid transparent; /* 1/16/2022 Default border for consistency */
}

.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(
    var(--tab-min-height) - var(--context-line-margin-adjust) - 2px
  ) !important;
}
.tabbrowser-tab[usercontextid]:is([selected="true"], [visuallyselected="true"], [multiselected])
  > .tab-stack
  > .tab-background
  > .tab-context-line {
  margin-top: calc(
    var(--tab-min-height) - var(--context-line-margin-adjust) -
      var(--context-line-active-adjust) - 2px
  ) !important;
}

/***MacOS Native Tabbar Repo code new updated - testing */
:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background-color: transparent !important;
}
/* De-emphasize tab icons and names when window is unfocused */
:root:-moz-window-inactive .tab-content {
  opacity: 0.6 !important;
}

/* recolor toolbar button hover/active bg colors to semi-transparent */
:root {
  --toolbarbutton-hover-background: color-mix(
    in srgb,
    currentColor 11%,
    transparent
  ) !important;
  --toolbarbutton-active-background: color-mix(
    in srgb,
    currentColor 21%,
    transparent
  ) !important;
}
:root:not(:-moz-window-inactive)[lwthemetextcolor="bright"] #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[lwthemetextcolor="bright"] {
  --lwt-tab-line-color: hsla(280, 30%, 80%, 0.9) !important;
}
/*improve border visiblity for selected tabs */
.tab-background:is([selected], [multiselected]):-moz-lwtheme {
  border: none !important;
}
#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.1),
    0 1px 5px rgba(0, 0, 0, 0.1) !important;
}
:root:-moz-window-inactive
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.05) !important;
}
:root[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) hsla(280, 6%, 60%, 0.5) inset,
    0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.6),
    0 1px 5px rgba(0, 0, 0, 0.1) !important;
}
:root:-moz-window-inactive[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.4) !important;
}

/* border between tab bar and navbar */
:root #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.1),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.2) !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.05) !important;
}

/* De-emphasize tab icons and names when window is unfocused */
:root:-moz-window-inactive .tab-content {
  opacity: 0.6 !important;
}
/* make tabs toolbar translucent */
:root:not(:-moz-window-inactive [lwthemetextcolor="dark"]) #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-light !important;
}
:root:not(:-moz-window-inactive)[lwthemetextcolor="bright"] #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}
:root:-moz-window-inactive[lwthemetextcolor="bright"] {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}
:root[lwthemetextcolor="bright"] {
  --lwt-tab-line-color: hsla(280, 30%, 80%, 0.9) !important;
}
:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.05) !important;
} /* border between tab bar and navbar */
:root #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.1),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.2) !important;
}

/* ------------------------------------ */
/* Firefox Translucent Tabbar for macOS */
/* ------------------------------------ */

:root:not(:-moz-window-inactive) #navigator-toolbox {
  background-color: transparent !important;
}

:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background-color: transparent !important;
}

/* De-emphasize tab icons and names when window is unfocused */
:root:-moz-window-inactive .tab-content {
  opacity: 0.6 !important;
}

/* recolor toolbar button hover/active bg colors to semi-transparent */
:root {
  --toolbarbutton-hover-background: color-mix(
    in srgb,
    currentColor 11%,
    transparent
  ) !important;
  --toolbarbutton-active-background: color-mix(
    in srgb,
    currentColor 21%,
    transparent
  ) !important;
}

/* make tabs toolbar translucent */
:root:not(:-moz-window-inactive [lwthemetextcolor="dark"]) #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-light !important;
}
:root:not(:-moz-window-inactive)[lwthemetextcolor="bright"] #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root:-moz-window-inactive[lwthemetextcolor="bright"] {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}

:root:not([lwthemetextcolor="bright"]) .tabbrowser-tab:not([selected="true"]) {
  color: #000 !important;
}

:root[lwthemetextcolor="bright"] {
  --lwt-tab-line-color: hsla(280, 30%, 80%, 0.9) !important;
}

/* improve border visiblity for selected tabs */
.tab-background:is([selected], [multiselected]):-moz-lwtheme {
  border: none !important;
}
#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.1),
    0 1px 5px rgba(0, 0, 0, 0.1) !important;
}
:root:-moz-window-inactive
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.05) !important;
}
:root[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) hsla(280, 6%, 60%, 0.5) inset,
    0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.6),
    0 1px 5px rgba(0, 0, 0, 0.1) !important;
}
:root:-moz-window-inactive[lwthemetextcolor="bright"]
  #tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, 0.4) !important;
}

/* border between tab bar and navbar */
:root #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.1),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.2);
}

:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3),
    0 -4px 4px -5px hsla(280, 6%, 0%, 0.05) !important;
}

/* Disables favicon spring *
.tabbrowser-tab .tab-icon-image {
  display: inherit !important;
}
.tab-throbber {
  display: none !important;
} /* Sets tab max width *
.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
  max-width: 100% !important;
}*/

/*** NEw CODE TEST REDDOT ***
:root #nav-bar,
#titlebar,
.tab-background[selected="true"] {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}
#TabsToolbar,
#nav-bar,#titlebar,
#urlbar,
#nav-bar,
#PersonalToolbar,
.tab-content {
  -moz-appearance: -moz-mac-vibrancy-dark !important;
}
*/
#navigator-toolbox {
  --tabs-border-color: var(--toolbarbutton-active-background) !important;
}
/*
:root:not([uidensity="compact"]) #back-button > .toolbarbutton-icon {
  background-color: transparent !important;
  border: none !important;
}

:root:not([uidensity="compact"])
  #back-button:not([disabled]):not([open]):hover
  > .toolbarbutton-icon {
  background-color: unset !important;
}
/*
tab {
  transition: min-width 100ms ease-out, max-width 100ms ease-out,
    border-bottom 100ms linear !important;
  border-bottom: 2px solid transparent !important;
}

tab[selected="true"]:not([ignorefocus="true"]) {
  border-bottom: 2px solid var(--tabs-border-color) !important;
}

#main-window {
  --urlbar-separator-color: transparent !important;
}
*/
/*= Tab Bar - Reduce Width, Show more tabs ===================================*/
/* for First Tab Space */
:root {
  --space-left-tabbar: 0px; /* If you want drag space, set to 8px */
}
:root:not([tabsintitlebar]) #tabbrowser-tabs:not([positionpinnedtabs]),
:root:is([sizemode="maximized"], [sizemode="fullscreen"])
  #tabbrowser-tabs:not([positionpinnedtabs]) {
  padding-inline-start: var(--space-left-tabbar) !important;
}
/* Tab - Max Size *
:root {
  --tab-max-width: 240px !important;
}
.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
  max-width: var(--tab-max-width) !important;} /* Original: 225px */

:root {
  --space-above-tabbar: 0px !important; /* If you want drag space, set to 8px */
}
/* Pinned Tab - tabbrowser-arrowscrollbox overflowing */
#tabbrowser-tabs[positionpinnedtabs]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[pinned] {
  z-index: 0 !important;
}
/** Clipped tabs - Show close button at hover ****************&&***************/
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  /*visibility: collapse !important;*/
  opacity: 0 !important;
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1 !important;
}
/** Container Tab - Color line at icon's bottom *******************************/
.tab-context-line {
  display: none;
}

/* Animate */
@media (prefers-reduced-motion: no-preference) {
  .tab-content:not([titlechanged])::before {
    transition: 0.15s var(--animation-easing-function) !important;
    transition-property: width, opacity;
  }
}

/* Pinned Tab - Titlechanged Indicator override *
.tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); *
  --dotted-identity-image: radial-gradient(
    circle,
    var(--identity-icon-color),
    var(--identity-icon-color) 2px,
    transparent 2px
  );
  background-image: var(--dotted-identity-image), var(--dotted-identity-image),
    var(--dotted-identity-image) !important;
  background-position-x: 32%, 50%, 70% !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); *
  background-position-x: 30%, 50%, 70% !important;
}
/*= Default Icon - Open ======================================================*/
/* Query *
:-moz-any(#PlacesToolbar, #BMB_bookmarksPopup, #bookmarksMenu)
  .bookmark-item[container="true"][query="true"]:not([tagContainer])[open="true"]
  > .menu-iconic-left
  > .menu-iconic-icon {
  transform: rotate(15deg) !important;
}
*/
.tabbrowser-tab[multiselected]:not([visuallyselected]) .tab-background {
  background: var(--toolbarbutton-active-background) !important;
}
/* -------------------- Tab Icon Image -------------------- */

.tab-icon-image:not([src], [pinned], [crashed], [sharing], [pictureinpicture], [busy]) {
  display: revert !important;
}

/* -------------------- Tab Icon Indicators -------------------- */

#TabsToolbar {
  --attention-icon-color: currentColor !important;
}

.tabbrowser-tab:not([visuallyselected])
  .tab-icon-stack[busy]
  .tab-throbber::before {
  fill: currentColor !important;
}

.tab-sharing-icon-overlay {
  fill: currentColor !important;
}

/*** Toolbar Seperator ***/
#navigator-toolbox::after {
  border-bottom-color: #483a5e !important;
}

/* Addon Buttons + Bookmark Buttons */
/* Addon Buttons + Bookmark Buttons */
toolbar toolbarbutton,
toolbar toolbarbutton .toolbarbutton-badge-stack,
toolbar toolbarbutton .toolbarbutton-icon {
  transition: background 0.4s, background-color 0.4s, background-image 0.4s,
    fill 0.4s, fill-opacity 0.4s !important;
}
/* Purple titlebar when in private browsing mode. 25003e */
window[privatebrowsingmode="temporary"] #navigator-toolbox,
window[privatebrowsingmode="temporary"] #titlebar,
window[privatebrowsingmode="temporary"] #TabsToolbar,
window[privatebrowsingmode="temporary"] #tabbrowser-tabs {
  background: #252525 !important;
}
/* Hide ContextMenu Items */
/* https://support.mozilla.org/en-US/questions/1177488 *
#contentAreaContextMenu #context-sendlinktodevice,
#contentAreaContextMenu #context-sendpagetodevice,
#contentAreaContextMenu #context-sep-sendlinktodevice,
#contentAreaContextMenu #context-sep-sendpagetodevice {
  display: none !important;
}
/* Pastel purple titlebar when in private browsing mode. */
window[privatebrowsingmode="temporary"] #navigator-toolbox {
  background: rgb(70, 64, 70) !important;
}
panel[type="autocomplete-richlistbox"][anchored-on-panel] {
  --panel-background: var(--autocomplete-background) !important;
}
/*rework en la Linea de Contenedores-BordeGeneral*
.tab-context-line {
  opacity: 0 !important;
}*/
tab[selected] .tab-context-line {
  height: 32px !important;
  margin: 0px !important;
  -moz-box-ordinal-group: 2 !important;
  opacity: 1 !important;
  border-radius: 5px !important;
}
/*rework en la Linea de Contenedores-Border Favicon*/

.tab-icon-pending:not([selected]),
.tab-sharing-icon-overlay:not([selected]),
.tab-throbber[busy]:not([pinned]),
.tab-throbber:is([busy][pinned]),
.tab-icon-image:not([selected]) {
  box-shadow: 0 1px 0px var(--identity-icon-color, #00000000) !important;
}
/*
.tab-icon-pending[selected],
.tab-sharing-icon-overlay[selected],
.tab-icon-image[selected] {
  outline: 1px solid var(--identity-icon-color, #00000000) !important;}
  /*  border-radius: 3px !important;*/

.autocomplete-richlistitem:hover {
  background: var(--arrowpanel-dimmed) !important;
}
/* show "Private" label for en languages only */
:root[titlemodifier="(Private Browsing)"] #fxa-toolbar-menu-button::before {
  content: "Private" !important;
  display: -moz-box !important;
  margin-inline-start: 12px !important;
  margin-inline-end: 6px !important;
}
.tab-label-container:not([selected="true"], [multiselected]) {
  opacity: 0.7 !important;
}
#urlbar-input-container:hover {
  background-color: #1e1652 !important;
}
#urlbar-input-container {
  background: #1e1652 !important;
}
#PersonalToolbar,
.toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):hover,
.tabbrowser-arrowscrollbox:not([scrolledtostart="true"])::part(scrollbutton-up):hover,
.tabbrowser-arrowscrollbox:not([scrolledtoend="true"])::part(scrollbutton-down):hover,
.findbar-button:not(:-moz-any([checked="true"], [disabled="true"])):hover,
toolbarbutton.bookmark-item:not(.subviewbutton):hover:not([disabled="true"]):not([open]),
toolbar
  .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):hover
  > .toolbarbutton-icon,
toolbar
  .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):hover
  > .toolbarbutton-text,
toolbar
  .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):hover
  > .toolbarbutton-badge-stack {
  background-color: rgba(var(--accent-color), 0.2) !important;
}

#PersonalToolbar,
.toolbarbutton-1:not([disabled="true"]):-moz-any([open], [checked], :hover:active),
.findbar-button:not([disabled="true"]):-moz-any([checked="true"], :hover:active),
toolbarbutton.bookmark-item:not(.subviewbutton):hover:active:not([disabled="true"]),
toolbarbutton.bookmark-item[open="true"],
toolbar
  .toolbarbutton-1:not([disabled="true"]):-moz-any([open], [checked], :hover:active)
  > .toolbarbutton-icon,
toolbar
  .toolbarbutton-1:not([disabled="true"]):-moz-any([open], [checked], :hover:active)
  > .toolbarbutton-text,
toolbar
  .toolbarbutton-1:not([disabled="true"]):-moz-any([open], [checked], :hover:active)
  > .toolbarbutton-badge-stack {
  background-color: var(--accent-color) !important;
}
#urlbar > #urlbar-background {
  filter: none !important;
  background-color: #551dfc !important;
}
:root:-moz-lwtheme {
  --focus-outline-color: #0061e0;
}

:root:-moz-lwtheme-brighttext {
  --focus-outline-color: #9400ff;
}
:root:-moz-lwtheme-brighttext:not([lwt-default-theme-in-dark-mode]) {
  --urlbar-box-bgcolor: color-mix(
    in srgb,
    currentColor 16%,
    transparent
  ) !important;
  --urlbar-box-focus-bgcolor: color-mix(
    in srgb,
    currentColor 16%,
    transparent
  ) !important;
  --urlbar-box-hover-bgcolor: color-mix(
    in srgb,
    currentColor 22%,
    transparent
  ) !important;
}
/* Set link color with proper contrast for WebExt themes */

toolbar .text-link:-moz-lwtheme,
panel .text-link:-moz-lwtheme {
  color: #0060df;
}

toolbar[brighttext] .text-link:-moz-lwtheme,
:root[lwt-popup-brighttext] panel .text-link {
  color: var(--lwt-brighttext-url-color);
}
/* Toolbar / content area border *

#navigator-toolbox {
  border-bottom: 1px solid var(--chrome-content-separator-color);
}*/
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0px !important;
}
/* show close tab button on tab hover but not on pinned tab */
.tabbrowser-tab:hover .tab-close-button {
  display: -moz-box !important;
}
/*prevent tab overflow to expand causing height changes */
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox {
  min-height: 33px !important;
}
/*remove default focus ring of url bar */
:root {
  --toolbar-field-focus-border-color: transparent !important;
} /*
More gradients to try out
    linear-gradient(90deg, #f79533, #f37055, #ef4e7b, #a166ab, #5073b8, #1098ad, #07b39b, #6fba82)
    linear-gradient(90deg, #9059FF 0%, #FF4AA2 52.08%, #FFBD4F 100%);

.tabbrowser-tab[class*="identity-color-"] .tab-background[selected="true"] {
  /* Active
  opacity: 0.4 !important;
}

/*** Button restyle ***/
#back-button {
  list-style-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiAxMSNzVLQoGBAAAAb0lEQVQoz43ROQqDUBSF4UMEESKCBBehOODK7ezSWZnGJmuI4xp+66CX9077FXc40k1o+fCSFRoOOgKLa3Z6QosrNt5EFpesDDwtLlgYSSzOmZlILY758SW7ykO+cYzwWNLjTI9HSc5XS86ypP+6Tw/fVEqhFbEZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTE5VDE4OjU1OjUzKzAxOjAwq3ccegAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0xOVQxODo1NTo1MyswMTowMNoqpMYAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC") !important;
}
#forward-button {
  list-style-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiAxMSOA3k2CXQAAAAbklEQVQoz5WRMQqDABAEF4UgKEIIPkKJii+3s7NLpY1N3qBR84axsPYOt1sYuNtdSZLEi5FG1yKk5U9tIQ86dioLiejZKC0k5sPK20JSBn4UFvJkYiG3kIwvM8npAt2Vc8J50onpFOVU7Y51PfcBtUFUSir+geUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMTlUMTg6NTY6MTMrMDE6MDDECqmDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAzLTE5VDE4OjU2OjEzKzAxOjAwtVcRPwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=") !important;
}
/*= Icon Fill Color ==========================================================*/
:root:-moz-lwtheme {
  --lwt-toolbarbutton-icon-fill-attention: var(
    --button-primary-bgcolor,
    rgb(0, 120, 215)
  ) !important;
}
/* ---------- Rounded Corners (SVG) ---------- */

.tab-background::before,
.tab-background::after {
  content: "";
  position: absolute !important;
  bottom: 0%;
  fill: transparent;
  z-index: -1 !important;
  background-repeat: no-repeat;
  pointer-events: none;
  -moz-context-properties: fill, stroke !important;
}

.tab-background::before {
  right: 100% !important;
  background-image: var(--left-side-svg) !important;
}

.tab-background::after {
  left: 100% !important;
  background-image: var(--right-side-svg) !important;
}

.tabbrowser-tab[visuallyselected] .tab-background::before,
.tabbrowser-tab[visuallyselected] .tab-background::after {
  fill: var(--toolbar-bgcolor) !important;
}

.tabbrowser-tab:hover .tab-background::before,
.tabbrowser-tab:hover .tab-background::after {
  fill: var(--toolbarbutton-hover-background) !important;
}

.tabbrowser-tab[multiselected] .tab-background::before,
.tabbrowser-tab[multiselected] .tab-background::after {
  fill: var(--toolbarbutton-active-background) !important;
}
:root {
  --left-side-svg: url("images/special/Edge/Edge_left_corners_of_tabs_32.svg");
  --middle-svg: url("images/special/Edge/Middle_part_of_tabs_32.svg");
  --right-side-svg: url("images/special/Edge/Edge_right_corners_of_tabs_32.svg");
}
:root[lwtheme-image] .tabbrowser-tab[visuallyselected] .tab-background::before,
:root[lwtheme-image] .tabbrowser-tab[visuallyselected] .tab-background::after {
  stroke: var(--tab-indicator-color) !important;
}

:root[lwtheme-image] .tabbrowser-tab[visuallyselected] .tab-background {
  background-color: var(--toolbar-bgcolor) !important;
  background-image: var(--middle-svg) !important;
  stroke: var(--tab-indicator-color) !important;
  fill: transparent !important;
  -moz-context-properties: fill, stroke !important;
}
:root[privatebrowsingmode="temporary"] {
  /* accentcolor */
  --lwt-accent-color: #202124 !important;

  /* textcolor */
  --lwt-text-color: #9ba0a5 !important;

  /* toolbar */
  --toolbar-bgcolor: #333639 !important;

  /* toolbar_text */
  --toolbar-color: #fff !important;

  /* toolbar_bottom_separator */
  --toolbox-border-bottom-color: #282828 !important; /* legacy */
  --chrome-content-separator-color: #282828 !important;

  /* icons */
  --lwt-toolbarbutton-icon-fill: #fff !important;

  /* icons_attention */
  --lwt-toolbarbutton-icon-fill-attention: #5086ec !important;

  /* button_background_hover */
  --lwt-toolbarbutton-hover-background: #434649 !important;

  /* button_background_active */
  --lwt-toolbarbutton-active-background: #4e5153 !important;

  --lwt-toolbar-field-color: #fff !important;

  /* popup */
  --arrowpanel-background: #373737 !important;

  /* popup_text */
  --arrowpanel-color: #fff !important;
  --autocomplete-popup-color: #fff !important;
  --panel-disabled-color: hsla(0, 0%, 100%, 0.5) !important;

  /* popup_border */
  --arrowpanel-border-color: #555 !important;
  --autocomplete-popup-border-color: #555 !important;

  /* popup_highlight */
  --autocomplete-popup-highlight-background: #4c4f52 !important;

  /* popup_highlight_text */
  --autocomplete-popup-highlight-color: #fff !important;
}
/***  Glowing line at bottom. */
.tabbrowser-tab > .tab-stack > .tab-background > .tab-context-line {
  height: 2px !important;
  border-radius: 5px !important;
  box-shadow: 0px 0px 18px 2px var(--identity-icon-color) !important;
}
/* remove default border */
#urlbar-background,
#searchbar {
  border: 0px solid transparent !important;
}

/* focused state - use shadow and remove outline */
#urlbar:is([focused="true"]):not([open="true"]) > #urlbar-background,
#searchbar:focus-within {
  outline: none !important;
  box-shadow: 0px 0px 8px -2px #0004 !important;
}

#urlbar[focused="true"] > #urlbar-background {
  border-color: var(--lwt-toolbar-field-focus) !important;
  box-shadow: 0px 1px 14px -3px #0009 !important;
}

/* Favicon icon when mouse over to pinned inactive tab grayscale(15%) */
.tabbrowser-tab:hover .tab-icon-image[pinned] {
  filter: drop-shadow(16px 16px 10px black) !important;
}

/* Favicon icon on pinned inactive tab grayscale(35%) */
.tabbrowser-tab .tab-icon-image[pinned] {
  filter: contrast(175%) brightness(103%) !important;
}

/* Favicon icon when mouse over over inactive tab grayscale(15%) */
.tabbrowser-tab:hover .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: drop-shadow(16px 16px 10px black) !important;
}

/* Gray out the favicon icon on the inactive tab */
.tabbrowser-tab .tab-icon-image:not([selected="true"]):not([pinned]) {
  filter: opacity(40%) saturate(30%) !important;
}
#TabsToolbar,
.tab-background-inner,
#nav-bar,
.theme-dark,
.theme-light,
slider,
.CodeMirror,
.devtools-toolbar,
.message,
.theme-body,
.table-widget-empty-text,
findbar,
#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#main-window[lwthemetextcolor="bright"] #TabsToolbar,
#main-window[lwthemetextcolor="bright"] .tab-background-inner,
#main-window[lwthemetextcolor="bright"] #nav-bar,
#main-window[lwthemetextcolor="bright"] .theme-dark,
#main-window[lwthemetextcolor="bright"] .theme-light,
#main-window[lwthemetextcolor="bright"] slider,
#main-window[lwthemetextcolor="bright"] .CodeMirror,
#main-window[lwthemetextcolor="bright"] .devtools-toolbar,
#main-window[lwthemetextcolor="bright"] .message,
#main-window[lwthemetextcolor="bright"] .theme-body,
#main-window[lwthemetextcolor="bright"] .table-widget-empty-text,
#main-window[lwthemetextcolor="bright"] findbar,
#main-window[lwthemetextcolor="bright"] #PersonalToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}
/* center bookmarks */
#PlacesToolbarItems {
  justify-content: center !important;
  display: flex !important;
  overflow: hidden !important;
  margin-top: -2px;
  margin-bottom: 2px;
}
@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
@namespace html "http://www.w3.org/1999/xhtml";

/** Default Thme - Contrast ***************************************************/
/*= Lightmode - Color darker =================================================*/
:root[lwtheme-mozlightdark]:not([lwthemetextcolor="bright"]), /* Legacy - v96 */
:root[style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"] {
  --lwt-accent-color: rgb(
    229,
    229,
    235
  ) !important; /* Original: rgb(240, 240, 244) */
}
@media (-moz-os-version: windows-win10),
  /* Legacy - v99 */ (-moz-platform: windows-win10) {
  :root[lwtheme-mozlightdark]:not([lwthemetextcolor="bright"]) #navigator-toolbox,  /* Legacy - v96 */
  :root[style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"] {
    background-color: var(--lwt-accent-color) !important;
  }
}
@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  :root[lwtheme-mozlightdark]:not([lwthemetextcolor="bright"]) #navigator-toolbox,  /* Legacy - v96 */
  :root[style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"] {
    background-color: var(--lwt-accent-color) !important;
  }
}

/*= Darkmode - Color lighter =================================================*/
:root[lwtheme-mozlightdark][lwthemetextcolor="bright"], /* Legacy - v96 */
:root[style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"] {
  --toolbar-bgcolor: rgba(
    43,
    42,
    51,
    5
  ) !important; /* Original: rgba(43, 42, 51, 1) */
}

/** Theme - Compatibility *****************************************************/
/*= Hotfix #98 ===============================================================*/
/* Hidden Tab Panel Padding */
#allTabsMenu-hiddenTabsView .all-tabs-item {
  margin-inline: 8px;
  border-radius: 4px;
}

/*= Remote Tabs Panel's Bottom Padding =======================================*/
#PanelUI-remotetabs #PanelUI-remotetabs-main {
  margin-bottom: 6px;
}

/*= Identity Popup Icon Crop =================================================*/
.identity-popup-security-connection.identity-button {
  padding-block: 1px !important;
}

/*= Zoom in button's plus icon horizontal rate ===============================*/
#customization-palette-container #zoom-in-button > .toolbarbutton-icon,
#customization-panel-container #zoom-in-button > .toolbarbutton-icon,
#widget-overflow-mainView #zoom-in-button > .toolbarbutton-icon {
  padding-inline-start: 0px !important;
}

/*= Icon Fill Color ==========================================================*/
:root:-moz-lwtheme {
  /* Auto create --lwt-toolbarbutton-icon-fill-attention, fix for nightly default theme
       Default Color: rgb(0,97,224) -> rgb(0, 120, 215) for more light
     */
  --lwt-toolbarbutton-icon-fill-attention: var(
    --button-primary-bgcolor,
    rgb(0, 120, 215)
  );
}

/*= First visible tab margin at maximized #332 ===============================*/
:root[tabsintitlebar="true"][sizemode="maximized"] #TabsToolbar {
  margin-left: -1px;
}

/*= Disabled menu background color ===========================================*/
menuitem[disabled="true"],
menu[disabled="true"] {
  background-color: transparent !important;
}

/*= Light Weight Theme =======================================================*/
/* Header Image */
:root[lwtheme-image] {
  background-image: var(
    --lwt-header-image
  ) !important; /* Original: var(--lwt-header-image) */
  background-repeat: no-repeat !important;
  background-position: right top !important;
}
@media (min-width: 2500px) {
  :root[lwtheme-image] {
    background-size: contain;
  }
}
:root[lwtheme-image] #navigator-toolbox:-moz-lwtheme {
  background-image: var(--lwt-header-image), var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
  background-color: unset !important; /* Original:  var(--lwt-accent-color) */
}

/* Navbar Border */
#navigator-toolbox:-moz-lwtheme {
  --tabs-border-color: rgba(0, 0, 0, 0.3);
}

/** OS - Compatibility ********************************************************/
/*= Windows 7, 8 - Tab Bar Background *****************************************/
@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8) {
  /* Header Color */
  :root:not([lwtheme-image]):-moz-lwtheme {
    background-color: var(--lwt-accent-color) !important;
  }
}
@media (-moz-os-version: windows-win7),
  /* Legacy - v99 */ (-moz-platform: windows-win7) {
  #TabsToolbar:-moz-lwtheme {
    color: var(--lwt-text-color) !important;
  }

  /* Remove Aero */
  #TabsToolbar {
    /* Original: radial-gradient(eclipse at bottom, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.5) 80%, transparent) */
    background-image: unset !important;
  }
}
@media (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win8) {
  #navigator-toolbox:-moz-lwtheme {
    color: var(--lwt-text-color) !important;
  }
}

/*= Windows 7, 8 - Menu Active Color =========================================*/
@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8) {
  menupopup > menu,
  menupopup > menuitem,
  #context-navigation > menuitem {
    border: 1px solid transparent; /* Need reduce 2px at menu */
  }

  #main-menubar > menu[open="true"],
  #main-menubar > menu[_moz-menuactive="true"] {
    background-color: -moz-menuhover !important; /* Make to original */
  }
  :root:-moz-lwtheme #main-menubar > menu[open="true"],
  :root:-moz-lwtheme #main-menubar > menu[_moz-menuactive="true"] {
    color: inherit !important; /* Original: -moz-menubarhovertext */
    background-color: color-mix(
      in srgb,
      currentColor 20%,
      transparent
    ) !important; /* Original: -moz-menuhover */
  }

  menulist > menupopup > menuitem[_moz-menuactive="true"],
  menulist > menupopup > menu[_moz-menuactive="true"] {
    background-color: highlight !important;
    color: highlighttext !important;
  }

  #PlacesToolbar menu,
  #PlacesToolbar menuitem,
  #BMB_bookmarksPopup menu,
  #BMB_bookmarksPopup menuitem {
    border: none !important; /* Remove border */
  }
  #PlacesToolbar menu:not([disabled], :active)[_moz-menuactive="true"],
  #PlacesToolbar menuitem:not([disabled], :active)[_moz-menuactive="true"],
  #BMB_bookmarksPopup menu:not([disabled], :active)[_moz-menuactive="true"],
  #BMB_bookmarksPopup
    menuitem:not([disabled], :active)[_moz-menuactive="true"] {
    background-color: var(--button-hover-bgcolor) !important;
  }
}

@media (-moz-os-version: windows-win7),
  /* Legacy - v99 */ (-moz-platform: windows-win7) {
  menu[_moz-menuactive="true"],
  menuitem[_moz-menuactive="true"] {
    background-color: color-mix(
      in srgb,
      -moz-menuhover 5%,
      transparent
    ) !important;
    border-color: color-mix(
      in srgb,
      -moz-menuhover 60%,
      transparent
    ) !important;
  }
  menu[_moz-menuactive="true"][disabled="disabled"],
  menuitem[_moz-menuactive="true"][disabled="true"] {
    background-color: color-mix(
      in srgb,
      currentColor 5%,
      transparent
    ) !important;
    border-color: color-mix(in srgb, currentColor 60%, transparent) !important;
  }

  /* Remove text shadow */
  :root:-moz-lwtheme #toolbar-menubar {
    text-shadow: unset !important;
    /* Original: 0 0 .5em white, 0 0 .5em white, 0 1px 0 rgba(255, 255, 255, .4) */
  }

  /* Remove Color */
  :root:-moz-lwtheme #main-menubar:not(:-moz-window-inactive) {
    background-color: unset !important; /* Original: rgba(255, 255, 255, .5) */
    color: unset !important; /* Original: black */
  }
}
@media (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win8) {
  menu[_moz-menuactive="true"],
  menuitem[_moz-menuactive="true"] {
    background-color: color-mix(
      in srgb,
      -moz-menuhover 17%,
      transparent
    ) !important;
    border-color: color-mix(
      in srgb,
      -moz-menuhover 80%,
      transparent
    ) !important;
  }
  menu[_moz-menuactive="true"][disabled="disabled"],
  menuitem[_moz-menuactive="true"][disabled="true"] {
    background-color: color-mix(
      in srgb,
      currentColor 17%,
      transparent
    ) !important;
    border-color: color-mix(in srgb, currentColor 80%, transparent) !important;
  }
}

@media (-moz-gtk-csd-available) {
  /*= Linux - Global Menubar Active Color ====================================*/
  #main-menubar > menu[open="true"],
  #main-menubar > menu[_moz-menuactive="true"] {
    color: inherit !important; /* Original: -moz-menubarhovertext */
    background-color: color-mix(
      in srgb,
      currentColor 20%,
      transparent
    ) !important; /* Original: -moz-menuhover */
  }

  /*= Linux - Titlebar button at lwtheme =====================================*/
  .titlebar-button:-moz-lwtheme {
    appearance: auto !important;
  }
  .titlebar-min:-moz-lwtheme,
  .titlebar-max:-moz-lwtheme,
  .titlebar-restore:-moz-lwtheme,
  .titlebar-close:-moz-lwtheme {
    list-style-image: none !important;
  }
  .titlebar-button:-moz-lwtheme:hover,
  .titlebar-button:-moz-lwtheme:hover:active {
    background-color: unset !important;
    color: unset !important;
  }
}

/*= Linux - Light System Default Theme's Selected Tab ========================*/
@media (-moz-gtk-csd-available) and (-moz-toolbar-prefers-color-scheme: light),
  (-moz-gtk-csd-available) and (prefers-color-scheme: light) {
  /* Because of
    #TabsToolbar:not([brighttext]) #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected=true], [multiselected]) > .tab-stack > .tab-background {
      border: 1px solid var(--tab-line-color, rgba(128,128,142,0.9));
      box-shadow: 0 0 4px rgba(128,128,142,0.5);
    }
   */
  #tabbrowser-tabs:not([noshadowfortests])
    .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
    > .tab-stack
    > .tab-background:not(:-moz-lwtheme) {
    box-shadow: 0 0 4px rgba(128, 128, 142, 0.5) !important;
  }
  #TabsToolbar:not([brighttext])
    #tabbrowser-tabs:not([noshadowfortests])
    .tabbrowser-tab:is([visuallyselected="true"], [multiselected])
    > .tab-stack
    > .tab-background:not(:-moz-lwtheme) {
    box-shadow: 0 0 1px var(--tab-line-color, rgba(128, 128, 142, 0.9)),
      0 0 4px rgba(128, 128, 142, 0.5) !important;
  }
}

/** System Default Theme ******************************************************/
/*= Common - URL Bar focus color =============================================*/
@media (-moz-windows-accent-color-in-titlebar), (-moz-gtk-csd-available) {
  /* URL Bar */
  :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme),
  :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive) {
    --focus-outline-color: -moz-accent-color !important;
  }

  :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme)
    #urlbar[open]
    > #urlbar-background,
  :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive)
    #urlbar[open]
    > #urlbar-background {
    border-color: color-mix(
      in srgb,
      -moz-accent-color 50%,
      transparent
    ) !important; /* Like: --toolbar-field-focus-border-color */
  }
}

/*= Windows7 - Aero Based Theme ==============================================*/
@media (-moz-os-version: windows-win7),
  /* Legacy - v99 */ (-moz-platform: windows-win7) {
  #TabsToolbar:not(:-moz-lwtheme) {
    --background-color: rgb(229, 229, 235);
  }
  #TabsToolbar:not(:-moz-lwtheme)
    .tabbrowser-tab
    > .tab-stack
    > .tab-background:not([selected="true"], [multiselected]) {
    color: var(--background-color);
    background-color: color-mix(in srgb, currentColor 60%, transparent);
  }
  #TabsToolbar:not(:-moz-lwtheme)
    .tabbrowser-tab:hover
    > .tab-stack
    > .tab-background:not([selected="true"], [multiselected]) {
    background-color: color-mix(
      in srgb,
      currentColor 85%,
      transparent
    ) !important; /* Original: color-mix(in srgb, currentColor 11%, transparent) */
  }
  #scrollbutton-up:not(:-moz-lwtheme),
  #scrollbutton-down:not(:-moz-lwtheme),
  #alltabs-button:not(:-moz-lwtheme) > .toolbarbutton-badge-stack,
  #TabsToolbar:not(:-moz-lwtheme) .toolbarbutton-1 > .toolbarbutton-icon {
    color: var(--background-color) !important;
    background-color: color-mix(in srgb, currentColor 50%, transparent);
  }
}

/*= Windows10 - UWP like color ===============================================*/
@media (-moz-os-version: windows-win10),
  /* Legacy - v99 */ (-moz-platform: windows-win10) {
  :root:not(:-moz-lwtheme) {
    --win-text-color: rgba(0, 0, 0);
    --win-bgcolor: rgb(204, 204, 204);
    --win-disabled-color: rgb(145, 145, 145);
    --win-disabled-bgcolor: transparent;
    --win-hover-bgcolor: rgb(218, 218, 218); /* also button-bgcolor */
    --win-hover-active-bgcolor: #c2c2c2; /* also button-hover-bgcolor */
    --win-button-hover-bgcolor: rgba(218, 218, 218, 0.66);
    --win-button-active-bgcolor: #aaaaaa;
    --win-field-bgcolor: #ffffff;
    --win-component-bgcolor: #f2f2f2;
    --win-border-color: #8a8a8a;
    --win-tab-seperator-color: #a3a3a3;
    --win-sidebar-bgcolor: #e6e6e6;
    --win-sidebar-hover-bgcolor: #cfcfcf;
    --win-sidebar-button-hover-bgcolor: #b8b8b8;
    --win-sidebar-button-hover-active-bgcolor: #a3a3a3;
    --win-button-border: #747474;
    --win-shorcut-text-color: #757575;
    --win-error-color: #b31616;
    --win-red-border-color: #ff4343;
    --win-accent-color: color-mix(
      in srgb,
      rgba(0, 0, 0, 0.8) 10%,
      -moz-accent-color
    );
    --win-accent-content-color: color-mix(
      in srgb,
      rgba(255, 255, 255, 0.8) 15%,
      -moz-accent-color
    );
    --win-accent-hover-color: color-mix(
      in srgb,
      rgba(255, 255, 255, 0.8) 27%,
      -moz-accent-color
    );
    --win-accent-active-color: -moz-accent-color;
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root:not(:-moz-lwtheme),
    :root[lwt-default-theme-in-dark-mode] {
      --win-text-color: #ffffff;
      --win-bgcolor: #2b2b2b;
      --win-disabled-color: #747474;
      --win-disabled-bgcolor: transparent;
      --win-hover-bgcolor: #2e2e2e; /* also button-bgcolor */
      --win-hover-active-bgcolor: #454545; /* also button-active-color */
      --win-button-hover-bgcolor: rgba(46, 46, 46, 0.66);
      --win-button-active-bgcolor: #515151;
      --win-field-bgcolor: #373737;
      --win-component-bgcolor: #171717;
      --win-border-color: #5b5b5b;
      --win-tab-seperator-color: #555555;
      --win-sidebar-bgcolor: #1f1f1f;
      --win-sidebar-hover-bgcolor: #353535;
      --win-sidebar-button-hover-bgcolor: #353535;
      --win-sidebar-button-hover-active-bgcolor: #4c4c4c;
      --win-button-border: #8f8f8f;
      --win-shorcut-text-color: #adadad;
      --win-error-color: #ffb900;
      --win-red-border-color: #ff4343;
      --win-accent-color: color-mix(
        in srgb,
        rgba(255, 255, 255, 0.8) 20%,
        -moz-accent-color
      );
      --win-accent-content-color: color-mix(
        in srgb,
        rgba(255, 255, 255, 0.8) 35%,
        -moz-accent-color
      );
      --win-accent-hover-color: color-mix(
        in srgb,
        rgba(0, 0, 0, 0.8) 5%,
        -moz-accent-color
      );
      --win-accent-active-color: -moz-accent-color;
    }
  }

  :root:not(:-moz-lwtheme),
  :root[lwt-default-theme-in-dark-mode] {
    /* Text, Icon Color */
    --menu-color: var(--win-text-color) !important;
    --lwt-text-color: var(--win-text-color) !important;
    --button-color: var(--win-text-color) !important;
    --input-color: var(--win-text-color) !important;
    --toolbar-color: var(--win-text-color) !important;
    --toolbar-non-lwt-textcolor: var(--win-text-color) !important;
    --toolbarbutton-icon-fill: var(--win-text-color) !important;
    --toolbar-field-focus-color: var(--win-text-color) !important;
    --urlbar-popup-action-color: var(--win-text-color) !important;
    --toolbar-field-color: var(--win-text-color) !important;
    --autocomplete-popup-highlight-color: var(--win-text-color) !important;
    --tab-icon-overlay-fill: var(--win-text-color) !important;
    --panel-banner-item-color: var(--win-text-color) !important;
    --arrowpanel-color: var(--win-text-color) !important;
    --autocomplete-popup-color: var(--win-text-color) !important;

    /* Text Disabled Color */
    --menu-disabled-color: var(--win-disabled-color) !important;
    --checkbox-unchecked-active-bgcolor: var(--win-disabled-color) !important;
    --panel-disabled-color: var(--win-disabled-color) !important;
    --download-progress-paused-color: var(--win-disabled-color) !important;

    /* Text Shortcut Color */
    --panel-shortcut-color: var(--win-shorcut-text-color) !important;
    --panel-description-color: var(--win-shorcut-text-color) !important;

    /* Title Background, Border Color */
    --menu-border-color: var(--win-bgcolor) !important;
    --lwt-accent-color: var(--win-bgcolor) !important;
    --toolbar-field-border-color: var(--win-bgcolor) !important;
    --chrome-content-separator-color: var(--win-bgcolor) !important;

    /* Component Background Color */
    --menu-background-color: var(--win-component-bgcolor) !important;
    --toolbar-bgcolor: var(--win-component-bgcolor) !important;
    --toolbar-non-lwt-bgcolor: var(--win-component-bgcolor) !important;
    --arrowpanel-background: var(--win-component-bgcolor) !important;
    --autocomplete-popup-background: var(--win-component-bgcolor) !important;

    /* Seperator */
    --toolbarseparator-color: var(--win-tab-seperator-color) !important;

    /* Field Backround Color */
    --input-bgcolor: var(--win-field-bgcolor) !important;
    --toolbar-field-background-color: var(--win-field-bgcolor) !important;
    --toolbar-field-focus-background-color: var(--win-field-bgcolor) !important;
    --tab-icon-overlay-stroke: var(--win-field-bgcolor) !important;
    --button-primary-color: var(--win-field-bgcolor) !important;
    --checkbox-checked-color: var(--win-field-bgcolor) !important;

    /* Hover Background Color, Button Color  */
    --menuitem-hover-background-color: var(--win-hover-bgcolor) !important;
    --toolbarbutton-hover-background: var(--win-hover-bgcolor) !important;
    --button-bgcolor: var(--win-hover-bgcolor) !important;
    --panel-banner-item-background-color: var(--win-hover-bgcolor) !important;

    /* Hover Active, Button Hover Color */
    --checkbox-unchecked-bgcolor: var(--win-hover-active-bgcolor) !important;
    --urlbar-box-bgcolor: var(--win-hover-active-bgcolor) !important;
    --urlbar-box-focus-bgcolor: var(--win-hover-active-bgcolor) !important;
    --toolbarbutton-active-background: var(
      --win-hover-active-bgcolor
    ) !important;
    --urlbar-box-active-bgcolor: var(--win-hover-active-bgcolor) !important;
    --autocomplete-popup-highlight-background: var(
      --win-hover-active-bgcolor
    ) !important;
    --panel-banner-item-hover-bgcolor: var(
      --win-hover-active-bgcolor
    ) !important;

    /* Button Hover Active Color */
    --button-active-bgcolor: var(--win-button-active-bgcolor) !important;
    --panel-banner-item-active-bgcolor: var(
      --win-button-active-bgcolor
    ) !important;

    /* Disabled Background Color */
    --menuitem-disabled-hover-background-color: var(
      --win-disabled-bgcolor
    ) !important;

    /* Button Hover Color */
    --button-hover-bgcolor: var(--win-button-hover-bgcolor) !important;
    --checkbox-unchecked-hover-bgcolor: var(
      --win-button-hover-bgcolor
    ) !important;
    --urlbar-box-hover-bgcolor: var(--win-button-hover-bgcolor) !important;
    --autocomplete-popup-hover-background: var(
      --win-button-hover-bgcolor
    ) !important;

    /* Button Border Color */
    --checkbox-border-color: var(--win-button-border) !important;
    --input-border-color: var(--win-button-border) !important;
    --autocomplete-popup-separator-color: var(--win-button-border) !important;

    /* Accent Color */
    --button-primary-bgcolor: var(--win-accent-color) !important;
    --focus-outline-color: var(--win-accent-color) !important;
    --checkbox-checked-bgcolor: var(--win-accent-color) !important;

    /* Accent Content Color */
    --toolbarbutton-icon-fill-attention: var(
      --win-accent-content-color
    ) !important;
    --urlbar-popup-url-color: var(--win-accent-content-color) !important;
    --download-progress-fill-color: var(--win-accent-content-color) !important;

    /* Accent Hover Color */
    --button-primary-hover-bgcolor: var(--win-accent-hover-color) !important;
    --checkbox-checked-hover-bgcolor: var(--win-accent-hover-color) !important;

    /* Accent Hover Active Color */
    --button-primary-active-bgcolor: var(--win-accent-active-color) !important;
    --checkbox-checked-active-bgcolor: var(
      --win-accent-active-color
    ) !important;

    /* Error Color */
    --error-text-color: var(--win-error-color) !important;
    --input-error-border-color: var(--win-error-color) !important;

    /* Others */
    --tab-line-color: Highlight !important;
    --tab-selected-bgcolor: unset !important;
    --tabs-border-color: transparent !important;
    --checkbox-checked-border-color: transparent !important;

    /* Other Defaults */
    --arrowpanel-dimmed: color-mix(
      in srgb,
      currentColor 12%,
      transparent
    ) !important;
    --arrowpanel-dimmed-further: color-mix(
      in srgb,
      currentColor 20%,
      transparent
    ) !important;
    --arrowpanel-dimmed-even-further: color-mix(
      in srgb,
      currentColor 27%,
      transparent
    ) !important;

    --download-progress-flare-color: rgba(255, 255, 255, 0.75) !important;

    --panelview-toolbarbutton-focus-box-shadow: inset 0 0 0 2px
      var(--focus-outline-color) !important;
  }
  #navigator-toolbox:not(:-moz-lwtheme) {
    background: var(--lwt-accent-color) !important;
  }

  /*- Separator --------------------------------------------------------------*/
  :root:not(:-moz-lwtheme) {
    --arrowpanel-border-color: var(--win-bgcolor) !important;
    --panel-separator-color: var(--win-bgcolor) !important;
  }
  :root[lwt-default-theme-in-dark-mode] {
    --arrowpanel-border-color: var(--win-border-color) !important;
    --panel-separator-color: var(--win-border-color) !important;
  }

  /*- Proton Tab Selected ----------------------------------------------------*/
  :root:not(:-moz-lwtheme),
  :root[lwt-default-theme-in-dark-mode] {
    --win-proton-tab-selected-bgcolor: color-mix(
      in srgb,
      var(--win-bgcolor) 5%,
      var(--win-component-bgcolor)
    );
  }
  :root:not(:-moz-lwtheme) {
    --tab-selected-color: var(--win-proton-tab-selected-bgcolor) !important;
  }
  :root[lwt-default-theme-in-dark-mode] {
    --lwt-selected-tab-background-color: var(
      --win-proton-tab-selected-bgcolor
    ) !important;
  }

  /*- Menu -------------------------------------------------------------------*/
  html#main-window menupopup:not(:-moz-lwtheme) {
    --menu-color: var(--win-text-color) !important;
    --menu-background-color: var(--win-component-bgcolor) !important;
    --menu-border-color: var(--win-bgcolor) !important;
    --menuitem-hover-background-color: var(--win-hover-bgcolor) !important;
    --menu-disabled-color: var(--win-disabled-color) !important;
    --menuitem-disabled-hover-background-color: var(
      --win-disabled-bgcolor
    ) !important;
  }

  /*- Toolbar ----------------------------------------------------------------*/
  :root:not(:-moz-lwtheme) #titlebar,
  :root[lwt-default-theme-in-dark-mode] #titlebar {
    --button-hover-bgcolor: var(--win-sidebar-button-hover-bgcolor);
    --button-active-bgcolor: var(--win-sidebar-button-hover-active-bgcolor);
    --toolbarbutton-hover-background: var(--win-sidebar-button-hover-bgcolor);
    --toolbarbutton-active-background: var(
      --win-sidebar-button-hover-active-bgcolor
    );
  }

  /*- Sidebar ----------------------------------------------------------------*/
  #sidebar-box:not([lwt-sidebar]) {
    appearance: none !important;
  }
  :root:not(:-moz-lwtheme) #sidebar-box,
  :root[lwt-default-theme-in-dark-mode] #sidebar-box {
    --sidebar-background-color: var(--win-sidebar-bgcolor) !important;
    --sidebar-text-color: var(--win-text-color) !important;
    --sidebar-border-color: var(--win-border-color) !important;
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    .sidebar-panel[style="--newtab-background-color: rgba(43, 42, 51, 1); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"],
      body[lwt-sidebar][style="--newtab-background-color: rgba(43, 42, 51, 1); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"],
      .sidebar-panel[style="--newtab-background-color: rgb(43, 42, 51); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"], /* Nightly */
      body[lwt-sidebar][style="--newtab-background-color: rgb(43, 42, 51); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"] {
      /* Only darkmode has more: --newtab-background-color-secondary: rgba(66, 65, 77, 1); */
      --lwt-sidebar-background-color: transparent !important;
      --lwt-sidebar-text-color: var(--win-text-color) !important;
    }
  }

  /*- Panel ------------------------------------------------------------------*/
  :root:not(:-moz-lwtheme) .subviewbutton,
  :root[lwt-default-theme-in-dark-mode] .subviewbutton {
    --button-hover-bgcolor: var(--win-hover-active-bgcolor) !important;
    --button-active-bgcolor: var(--win-button-active-bgcolor) !important;
  }

  :root:not(:-moz-lwtheme)
    toolbarbutton.subviewbutton:not([disabled], [open], :active, #appMenu-fxa-label2, #appMenu-zoomReduce-button2, #appMenu-zoomReset-button2, #appMenu-zoomEnlarge-button2, #appMenu-fullscreen-button2):is(:hover),
  :root[lwt-default-theme-in-dark-mode]
    toolbarbutton.subviewbutton:not([disabled], [open], :active, #appMenu-fxa-label2, #appMenu-zoomReduce-button2, #appMenu-zoomReset-button2, #appMenu-zoomEnlarge-button2, #appMenu-fullscreen-button2):is(:hover) {
    background-color: var(--win-hover-bgcolor) !important;
  }
  :root:not(:-moz-lwtheme)
    toolbarbutton.subviewbutton:not([disabled], #appMenu-fxa-label2, #appMenu-zoomReduce-button2, #appMenu-zoomReset-button2, #appMenu-zoomEnlarge-button2, #appMenu-fullscreen-button2):is([open], :hover:active),
  :root[lwt-default-theme-in-dark-mode]
    toolbarbutton.subviewbutton:not([disabled], #appMenu-fxa-label2, #appMenu-zoomReduce-button2, #appMenu-zoomReset-button2, #appMenu-zoomEnlarge-button2, #appMenu-fullscreen-button2):is([open], :hover:active) {
    background-color: var(--win-hover-active-bgcolor) !important;
  }

  /*- Others -----------------------------------------------------------------*/
  /* For overwrite */
  :root[lwtheme-mozlightdark]:not([lwthemetextcolor="bright"]):not(:-moz-lwtheme), /* Legacy - lwtheme-mozlightdark at v96 */
  :root:not(:-moz-lwtheme) {
    /* Light Theme */
    --lwt-accent-color: var(--win-bgcolor) !important;
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root[lwt-default-theme-in-dark-mode][lwthemetextcolor="bright"] {
      --toolbar-bgcolor: var(
        --win-component-bgcolor
      ) !important; /* Original: rgba(43, 42, 51, 1) */
    }
  }

  #tabbrowser-tabs:not([movingtab])
    > #tabbrowser-arrowscrollbox
    > .tabbrowser-tab
    > .tab-stack
    > .tab-background[multiselected]:not([selected]):not(:-moz-lwtheme),
  :root[lwtheme-mozlightdark] /* Legacy - lwtheme-mozlightdark at v96 */
    #tabbrowser-tabs:not([movingtab])
    > #tabbrowser-arrowscrollbox
    > .tabbrowser-tab
    > .tab-stack
    > .tab-background[multiselected]:not([selected]),
  :root:is([style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"], [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"])
    #tabbrowser-tabs:not([movingtab])
      > #tabbrowser-arrowscrollbox
      > .tabbrowser-tab
      > .tab-stack
      > .tab-background[multiselected]:not([selected]) {
    background-image: linear-gradient(
        color-mix(in srgb, currentColor 11%, transparent),
        color-mix(in srgb, currentColor 11%, transparent)
      ),
      linear-gradient(var(--toolbar-bgcolor), var(--toolbar-bgcolor)),
      var(--lwt-header-image, none) !important;
  }
}

/*= Windows10 - Titlebar accent color ========================================*/
@media (-moz-windows-accent-color-in-titlebar) {
  /* Tab Bar */
  :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme)
    .titlebar-color,
  :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive)
    .titlebar-color {
    color: -moz-accent-color-foreground;
    background-color: -moz-accent-color;
  }

  :root[tabsintitlebar]:not(:-moz-window-inactive, :-moz-lwtheme)
    .toolbar-items,
  :root[tabsintitlebar][lwt-default-theme-in-dark-mode]:not(:-moz-window-inactive)
    .toolbar-items {
    --toolbarbutton-icon-fill: currentColor;
    --toolbarbutton-hover-background: color-mix(
      in srgb,
      -moz-accent-color-foreground 10%,
      transparent
    );
    --toolbarbutton-active-background: color-mix(
      in srgb,
      -moz-accent-color-foreground 15%,
      transparent
    );
  }
}

/*= GTK - URL View url accent color ==========================================*/
@media (-moz-gtk-csd-available) {
  :root:not(:-moz-lwtheme) .urlbarView-url {
    --urlbar-popup-url-color: -moz-accent-color;
  }

  /* Nightly Compatibility */
  :root:not(:-moz-lwtheme) #urlbar {
    --toolbar-field-focus-color: var(
      --toolbar-field-color
    ); /* Nightly: rgba(0, 0, 0, 1)  */
    --toolbar-field-focus-background-color: var(
      --toolbar-field-background-color
    ); /* Nightly: white */
  }
}

/*= Mac - Default like color =================================================*/
@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  :root:not(:-moz-lwtheme),
  :root[lwt-default-theme-in-dark-mode] {
    /* Colors */
    --mac-text-color: -moz-dialogtext;
    --mac-disabled-color: GrayText;
    --mac-bgcolor: Window;
    --mac-selected-bgcolor: color-mix(
      in srgb,
      rgb(255, 255, 255) 15%,
      -moz-dialog
    );
    --mac-field-bgcolor: Window;
    --mac-panel-bgcolor: Menu;
    --mac-sidebar-bgcolor: -moz-mac-source-list;
    --mac-sidebar-hover-bgcolor: color-mix(
      in srgb,
      ButtonFace 60%,
      var(--mac-sidebar-bgcolor)
    );
    --mac-hover-bgcolor: Window;
    --mac-disabled-bgcolor: transparent;
    --mac-primary-button-color: -moz-accent-color-foreground; /* or -moz-mac-menutextselect */
    --mac-accent-color: -moz-accent-color; /* or LinkText */
    --mac-accent-content-color: color-mix(
      in srgb,
      rgb(255, 255, 255) 15%,
      -moz-accent-color
    );
    --mac-accent-hover-color: color-mix(
      in srgb,
      rgb(0, 0, 0) 10%,
      -moz-accent-color
    ); /* or -moz-mac-menuselect, Highlight */
    --mac-accent-active-color: color-mix(
      in srgb,
      rgb(0, 0, 0) 20%,
      -moz-accent-color
    ); /* or ActiveBorder */

    /* Text, Icon Color */
    --menu-color: var(--mac-text-color) !important;
    --lwt-text-color: var(--mac-text-color) !important;
    --button-color: var(--mac-text-color) !important;
    --input-color: var(--mac-text-color) !important;
    --toolbar-color: var(--mac-text-color) !important;
    --toolbar-non-lwt-textcolor: var(--mac-text-color) !important;
    --toolbarbutton-icon-fill: var(--mac-text-color) !important;
    --toolbar-field-focus-color: var(--mac-text-color) !important;
    --urlbar-popup-action-color: var(--mac-text-color) !important;
    --toolbar-field-color: var(--mac-text-color) !important;
    --autocomplete-popup-highlight-color: var(--mac-text-color) !important;
    --tab-icon-overlay-fill: var(--mac-text-color) !important;
    --panel-banner-item-color: var(--mac-text-color) !important;
    --arrowpanel-color: var(--mac-text-color) !important;
    --autocomplete-popup-color: var(--mac-text-color) !important;
    --panel-shortcut-color: var(--mac-text-color) !important;
    --panel-description-color: var(--mac-text-color) !important;

    /* Text Disabled Color */
    --menu-disabled-color: var(--mac-disabled-color) !important;
    --button-active-bgcolor: var(--mac-disabled-color) !important;
    --checkbox-unchecked-active-bgcolor: var(--mac-disabled-color) !important;
    --panel-disabled-color: var(--mac-disabled-color) !important;
    --download-progress-paused-color: var(--mac-disabled-color) !important;

    /* Background Color */
    --lwt-accent-color: var(--mac-bgcolor) !important;
    --menu-background-color: var(--mac-bgcolor) !important;
    --autocomplete-popup-background: var(--mac-bgcolor) !important;

    /* Selected Background Color */
    --toolbar-bgcolor: var(--mac-selected-bgcolor) !important;
    --toolbar-non-lwt-bgcolor: var(--mac-selected-bgcolor) !important;

    /* Field Backround Color */
    --input-bgcolor: var(--mac-field-bgcolor) !important;
    --toolbar-field-background-color: var(--mac-field-bgcolor) !important;
    --tab-icon-overlay-stroke: var(--mac-field-bgcolor) !important;

    /* Panel Backround Color */
    --arrowpanel-background: var(--mac-panel-bgcolor) !important;

    /* Hover Background Color  */
    --menuitem-hover-background-color: var(--mac-hover-bgcolor) !important;
    --toolbarbutton-hover-background: var(--mac-hover-bgcolor) !important;
    --panel-banner-item-hover-bgcolor: var(--mac-hover-bgcolor) !important;

    --button-bgcolor: var(--mac-hover-bgcolor) !important;
    --checkbox-unchecked-bgcolor: var(--mac-hover-bgcolor) !important;
    --panel-banner-item-background-color: var(--mac-hover-bgcolor) !important;
    --urlbar-box-bgcolor: var(--mac-hover-bgcolor) !important;
    --urlbar-box-focus-bgcolor: var(--mac-hover-bgcolor) !important;
    --panel-banner-item-active-bgcolor: var(--mac-hover-bgcolor) !important;
    --toolbarbutton-active-background: var(--mac-hover-bgcolor) !important;
    --urlbar-box-active-bgcolor: var(--mac-hover-bgcolor) !important;
    --autocomplete-popup-highlight-background: var(
      --mac-hover-bgcolor
    ) !important;

    --button-hover-bgcolor: var(--mac-hover-bgcolor) !important;
    --checkbox-unchecked-hover-bgcolor: var(--mac-hover-bgcolor) !important;
    --urlbar-box-hover-bgcolor: var(--mac-hover-bgcolor) !important;
    --autocomplete-popup-hover-background: var(--mac-hover-bgcolor) !important;

    /* Disabled Background Color */
    --menuitem-disabled-hover-background-color: var(
      --mac-disabled-bgcolor
    ) !important;

    /* Border Color */
    /*
      --menu-border-color: var(--mac-bgcolor) !important;
      --toolbar-field-border-color: var(--mac-bgcolor) !important;
      --arrowpanel-border-color: var(--mac-bgcolor) !important;
      --chrome-content-separator-color: var(--mac-bgcolor) !important;
      --toolbarseparator-color: var(--mac-bgcolor) !important;
      --panel-separator-color: var(--mac-bgcolor) !important;
     */

    /* Button Border Color */
    /*
      --tab-line-color: var(---mac-bgcolor) !important;
      --checkbox-border-color: var(--mac-bgcolor) !important;
      --input-border-color: var(--mac-bgcolor) !important;
      --autocomplete-popup-separator-color: var(--mac-bgcolor) !important;
     */

    /* Accent Color Forground */
    --button-primary-color: var(--mac-primary-button-color) !important;
    --checkbox-checked-color: var(--mac-primary-button-color) !important;

    /* Accent Color */
    --button-primary-bgcolor: var(--mac-accent-color) !important;
    --focus-outline-color: var(--mac-accent-color) !important;
    --checkbox-checked-bgcolor: var(--mac-accent-color) !important;

    /* Accent Content Color */
    --toolbarbutton-icon-fill-attention: var(
      --mac-accent-content-color
    ) !important;
    --urlbar-popup-url-color: var(--mac-accent-content-color) !important;
    --download-progress-fill-color: var(--mac-accent-content-color) !important;

    /* Accent Hover Color */
    --button-primary-hover-bgcolor: var(--mac-accent-hover-color) !important;
    --checkbox-checked-hover-bgcolor: var(--mac-accent-hover-color) !important;

    /* Accent Hover Active Color */
    --button-primary-active-bgcolor: var(--mac-accent-active-color) !important;
    --checkbox-checked-active-bgcolor: var(
      --mac-accent-active-color
    ) !important;

    /* Error Color */
    /*
      --error-text-color: var(--win-error-color) !important;
      --input-error-border-color: var(--win-error-color) !important;
     */

    /* Others */
    --tab-selected-bgcolor: unset !important;
    --tabs-border-color: transparent !important;
    --checkbox-checked-border-color: transparent !important;

    /* Other Defaults */
    --arrowpanel-dimmed: color-mix(
      in srgb,
      currentColor 12%,
      transparent
    ) !important;
    --arrowpanel-dimmed-further: color-mix(
      in srgb,
      currentColor 20%,
      transparent
    ) !important;
    --arrowpanel-dimmed-even-further: color-mix(
      in srgb,
      currentColor 27%,
      transparent
    ) !important;

    --download-progress-flare-color: rgba(255, 255, 255, 0.75) !important;

    --panelview-toolbarbutton-focus-box-shadow: inset 0 0 0 2px
      var(--focus-outline-color) !important;
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root:not(:-moz-lwtheme),
    :root[lwt-default-theme-in-dark-mode] {
      --mac-field-bgcolor: Field;
      --mac-panel-bgcolor: -moz-CellHighlight;
      --mac-hover-bgcolor: ButtonFace;

      --toolbar-field-focus-background-color: var(--mac-bgcolor) !important;
      --toolbar-field-background-color: var(--mac-sidebar-bgcolor) !important;
    }
  }

  /*- Proton Tab Selected ----------------------------------------------------*/
  :root:not(:-moz-lwtheme),
  :root[lwt-default-theme-in-dark-mode] {
    --mac-proton-tab-selected-bgcolor: color-mix(
      in srgb,
      rgb(255, 255, 255) 20%,
      -moz-dialog
    );
  }
  :root:not(:-moz-lwtheme) {
    --tab-selected-color: var(--mac-proton-tab-selected-bgcolor) !important;
  }
  :root[lwt-default-theme-in-dark-mode] {
    --lwt-selected-tab-background-color: var(
      --mac-proton-tab-selected-bgcolor
    ) !important;
  }

  /*- Toolbar ----------------------------------------------------------------*/
  :root:not(:-moz-lwtheme) #navigator-toolbox,
  :root[lwt-default-theme-in-dark-mode] #navigator-toolbox {
    background-color: var(--mac-bgcolor) !important;
  }

  :root:not(:-moz-lwtheme) #titlebar {
    --mac-hover-bgcolor: ButtonFace;
  }
  :root:not(:-moz-lwtheme) #titlebar,
  :root[lwt-default-theme-in-dark-mode] #titlebar {
    --button-hover-bgcolor: var(--mac-hover-bgcolor);
    --button-active-bgcolor: var(--mac-hover-bgcolor);
    --toolbarbutton-hover-background: var(--mac-hover-bgcolor);
    --toolbarbutton-active-background: var(--mac-hover-bgcolor);

    /* Prevent transparent tabbar at fullscreen hover #312 */
    background: var(--mac-bgcolor);
  }

  :root[lwt-default-theme-in-dark-mode] #urlbar {
    --autocomplete-popup-highlight-background: var(
      --mac-hover-bgcolor
    ) !important;
    --autocomplete-popup-hover-background: var(--mac-hover-bgcolor) !important;
  }

  /*- Sidebar ----------------------------------------------------------------*/
  #sidebar-box:not([lwt-sidebar]) {
    appearance: none !important;
  }
  :root:not(:-moz-lwtheme) #sidebar-box,
  :root[lwt-default-theme-in-dark-mode] #sidebar-box {
    --sidebar-background-color: var(--mac-sidebar-bgcolor) !important;
    --sidebar-text-color: var(--mac-text-color) !important;
    /* --sidebar-border-color: var(--win-sidebar-border-color) !important; */
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    .sidebar-panel[style="--newtab-background-color: rgba(43, 42, 51, 1); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"],
      body[lwt-sidebar][style="--newtab-background-color: rgba(43, 42, 51, 1); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"],
      .sidebar-panel[style="--newtab-background-color: rgb(43, 42, 51); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"], /* Nightly */
      body[lwt-sidebar][style="--newtab-background-color: rgb(43, 42, 51); --newtab-text-primary-color: rgba(251, 251, 254, 1); --lwt-sidebar-background-color: rgb(56, 56, 61); --lwt-sidebar-text-color: rgba(249, 249, 250, 1);"] {
      /* Only darkmode has more: --newtab-background-color-secondary: rgba(66, 65, 77, 1); */
      --lwt-sidebar-background-color: transparent !important;
      --lwt-sidebar-text-color: var(--mac-text-color) !important;
    }
  }

  :root[lwt-default-theme-in-dark-mode] #sidebarMenu-popup {
    --button-hover-bgcolor: var(--mac-sidebar-hover-bgcolor);
    --button-active-bgcolor: var(--mac-sidebar-hover-bgcolor);
  }

  /*- Others -----------------------------------------------------------------*/
  /* For Overwrite */
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root[lwt-default-theme-in-dark-mode][lwthemetextcolor="bright"] {
      --toolbar-bgcolor: color-mix(
        in srgb,
        rgb(255, 255, 255) 15%,
        -moz-dialog
      ) !important;
    }
  }

  /* Hard Coded */
  :root:not([customizing="true"]):not(:-moz-lwtheme)
    tab[visuallyselected]
    > stack::before,
  :root:not([customizing="true"]):not(:-moz-lwtheme)
    tab[visuallyselected]
    > stack::after,
  :root:not([customizing="true"])[lwt-default-theme-in-dark-mode]
    tab[visuallyselected]
    > stack::before,
  :root:not([customizing="true"])[lwt-default-theme-in-dark-mode]
    tab[visuallyselected]
    > stack::after {
    fill: color-mix(in srgb, rgb(255, 255, 255) 15%, -moz-dialog) !important;
  }
}

/** Fully Theme Mode **********************************************************/
/* Default Themes
     https://github.com/mozilla/gecko-dev/blob/master/toolkit/mozapps/extensions/default-theme/manifest.json
     https://github.com/mozilla/gecko-dev/blob/master/browser/themes/addons/light/manifest.json
     https://github.com/mozilla/gecko-dev/blob/master/browser/themes/addons/dark/manifest.json
  */

/*= Default Colors - Hard Coded ==============================================*/
/* Based on chrome://global/skin/in-content/common.css */
:host,
:root {
  --in-content-page-color: rgb(21, 20, 26);
  --in-content-page-background: #fff;
  --in-content-text-color: var(--in-content-page-color);
  --in-content-deemphasized-text: rgb(91, 91, 102);
  --in-content-box-background: #fff;
  --in-content-box-background-odd: rgba(12, 12, 13, 0.05); /* grey 90 a05 */
  --in-content-box-border-color: color-mix(
    in srgb,
    currentColor 41%,
    transparent
  );
  --in-content-box-info-background: #f0f0f4;
  --in-content-item-hover: color-mix(
    in srgb,
    var(--in-content-primary-button-background) 20%,
    transparent
  );
  --in-content-item-hover-text: var(--in-content-page-color);
  --in-content-item-selected: var(--in-content-primary-button-background);
  --in-content-item-selected-text: var(--in-content-primary-button-text-color);
  --in-content-icon-color: rgb(91, 91, 102);
  --in-content-accent-color: #0a84ff;
  --in-content-accent-color-active: #0060df;
  --in-content-border-hover: var(--grey-90-a50);
  --in-content-border-invalid: var(--red-50);
  --in-content-border-color: #d7d7db;
  --in-content-error-text-color: #c50042;
  --in-content-link-color: var(--blue-60);
  --in-content-link-color-hover: var(--blue-70);
  --in-content-link-color-active: var(--blue-80);
  --in-content-link-color-visited: var(--blue-60);
  /* button background states are also used for checkboxes and radiobuttons */
  --in-content-button-text-color: var(--in-content-text-color);
  --in-content-button-text-color-hover: var(--in-content-text-color);
  --in-content-button-background: rgba(207, 207, 216, 0.33);
  --in-content-button-background-hover: rgba(207, 207, 216, 0.66);
  --in-content-button-background-active: rgb(207, 207, 216);
  --in-content-primary-button-text-color: rgb(251, 251, 254);
  --in-content-primary-button-text-color-hover: var(
    --in-content-primary-button-text-color
  );
  --in-content-primary-button-background: #0061e0;
  --in-content-primary-button-background-hover: #0250bb;
  --in-content-primary-button-background-active: #053e94;
  --in-content-danger-button-background: #e22850;
  --in-content-danger-button-background-hover: #c50042;
  --in-content-danger-button-background-active: #810220;
  --in-content-focus-outline-color: var(--in-content-primary-button-background);

  /* Note: 1px smaller than we want because we have a 1px transparent border. */
  /* Once proton ships, these can probably stop being variables. */
  --in-content-button-border-radius: 4px;
  --in-content-button-horizontal-padding: 15px;
  --in-content-button-vertical-padding: 7px;

  --in-content-table-background: #f8f8fa;
  --in-content-table-border-color: var(
    --in-content-box-border-color
  ); /* Legacy: #d1d1d1; rgba(249, 249, 250, 0.2) */
  --in-content-table-header-background: var(
    --in-content-primary-button-background
  ); /* Legacy: #0a84ff; rgb(5, 64, 150); */
  --in-content-table-header-color: var(
    --in-content-primary-button-text-color
  ); /* Legacy: #ffffff; var(--in-content-page-color); */
  --in-content-sidebar-width: 240px;

  --dialog-warning-text-color: var(--red-60);

  --checkbox-border-color: var(--in-content-box-border-color);
  --checkbox-unchecked-bgcolor: var(--in-content-button-background);
  --checkbox-unchecked-hover-bgcolor: var(--in-content-button-background-hover);
  --checkbox-unchecked-active-bgcolor: var(
    --in-content-button-background-active
  );
  --checkbox-checked-bgcolor: var(--in-content-primary-button-background);
  --checkbox-checked-color: var(--in-content-primary-button-text-color);
  --checkbox-checked-border-color: transparent;
  --checkbox-checked-hover-bgcolor: var(
    --in-content-primary-button-background-hover
  );
  --checkbox-checked-active-bgcolor: var(
    --in-content-primary-button-background-active
  );
  --blue-40: #45a1ff;
  --blue-50: #0a84ff;
  --blue-60: #0060df;
  --blue-70: #003eaa;
  --blue-80: #002275;
  --grey-30: #d7d7db;
  --grey-60: #4a4a4f;
  --grey-90-a10: rgba(12, 12, 13, 0.1);
  --grey-90-a20: rgba(12, 12, 13, 0.2);
  --grey-90-a30: rgba(12, 12, 13, 0.3);
  --grey-90-a50: rgba(12, 12, 13, 0.5);
  --grey-90-a60: rgba(12, 12, 13, 0.6);
  --green-50: #30e60b;
  --green-60: #12bc00;
  --green-70: #058b00;
  --green-80: #006504;
  --green-90: #003706;
  --orange-50: #ff9400;
  --red-40: #ff4f5e;
  --red-50: #ff0039;
  --red-60: #d70022;
  --red-70: #a4000f;
  --red-80: #5a0002;
  --red-90: #3e0200;
  --yellow-50: #ffe900;
  --yellow-60: #d7b600;
  --yellow-60-a30: rgba(215, 182, 0, 0.3);
  --yellow-70: #a47f00;
  --yellow-80: #715100;
  --yellow-90: #3e2800;

  --shadow-10: 0 1px 4px var(--grey-90-a10);
  --shadow-30: 0 4px 16px var(--grey-90-a10);

  --card-padding: 16px;
  --card-shadow: var(--shadow-10);
  --card-outline-color: var(--grey-30);
  --card-shadow-hover: var(--card-shadow), 0 0 0 5px var(--card-outline-color);
}

@media (-moz-toolbar-prefers-color-scheme: dark), (prefers-color-scheme: dark) {
  :host,
  :root {
    /* Keep these in sync with layout/base/PresShell.cpp, and plaintext.css */
    --in-content-page-background: rgb(28, 27, 34);
    --in-content-page-color: rgb(251, 251, 254);
    --in-content-deemphasized-text: rgb(191, 191, 201);

    --in-content-box-background: rgb(35, 34, 43);
    --in-content-box-background-odd: rgba(249, 249, 250, 0.05);
    --in-content-box-info-background: rgba(249, 249, 250, 0.15);

    --in-content-border-color: rgba(249, 249, 250, 0.2);
    --in-content-border-hover: rgba(249, 249, 250, 0.3);
    --in-content-border-invalid: rgb(255, 132, 139);

    --in-content-error-text-color: #ff9aa2;

    --in-content-button-background: rgb(43, 42, 51);
    --in-content-button-background-hover: rgb(82, 82, 94);
    --in-content-button-background-active: rgb(91, 91, 102);
    --in-content-icon-color: rgb(251, 251, 254);

    --in-content-primary-button-text-color: rgb(43, 42, 51);
    --in-content-primary-button-background: rgb(0, 221, 255);
    --in-content-primary-button-background-hover: rgb(128, 235, 255);
    --in-content-primary-button-background-active: rgb(170, 242, 255);

    --in-content-danger-button-background: #ff848b;
    --in-content-danger-button-background-hover: #ffbdc5;
    --in-content-danger-button-background-active: #ffdfe7;

    --in-content-table-background: rgb(35, 34, 43);
    --in-content-table-border-dark-color: var(--in-content-box-border-color);

    --in-content-accent-color: var(--in-content-primary-button-background);
    --in-content-accent-color-active: var(
      --in-content-primary-button-background-hover
    );
    --in-content-link-color: var(--in-content-primary-button-background);
    --in-content-link-color-hover: var(
      --in-content-primary-button-background-hover
    );
    --in-content-link-color-active: var(
      --in-content-primary-button-background-active
    );
    --in-content-link-color-visited: var(--in-content-link-color);

    --card-outline-color: var(--grey-60);

    --dialog-warning-text-color: var(--red-40);
  }
}

/*== Menu color =============================================================*/
html#main-window menupopup {
  /* is same as toolbar color https://github.com/mozilla/gecko-dev/blob/master/toolkit/themes/windows/global/global.css#L17-L67 */
  --menu-color: var(
    --arrowpanel-color,
    var(--in-content-page-color)
  ) !important;
  --menu-background-color: var(
    --arrowpanel-background,
    var(--in-content-button-background)
  ) !important;

  --menu-border-color: var(
    --toolbarbutton-active-background,
    var(--button-active-bgcolor, var(--card-outline-color))
  ) !important;
  --menuitem-hover-background-color: var(
    --toolbarbutton-hover-background,
    var(--button-hover-bgcolor, var(--in-content-button-background-hover))
  ) !important;

  --menu-disabled-color: color-mix(
    in srgb,
    var(--menu-color) 40%,
    transparent
  ) !important;
  --menuitem-disabled-hover-background-color: color-mix(
    in srgb,
    var(--menuitem-hover-background-color) 40%,
    transparent
  ) !important;
}

@media not all and (-moz-gtk-csd-available) {
  window:is(#bookmarksPanel, #history-panel)[lwt-sidebar="true"] menupopup {
    --panel-color: var(--lwt-sidebar-text-color, var(--menu-color)) !important;
    --panel-background: var(
      --lwt-sidebar-background-color,
      var(--menu-background-color)
    ) !important;
  }
  window:is(#bookmarksPanel, #history-panel)[lwt-sidebar="true"]
    menu[_moz-menuactive="true"]:not([disabled="true"]),
  window:is(#bookmarksPanel, #history-panel)[lwt-sidebar="true"]
    menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
    --menuitem-hover-background-color: color-mix(
      in srgb,
      currentColor 17%,
      transparent
    ); /* Looks like toolbar button */
    /* or var(--lwt-sidebar-highlight-background-color)
         If this value is used, unset is required in the default theme.
      */
  }

  /* Fallback background */
  menupopup:not(.cui-widget-panel.cui-widget-panelview, [placespopup="true"]) {
    background-color: var(
      --lwt-accent-color,
      var(--in-content-page-background)
    ) !important;
  }
}

/* Default theme color preservation */
:root[lwtheme-mozlightdark] menupopup:not(#BMB_bookmarksPopup, [placespopup="true"]), /* Legacy - lwtheme-mozlightdark at v96 */
:root[lwtheme-mozlightdark] menupopup:is(#goPopup, #historyMenuPopup, #bookmarksMenuPopup), /* Legacy - lwtheme-mozlightdark at v96 */
:root:is([style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"], [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"]) menupopup:not(#BMB_bookmarksPopup, [placespopup="true"]),
:root:is([style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"], [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"]) menupopup:is(#goPopup, #historyMenuPopup, #bookmarksMenuPopup) {
  --menu-color: var(--toolbar-color, var(--in-content-page-color)) !important;
  --arrowpanel-background: var(
    --toolbar-bgcolor,
    var(--in-content-button-background)
  ) !important; /* --menu-background-color */
}
@media not all and (-moz-gtk-csd-available) {
  window:is(#bookmarksPanel, #history-panel)[style*="--newtab-background-color: rgba(249, 249, 251, 1);"] menupopup, /* Default Light Mode */
    window:is(#bookmarksPanel, #history-panel)[style*="--newtab-background-color: rgba(43, 42, 51, 1);"]    menupopup {
    /* Default Dark Mode */
    --panel-color: var(--menu-color) !important;
    --panel-background: var(--menu-background-color) !important;
  }
}

/*== Bookmark Popup Color ====================================================*/
#editBMPanel_folderTree:-moz-lwtheme,
#editBMPanel_tagsSelector:-moz-lwtheme {
  appearance: none !important;
  border: 0.5px solid
    var(
      --button-active-bgcolor,
      color-mix(in srgb, currentColor 30%, transparent)
    ) !important;
}

#editBMPanel_folderTree:-moz-lwtheme,
#editBMPanel_folderTree:-moz-lwtheme > treechildren,
#editBMPanel_folderTree:-moz-lwtheme > treechildren::-moz-tree-image,
#editBMPanel_folderTree:-moz-lwtheme > treechildren::-moz-tree-cell-text(hover),
#editBMPanel_folderTree:-moz-lwtheme
  > treechildren::-moz-tree-cell-text(selected),
#editBMPanel_tagsSelector:-moz-lwtheme,
#editBMPanel_tagsSelector:-moz-lwtheme > richlistitem {
  color: var(--lwt-text-color, fieldtext) !important;
}
#editBMPanel_folderTree:-moz-lwtheme
  > treechildren::-moz-tree-cell-text(selected) {
  font-weight: 600 !important;
}

#editBMPanel_folderTree:-moz-lwtheme > treechildren,
#editBMPanel_tagsSelector:-moz-lwtheme {
  background-color: color-mix(
    in srgb,
    var(--arrowpanel-background) 35%,
    var(--in-content-box-background)
  ) !important;
}
#editBMPanel_folderTree:-moz-lwtheme > treechildren::-moz-tree-row(hover),
#editBMPanel_tagsSelector > richlistitem:hover {
  background-color: var(
    --button-hover-bgcolor,
    color-mix(in srgb, currentColor 17%, transparent)
  ) !important;
}
#editBMPanel_folderTree:-moz-lwtheme > treechildren::-moz-tree-row(selected),
#editBMPanel_tagsSelector > richlistitem[selected="true"] {
  background-color: var(
    --button-active-bgcolor,
    color-mix(in srgb, currentColor 30%, transparent)
  ) !important;
}

#editBMPanel_namePicker,
#editBMPanel_tagsField {
  --input-bgcolor: var(--arrowpanel-background, Field);
  --input-color: var(--arrowpanel-color, FieldText);
}

/*== Sidebar - Field Color ===================================================*/
.sidebar-panel #search-box,
xul|search-textbox.tabsFilter {
  --input-bgcolor: color-mix(in srgb, currentColor 30%, transparent);

  appearance: none !important;
  padding: 5px 8px !important;
  border: 1px solid var(--input-bgcolor) !important;
  border-radius: 4px;

  background-color: var(--lwt-sidebar-background-color, Field) !important;
  color: var(--lwt-sidebar-text-color, FieldText) !important;
}
.sidebar-panel:not([lwt-sidebar]) #search-box {
  --input-bgcolor: ThreeDShadow;
}

.sidebar-panel #search-box[focused="true"],
xul|search-textbox.tabsFilter[focused="true"] {
  outline: 1px solid var(--input-bgcolor);
}
.sidebar-panel[lwt-sidebar] #search-box[focused="true"],
body[lwt-sidebar] xul|search-textbox.tabsFilter[focused="true"] {
  --input-bgcolor: var(
    --lwt-sidebar-highlight-background-color,
    Highlight
  ) !important;
}
.sidebar-panel:not([lwt-sidebar]) #search-box[focused="true"],
body:not([lwt-sidebar]) xul|search-textbox.tabsFilter[focused="true"] {
  border-color: -moz-accent-color !important; /* Hard Coded */
  outline-color: -moz-accent-color !important;
}

/*= PopupAutoComplete ========================================================*/
#PopupAutoComplete {
  --panel-bgcolor: var(
    --arrowpanel-background,
    var(--in-content-button-background)
  );

  /* overwrite */
  --panel-border-radius: 4px !important; /* Original: 0 */
  --panel-border-color: var(
    --arrowpanel-border-color,
    var(--menu-border-color)
  ) !important; /* Original: ThreeDShadow */

  appearance: none !important;
  background: transparent !important;
  border: none !important;
  clip-path: inset(0 round var(--panel-border-radius));
}

#PopupAutoComplete > richlistbox {
  border-radius: var(--panel-border-radius) !important;
  background-color: var(--panel-bgcolor) !important; /* Original: Field */
  color: var(
    --arrowpanel-color,
    var(--in-content-page-color)
  ) !important; /* Original: FiledText */
}
.autocomplete-richlistitem:hover {
  background-color: var(--arrowpanel-dimmed) !important;
}

#PopupAutoComplete
  > richlistbox
  > richlistitem[originaltype="generatedPassword"]
  > .two-line-wrapper
  > .ac-site-icon,
#PopupAutoComplete
  > richlistbox
  > richlistitem[originaltype="loginWithOrigin"]
  > .two-line-wrapper
  > .ac-site-icon,
#PopupAutoComplete
  > richlistbox
  > richlistitem[originaltype="login"]
  > .ac-site-icon {
  fill: GrayText !important;
}

#PopupAutoComplete > richlistbox > richlistitem[originaltype="loginsFooter"] {
  --panel-border-color: var(--panel-bgcolor);
  color: var(
    --arrowpanel-color,
    var(--in-content-page-color)
  ) !important; /* Original: FieldText */
  background-color: var(
    --arrowpanel-dimmed,
    hsla(0, 0%, 80%, 0.35)
  ) !important; /* Original: hsla(0,0%,80%,.35) */
  border-color: var(
    --panel-border-color
  ) !important; /* Original: rgba(38,38,38,.15) */
}

#PopupAutoComplete
  > richlistbox
  > richlistitem[originaltype="loginsFooter"]:hover,
#PopupAutoComplete
  > richlistbox
  > richlistitem[originaltype="loginsFooter"][selected] {
  background-color: var(
    --arrowpanel-dimmed-further,
    hsla(0, 0%, 80%, 0.5)
  ) !important; /* Original: hsla(0,0%,80%,.5), match arrowpanel-dimmed-further */
}

/* Fully Dark Mode ************************************************************/
/*= Remove White Flash =======================================================*/
#tabbrowser-tabbox,
#tabbrowser-tabpanels,
browser[type="content-primary"],
browser[type="content"] > html {
  background: var(--in-content-page-background) !important;
}

/*= Notification =============================================================*/
@-moz-document url("chrome://global/content/alerts/alert.xhtml")
{
  /* Color */
  :root {
    --menu-color: #15141a;
    --menu-background-color: #f9f9fb;
    --menu-border-color: #cfcfd8;
    --menuitem-hover-background-color: #e0e0e6;
  }
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root {
      --menu-border-color: rgba(107, 107, 107, 0.3);
      --menu-color: #fbfbfe;
      --menu-background-color: #2b2a33;
      --menuitem-hover-background-color: #52525e;
    }
    #alertSourceLabel {
      color: rgb(5, 209, 241) !important;
    }
  }

  /* line below removes background from the notification "window" on linux */
  #alertNotification {
    background: transparent !important;
  }

  #alertBox {
    color: var(--menu-color) !important;
    background-color: var(--menu-background-color) !important;
    border-color: var(--menu-border-color) !important;
    border-radius: 6px !important;
    -moz-window-shadow: cliprounded !important;
  }
  #alertSettings {
    fill: currentColor !important;
    color: inherit !important;
    border-radius: 0 !important;
    margin-inline: 0 !important;
    margin-bottom: -4px !important;
  }
  .close-icon,
  #alertSettings {
    background: transparent !important;
  }
  .close-icon:hover > .toolbarbutton-icon,
  #alertSettings:is(:hover, [open]) > .button-box > .box-inherit {
    background-color: var(
      --menuitem-hover-background-color,
      #e0e0e6
    ) !important;
  }

  /* Shape */
  .close-icon > .toolbarbutton-icon,
  #alertSettings > .button-box > .box-inherit {
    border-radius: 4px !important;
    padding: 2px !important;
    margin: 2px 2px -2px 0 !important;
  }
  #alertSettings > .button-box > .box-inherit {
    margin: -4px 4px 3px 0 !important;
  }
  #alertSettings > .button-box > .box-inherit > .button-icon {
    padding: 1px;
  }
}

/*= Proton Commons ===========================================================*/
@-moz-document url("chrome://global/content/commonDialog.xhtml"),
  url("chrome://pippki/content/editcacert.xhtml"),
  url("chrome://pippki/content/deletecert.xhtml"),
  url("chrome://pippki/content/exceptionDialog.xhtml"),
  url("chrome://mozapps/content/downloads/unknownContentType.xhtml"),
  url("chrome://global/content/appPicker.xhtml"),
  url("chrome://browser/content/pageinfo/pageInfo.xhtml")
{
  /*- Overwrite --------------------------------------------------------------*/
  @media (-moz-toolbar-prefers-color-scheme: dark),
    (prefers-color-scheme: dark) {
    :root {
      --in-content-page-background: #42414d;
    }
  }

  :root:not(:-moz-lwtheme),
  :root[lwt-default-theme-in-dark-mode] {
    --checkbox-unchecked-bgcolor: var(
      --in-content-button-background
    ) !important;
    --checkbox-unchecked-hover-bgcolor: var(
      --in-content-button-background-hover
    ) !important;
    --checkbox-unchecked-active-bgcolor: var(
      --in-content-button-background-active
    ) !important;
    --checkbox-checked-bgcolor: var(
      --in-content-primary-button-background
    ) !important;
    --checkbox-checked-color: var(
      --in-content-primary-button-text-color
    ) !important;
    --checkbox-checked-hover-bgcolor: var(
      --in-content-primary-button-background-hover
    ) !important;
    --checkbox-checked-active-bgcolor: var(
      --in-content-primary-button-background-active
    ) !important;
  }

  /*- Dialog -----------------------------------------------------------------*/
  #commonDialog,
    #editCaCert,
    #deleteCertificate,
    #exceptiondialog,
    #unknownContentType,
    #app-picker,
    #topBar, /* #topBar, #mainDeck: Page Info */
    #mainDeck {
    -moz-appearance: none !important; /* For Mac */
    color: var(--in-content-page-color) !important;
    background-color: var(--in-content-page-background) !important;
    /* border-radius: 0 0 8px 8px !important; */
  }

  /*- Button -----------------------------------------------------------------*/
  button {
    -moz-appearance: none !important;
    color: var(--in-content-button-text-color) !important;
    background-color: var(--in-content-button-background) !important;
    font: inherit;
    font-size: 1em !important;
    font-weight: 600 !important;
    min-height: 32px !important;
    border: 1px solid transparent !important; /* shows up in high-contrast mode */
    border-radius: var(--in-content-button-border-radius) !important;
    padding: var(--in-content-button-vertical-padding)
      var(--in-content-button-horizontal-padding) !important;

    min-height: 32px !important;
    /* Use the same margin of other elements for the alignment */
    margin-inline: 4px !important;
    min-width: 6.3em !important;
  }

  /* Medium and small buttons get sized to 7/14 and 6/12px padding (when adding
     * the 1px border): */
  button.medium {
    padding: 6px 13px !important;
    min-height: 28px !important;
    font-size: 0.95em !important;
  }
  button.small {
    padding: 5px 11px !important;
    min-height: 24px !important;
    font-size: 0.9em !important;
  }

  /* Remove margin added by button.css */
  xul|button > .button-box > .button-text {
    margin: 0 !important;
  }

  button:-moz-focusring,
    xul|menulist:-moz-focusring,
    xul|checkbox:-moz-focusring > .checkbox-check, /* :not([native]) to win specificity over checkbox.css */
    xul|radio[focused="true"]:-moz-focusring {
    box-shadow: none !important;
    outline: 2px solid var(--in-content-focus-outline-color) !important;
    outline-offset: 2px !important;
  }
  button:not([disabled="true"]):hover {
    background-color: var(--in-content-button-background-hover) !important;
    color: var(--in-content-button-text-color-hover) !important;
    border-color: transparent !important;
  }

  xul|button:not([disabled="true"]):hover:active,
  xul|button[open],
  xul|button[open]:hover,
  xul|menulist[open="true"]:not([disabled="true"]) {
    background-color: var(--in-content-button-background-active) !important;
  }

  xul|button[default] {
    background-color: var(--in-content-primary-button-background) !important;
    color: var(--in-content-primary-button-text-color) !important;
  }
  xul|button[default]:not([disabled="true"]):hover {
    background-color: var(
      --in-content-primary-button-background-hover
    ) !important;
    color: var(--in-content-primary-button-text-color) !important;
  }
  xul|button[default]:not([disabled="true"]):hover:active {
    background-color: var(
      --in-content-primary-button-background-active
    ) !important;
  }

  xul|button[disabled="true"],
  xul|menulist[disabled="true"] {
    opacity: 0.4 !important;
  }
  xul|button:not([disabled="true"]):hover,
  xul|menulist:not([disabled="true"]):hover {
    background-color: var(--in-content-button-background-hover) !important;
    color: var(--in-content-button-text-color-hover) !important;
    border-color: transparent !important;
  }

  @media (prefers-contrast) {
    xul|button[default]:not([disabled="true"]):hover {
      border-color: currentColor !important;
    }

    button:focus {
      color: var(--in-content-button-text-color) !important;
    }

    xul|button[default]:focus,
    button.primary:focus {
      color: var(--in-content-primary-button-text-color) !important;
    }
  }

  /*- Radio Button -----------------------------------------------------------*/
  xul|radio {
    /* margin-inline-start: 0 !important; */
    appearance: none !important;
  }

  xul|*.radio-check {
    appearance: none !important;
    width: 16px !important;
    height: 16px !important;
    padding: 0 !important;
    border: 1px solid var(--in-content-box-border-color) !important;
    border-radius: 100% !important;
    margin-block: 2px !important; /* extend the vertical clicktarget */
    margin-inline: 0 6px !important;
    background-color: var(--in-content-button-background) !important;
    background-position: center !important;
    flex-shrink: 0 !important; /* avoid shrinking inside flex container */
  }

  xul|radio:not([disabled="true"]):hover > xul|*.radio-check {
    background-color: var(--in-content-button-background-hover) !important;
    color: var(--in-content-button-text-color-hover) !important;
  }

  xul|radio:not([disabled="true"]):hover:active > xul|*.radio-check {
    background-color: var(--in-content-button-background-active) !important;
  }

  xul|*.radio-check[selected] {
    -moz-context-properties: fill !important;
    fill: currentColor !important;
    color: var(--in-content-primary-button-text-color) !important;
    background-color: var(--in-content-primary-button-background) !important;
    background-image: url("chrome://global/skin/icons/radio.svg") !important;
    border-color: transparent !important;

    /* Style the button also when printing with "Print Backgrounds" unchecked */
    color-adjust: exact !important;
  }

  xul|radio:not([disabled="true"])[selected]:hover > xul|*.radio-check {
    background-color: var(
      --in-content-primary-button-background-hover
    ) !important;
    color: var(--in-content-primary-button-text-color-hover) !important;
  }

  xul|radio:not([disabled="true"])[selected]:hover:active > xul|*.radio-check {
    background-color: var(
      --in-content-primary-button-background-active
    ) !important;
  }

  xul|*.radio-label-box {
    margin-inline: 0 8px !important;
    padding-inline-start: 0 !important;
  }

  /* Disabled checkboxes, radios and labels */
  xul|checkbox[disabled="true"],
  xul|radio[disabled="true"],
  xul|label[disabled="true"] {
    color: inherit !important;
  }

  xul|checkbox[disabled="true"],
  xul|radio[disabled="true"],
  xul|label[disabled="true"] {
    opacity: 0.5 !important;
  }

  /*- Check Box --------------------------------------------------------------*/
  /* From checkbox.css */
  checkbox {
    appearance: none !important;
    -moz-box-align: center !important;
    margin: 4px 2px !important;
  }

  .checkbox-icon[src] {
    margin-inline-end: 2px !important;
  }
  .checkbox-label {
    margin: 1px 0 !important;
  }

  checkbox[disabled="true"] {
    opacity: 0.4 !important;
  }

  .checkbox-check {
    appearance: none !important;
    color: var(--checkbox-border-color, ThreeDDarkShadow) !important;
    background-color: var(--checkbox-unchecked-bgcolor, Field) !important;
    border: 1px solid currentColor !important;
    border-radius: 2px !important;
    margin-inline-end: 6px !important;
  }

  .checkbox-check {
    height: 16px !important;
    width: 16px !important;
  }

  checkbox:not([disabled="true"]):hover > .checkbox-check {
    background-color: var(
      --checkbox-unchecked-hover-bgcolor,
      color-mix(in srgb, -moz-accent-color 4%, Field)
    ) !important;
  }

  checkbox:not([disabled="true"]):hover:active > .checkbox-check {
    background-color: var(
      --checkbox-unchecked-active-bgcolor,
      color-mix(in srgb, -moz-accent-color 8%, Field)
    ) !important;
  }

  .checkbox-check[checked] {
    border-color: var(--checkbox-checked-border-color, transparent) !important;
    background-color: var(
      --checkbox-checked-bgcolor,
      -moz-accent-color
    ) !important;
    background-image: url("chrome://global/skin/icons/check.svg") !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    -moz-context-properties: fill !important;
    fill: currentColor !important;
    color: var(
      --checkbox-checked-color,
      -moz-accent-color-foreground
    ) !important;
    /* Style the button also when printing with "Print Backgrounds" unchecked */
    color-adjust: exact !important;
  }

  checkbox:not([disabled="true"]):hover > .checkbox-check[checked] {
    background-color: var(
      --checkbox-checked-hover-bgcolor,
      color-mix(in srgb, currentColor 12.5%, -moz-accent-color)
    ) !important;
  }

  checkbox:not([disabled="true"]):hover:active > .checkbox-check[checked] {
    background-color: var(
      --checkbox-checked-active-bgcolor,
      color-mix(in srgb, currentColor 25%, -moz-accent-color)
    ) !important;
  }

  checkbox:-moz-focusring > .checkbox-check {
    outline: 2px solid var(--focus-outline-color, -moz-accent-color) !important;
    outline-offset: var(--focus-outline-offset, 2px) !important;
  }

  @media (prefers-contrast) {
    checkbox:not([disabled="true"]):hover > .checkbox-check {
      /* color will set the border-color on the check due to how HCM works for in-content pages. */
      color: var(
        --checkbox-checked-border-color,
        color-mix(in srgb, -moz-accent-color 4%, Field)
      ) !important;
    }

    .checkbox-check[checked] {
      color: var(--checkbox-checked-border-color, currentColor) !important;
      fill: var(
        --checkbox-checked-color,
        -moz-accent-color-foreground
      ) !important;
    }

    checkbox:not([disabled="true"]):hover:active > .checkbox-check[checked],
    checkbox:not([disabled="true"]):hover > .checkbox-check[checked] {
      color: var(
        --checkbox-checked-border-color-hover,
        -moz-accent-color-foreground
      ) !important;
      fill: var(
        --checkbox-checked-border-color-hover,
        -moz-accent-color-foreground
      ) !important;
    }
  }

  /* From common.css */
  xul|*.checkbox-check {
    margin-block: 2px !important;
  }
  xul|richlistitem > xul|*.checkbox-check {
    margin: 3px 6px !important;
  }

  /*- Menulist ---------------------------------------------------------------*/
  /* From mulist.css */
  xul|menulist {
    appearance: none !important;
    background-color: var(
      --in-content-button-background,
      ButtonFace
    ) !important;
    color: var(--in-content-button-text-color, ButtonText) !important;
    border-radius: 4px !important;
    padding-block: 4px !important;
    padding-inline: 12px 8px !important;
    margin: 5px 2px 3px !important;
  }

  xul|menulist[size="medium"] {
    padding-block: 6px !important;
    padding-inline: 16px 10px !important;
  }

  xul|menulist[size="large"] {
    padding-block: 8px !important;
    padding-inline: 16px 12px !important;
  }

  xul|menulist:hover {
    background-color: var(
      --button-hover-bgcolor,
      color-mix(in srgb, currentColor 10%, ButtonFace)
    ) !important;
  }

  xul|menulist:hover:active {
    background-color: var(
      --button-active-bgcolor,
      color-mix(in srgb, currentColor 20%, ButtonFace)
    ) !important;
  }

  xul|menulist:-moz-focusring {
    outline: 2px solid var(--focus-outline-color, -moz-accent-color) !important;
    outline-offset: var(--focus-outline-offset, 2px) !important;
  }

  #label-box {
    -moz-box-align: center !important;
    -moz-box-pack: center !important;
    font-weight: 600 !important;
  }

  dropmarker {
    display: -moz-box !important;
    appearance: none !important;
    width: 12px !important;
    height: 12px !important;
  }

  /* dropmarker::part(icon)
   * ::part is not apply chrome
   */
  dropmarker[exportparts="icon: dropmarker-icon"] {
    list-style-image: url("chrome://global/skin/icons/arrow-down.svg") !important;
    -moz-context-properties: fill !important;
    fill: currentColor !important;
  }

  #highlightable-label:not([highlightable="true"]),
  #label[highlightable="true"] {
    display: none !important;
  }

  xul|menuitem > label:not(.menu-text) {
    margin: 0 3px !important;
  }

  /* From common.css */
  xul|menulist > xul|menupopup {
    appearance: none !important;

    /* Reset native styles on Windows and macOS */
    border: none !important;
    background-color: transparent !important;

    --panel-border-color: var(--in-content-box-border-color) !important;
    --panel-border-radius: 2px !important;
    --panel-background: var(--in-content-box-background) !important;
    --panel-color: var(--in-content-text-color) !important;
    --panel-padding: 0 !important;
  }

  xul|menulist > xul|menupopup xul|menu,
  xul|menulist > xul|menupopup xul|menuitem {
    appearance: none !important;
    font-size: 1em !important;
    padding-block: 0.2em !important;
    padding-inline: 10px 30px !important;
  }

  xul|menulist
    > xul|menupopup
    > xul|menu:not([disabled="true"])[_moz-menuactive="true"],
  xul|menulist
    > xul|menupopup
    > xul|menuitem:not([disabled="true"])[_moz-menuactive="true"] {
    color: var(--in-content-item-hover-text) !important;
    background-color: var(--in-content-item-hover) !important;
  }

  xul|menulist
    > xul|menupopup
    > xul|menu:not([disabled="true"])[selected="true"],
  xul|menulist
    > xul|menupopup
    > xul|menuitem:not([disabled="true"])[selected="true"] {
    color: var(--in-content-item-selected-text) !important;
    background-color: var(--in-content-item-selected) !important;
  }

  xul|menulist > xul|menupopup > xul|menu[disabled="true"],
  xul|menulist > xul|menupopup > xul|menuitem[disabled="true"] {
    color: #999 !important;
    /* override the [_moz-menuactive="true"] background color from
         global/menu.css */
    background-color: transparent !important;
  }

  xul|menulist > xul|menupopup xul|menuseparator {
    appearance: none !important;
    margin: 0 !important;
    padding: 0 !important;
    border-top: 1px solid var(--in-content-box-border-color) !important;
    border-bottom: none !important;
  }

  xul|menulist::part(dropmarker) {
    margin-block: 1px !important;
  }

  /* Override menulist.css */
  xul|menulist[disabled="true"] {
    background-color: var(--in-content-button-background) !important;
  }

  xul|menulist:-moz-focusring > xul|*.menulist-label-box {
    outline: none !important;
  }

  /*- List Boxes -------------------------------------------------------------*/
  html|select[size][multiple],
  xul|listheader,
  xul|richlistbox {
    appearance: none !important;
    margin-inline: 0 !important;
    background-color: var(--in-content-box-background) !important;
    border: 1px solid var(--in-content-box-border-color) !important;
    border-radius: 4px !important;
    color: var(--in-content-text-color) !important;
  }

  xul|listheader {
    border-bottom: none !important;
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
    padding-bottom: 1px !important;
    box-shadow: inset 0 -1px var(--in-content-table-border-color) !important;
    overflow: clip !important; /* Clip border-radius */
  }

  xul|listheader + xul|richlistbox {
    margin-top: 0 !important;
    border-top: none !important;
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
  }

  html|select[size][multiple] > html|option,
  xul|treechildren::-moz-tree-row {
    padding: 0.3em inherit !important;
    margin: 0 !important;
    border: none !important;
    border-radius: 0 !important;
    background-image: none !important;
  }

  xul|treechildren::-moz-tree-row(multicol, odd) {
    background-color: var(--in-content-box-background-odd);
  }

  html|select[size][multiple] > html|option:hover,
  xul|richlistbox > xul|richlistitem:not([disabled="true"], [selected]):hover,
  xul|treechildren::-moz-tree-row(hover) {
    background-color: var(--in-content-item-hover) !important;
    color: var(--in-content-item-hover-text) !important;
  }

  xul|richlistbox > xul|richlistitem[selected],
  xul|treechildren::-moz-tree-row(selected) {
    background-color: var(--in-content-item-selected) !important;
    color: var(--in-content-item-selected-text) !important;
  }

  xul|richlistbox:not(#categories) > xul|richlistitem[selected] {
    /* Ensure buttons/menulists inside richlistitems (containers, applications) look OK */
    --in-content-button-background: color-mix(
      in srgb,
      currentColor 15%,
      transparent
    ) !important;
    --in-content-button-background-hover: color-mix(
      in srgb,
      currentColor 30%,
      transparent
    ) !important;
    --in-content-button-background-active: color-mix(
      in srgb,
      currentColor 45%,
      transparent
    ) !important;
    --in-content-button-text-color: var(
      --in-content-item-selected-text
    ) !important;
    --in-content-button-text-color-hover: var(
      --in-content-item-selected-text
    ) !important;
    --in-content-focus-outline-color: var(
      --in-content-item-selected-text
    ) !important;
  }

  xul|richlistitem[selected] xul|menulist:focus-visible {
    outline-offset: -2px !important;
  }

  /* Use a 2px border so that selected row highlight is still visible behind
        an existing high-contrast border that uses the background color */
  @media (prefers-contrast) {
    xul|treechildren::-moz-tree-row(selected) {
      border: 2px solid currentColor !important;
      border-radius: 4px !important;
    }
  }

  xul|panel[type="autocomplete-richlistbox"] {
    background-color: var(--in-content-box-background) !important;
    border: 1px solid var(--in-content-box-border-color) !important;
    color: var(--in-content-text-color) !important;
  }

  /*- Each OS ----------------------------------------------------------------*/
  @media (-moz-os-version: windows-win7),
    (-moz-os-version: windows-win8),
    (-moz-os-version: windows-win10),
    /* Legacy - v99 */ (-moz-platform: windows-win7),
    (-moz-platform: windows-win8),
    (-moz-platform: windows-win10) {
    xul|checkbox,
    xul|radio {
      padding-inline-start: 0 !important;
    }

    /* Override menulist.css */
    xul|menulist[disabled="true"] {
      background-color: var(--in-content-button-background) !important;
    }

    xul|menulist:-moz-focusring > xul|*.menulist-label-box {
      outline: none !important;
    }
  }

  @media (-moz-gtk-csd-available) {
    /* Overriding appearance also avoids incorrect selection background color with light text. */
    xul|button > xul|*.button-box,
    xul|menulist::part(label-box),
    xul|*.radio-label-box,
    xul|*.checkbox-label-box {
      appearance: none !important;
    }

    xul|button[type="menu"] > xul|*.button-box > xul|*.button-menu-dropmarker {
      appearance: none !important;
    }
    xul|menulist {
      font-size: inherit !important;
    }
    xul|menulist::part(dropmarker) {
      display: -moz-box;
      margin-block: 6px !important;
    }
    xul|menulist:-moz-focusring::part(label-box) {
      outline: none !important;
    }
  }

  @supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
    xul|menulist > xul|menupopup > xul|menuitem[checked="true"]::before,
    xul|menulist > xul|menupopup > xul|menuitem[selected="true"]::before {
      display: none !important;
    }

    xul|menulist::part(dropmarker) {
      display: -moz-box !important;
      margin-block: 1px !important;
    }

    xul|menulist > xul|menupopup xul|menu,
    xul|menulist > xul|menupopup xul|menuitem {
      padding-inline-end: 34px !important;
    }

    xul|*.checkbox-icon,
    xul|*.radio-icon {
      margin-inline-end: 0 !important;
    }

    xul|*.text-link:-moz-focusring {
      box-shadow: none !important;
    }
  }
}

/*= Delete Cert ==============================================================*/
@-moz-document url("chrome://pippki/content/deletecert.xhtml")
{
  #certlist {
    border: 1px solid var(--in-content-table-border-color) !important;
    border-radius: 4px !important;
  }
}

/*= Cert Exeption Dialog =====================================================*/
@-moz-document url("chrome://pippki/content/exceptionDialog.xhtml")
{
  #locationTextBox {
    appearance: none !important;
    border: 1px solid var(--in-content-box-border-color) !important;
    border-radius: 4px !important;
    color: inherit !important;
    background-color: var(--in-content-box-background) !important;

    font-family: inherit !important;
    font-size: inherit !important;
    padding: 8px !important;
    margin: 2px 4px !important;
  }
  #locationTextBox:focus {
    border-color: transparent !important;
    outline: 2px solid var(--in-content-focus-outline-color) !important;
    outline-offset: -1px !important; /* Prevents antialising around the corners */
  }
  #locationTextBox:-moz-ui-invalid {
    border-color: transparent !important;
    outline: 2px solid var(--in-content-border-invalid) !important;
    outline-offset: -1px !important; /* Prevents antialising around the corners */
  }
  #locationTextBox:disabled {
    opacity: 0.4 !important;
  }

  #exceptiondialog:first-child > hbox > vbox:not([flex="1"]) {
    width: 48px !important;
    height: 48px !important;
    background-image: url("chrome://global/skin/icons/warning.svg") !important;
    background-size: 48px !important;
    background-repeat: no-repeat !important;

    -moz-context-properties: fill !important;
    fill: currentColor !important;
  }
  #exceptiondialog:first-child > hbox > vbox > image {
    display: none !important;
  }
}

/*= Page Info ================================================================*/
@-moz-document url("chrome://browser/content/pageinfo/pageInfo.xhtml")
{
  :root {
    --in-content-border-color: color-mix(
      in srgb,
      currentColor 41%,
      transparent
    ) !important;
  }

  #viewGroup > radio {
    border-radius: 8px !important;
    padding: var(--in-content-button-vertical-padding)
      var(--in-content-button-horizontal-padding) !important;
    margin: 4px !important;
  }
  #viewGroup > radio:hover {
    background-color: var(
      --in-content-button-background-hover
    ) !important; /* #E0E8F6; */
  }
  #viewGroup > radio[selected="true"] {
    color: var(
      --in-content-button-text-color
    ) !important; /* SelectedItemText */
    background-color: var(
      --in-content-button-background-active
    ) !important; /* #C1D2EE; */
  }
  #viewGroup > radio {
    color: var(--in-content-deemphasized-text) !important; /* FieldText */
  }

  #viewGroup > radio {
    list-style-image: none !important;
    background-image: var(--viewgroup-image) !important;
    background-repeat: no-repeat;
    background-position: top var(--in-content-button-vertical-padding) center;
    background-size: 32px !important;

    -moz-context-properties: fill !important;
    fill: currentColor !important;
  }
  #generalTab {
    --viewgroup-image: url(chrome://global/skin/icons/page-portrait.svg);
  }
  #mediaTab {
    --viewgroup-image: url(chrome://browser/skin/canvas.svg);
  }
  #permTab {
    --viewgroup-image: url(chrome://browser/skin/permissions.svg);
  }
  #securityTab {
    --viewgroup-image: url(chrome://global/skin/icons/security.svg);
  }

  #viewGroup > radio > .radio-label-box {
    /* Overwrite */
    margin: 0 !important;
    padding: 0 6 !important;
  }
  @supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
    #viewGroup > radio > .radio-label-box {
      padding-top: 32px !important; /* as -moz-image-region: rect(0px, 32px, 32px, 0px); */
    }
  }

  #mainDeck input {
    color: var(--in-content-page-color) !important;
  }

  #permList {
    -moz-appearance: none !important;
    color: var(--in-content-page-color) !important;
    background-color: var(--in-content-box-background) !important;
  }
  .permission:hover {
    color: var(--in-content-text-color) !important;
    background-color: var(--in-content-button-background-hover) !important;
  }
  .permission radio[disabled] {
    color: var(--in-content-deemphasized-text) !important;
  }

  treecols {
    -moz-appearance: none !important;
    background: var(--in-content-table-header-background) !important;
    color: var(--in-content-table-header-color) !important;
  }
  treecols > treecol,
  treecols > treecolpicker.treecol-image {
    -moz-appearance: none !important;
    color: var(--in-content-table-header-color) !important;
    background: var(--in-content-table-header-background) !important;
    border: 1px solid var(--in-content-table-border-color) !important;
    padding: 4px !important;
    border-spacing: 0;

    text-align: center !important;
  }

  tree,
  treechildren::-moz-tree-row {
    -moz-appearance: none !important;
    color: var(--in-content-text-color) !important;
    background-color: var(--in-content-table-background) !important;
    border: 1px solid var(--in-content-table-border-color) !important;
  }

  treechildren::-moz-tree-row(odd) {
    background-color: var(--in-content-box-background-odd) !important;
  }

  treechildren::-moz-tree-row(hover) {
    color: var(--in-content-item-hover-text) !important;
    background-color: var(--in-content-item-hover) !important;
  }
  treechildren::-moz-tree-row(selected) {
    background-color: var(--in-content-item-selected) !important;
  }

  treechildren::-moz-tree-cell {
    border-inline: 1px solid var(--in-content-table-border-color) !important;
    border-spacing: 0 !important;
    padding: 4px !important;
    margin: 0 !important;
  }
  treechildren::-moz-tree-cell-text(hover) {
    color: var(--in-content-item-hover-text) !important;
  }
  treechildren::-moz-tree-cell-text(selected) {
    font-weight: 600 !important;
    color: var(--in-content-item-selected-text) !important;
  }

  #imagecontainerbox {
    background-color: var(--in-content-box-background) !important;
  }

  #metatree,
  #imagetree,
  #imagecontainerbox,
  #permList {
    border-radius: 4px !important;
  }
  #metatree,
  #imagetree {
    overflow: hidden !important;
  }

  #topBar,
  #imagecontainerbox,
  #permList {
    border-color: var(--in-content-table-border-color) !important;
  }
}

/*= Library Popup ============================================================*/
@-moz-document url("chrome://browser/content/places/places.xhtml")
{
  @media (-moz-gtk-csd-available) {
    :root {
      --organizer-color: -moz-DialogText;
      --organizer-deemphasized-color: GrayText;

      --organizer-toolbar-background: -moz-Dialog;
      --organizer-pane-background: -moz-Dialog;
      --organizer-content-background: -moz-Dialog;

      --organizer-hover-background: SelectedItem;
      --organizer-hover-color: SelectedItemText;
      --organizer-selected-background: SelectedItem;
      --organizer-selected-color: SelectedItemText;
      --organizer-outline-color: SelectedItem;

      --organizer-separator-color: ThreeDDarkShadow;
      --organizer-border-color: ThreeDShadow;

      --organizer-toolbar-field-background: Field;
      --organizer-toolbar-field-background-focused: Field;
      --organizer-toolbar-field-border-color: ThreeDShadow;
      --organizer-toolbar-field-focus-border-color: var(
        --organizer-outline-color
      );
      --organizer-toolbar-field-focus-box-shadow: unset;
      --organizer-pane-field-border-color: ThreeDShadow;
    }

    @media not all and (prefers-contrast) {
      :root {
        --organizer-color: var(--in-content-page-color);
        --organizer-deemphasized-color: var(--in-content-deemphasized-text);

        --organizer-toolbar-background: rgb(
          249,
          249,
          251
        ); /* --toolbar-bgcolor */
        --organizer-pane-background: rgb(
          229,
          229,
          235
        ); /* --lwt-accent-color */
        --organizer-content-background: var(--in-content-page-background);

        --organizer-hover-background: var(--in-content-button-background-hover);
        --organizer-hover-color: var(--organizer-color);
        --organizer-selected-background: var(
          --in-content-button-background-active
        );
        --organizer-selected-color: var(--organizer-color);
        --organizer-outline-color: var(--in-content-primary-button-background);

        --organizer-separator-color: var(--organizer-pane-field-border-color);
        --organizer-border-color: var(--in-content-border-color);

        --organizer-toolbar-field-background: rgb(
          240,
          240,
          244
        ); /* --lwt-accent-color */
        --organizer-toolbar-field-background-focused: Field;
        --organizer-toolbar-field-border-color: transparent;
        --organizer-toolbar-field-focus-border-color: color-mix(
          in srgb,
          var(--organizer-outline-color) 50%,
          transparent
        );
        --organizer-toolbar-field-focus-box-shadow: 0 1px 3px
          rgba(0, 0, 0, 0.23);
        --organizer-pane-field-border-color: color-mix(
          in srgb,
          currentColor 41%,
          transparent
        );
      }

      @media (-moz-toolbar-prefers-color-scheme: dark),
        (prefers-color-scheme: dark) {
        :root {
          --organizer-color: rgb(251, 251, 254);
          --organizer-deemphasized-color: rgb(191, 191, 201);

          --organizer-toolbar-background: rgb(43, 42, 51);
          --organizer-pane-background: rgb(35, 34, 43);
          --organizer-content-background: rgb(28, 27, 34);

          --organizer-hover-background: rgb(82, 82, 94);
          --organizer-selected-background: rgb(91, 91, 102);
          --organizer-outline-color: rgb(0, 221, 255);

          --organizer-toolbar-field-background: var(
            --in-content-page-background
          );
          --organizer-toolbar-field-background-focused: rgb(66, 65, 77);
          scrollbar-color: rgba(249, 249, 250, 0.4) rgba(20, 20, 25, 0.3);
        }
      }
    }

    /*- Toolbar & Menus ----------------------------------------------------*/
    #placesToolbar {
      appearance: none !important;
      background-color: var(--organizer-toolbar-background) !important;
      color: var(--organizer-color) !important;
      border-bottom: 1px solid var(--organizer-border-color) !important;
      padding: 4px !important;
      padding-inline-end: 6px !important;
    }

    #placesToolbar > toolbarbutton {
      appearance: none !important;
      padding: 5px !important;
      border-radius: 4px !important;
    }

    #placesToolbar > toolbarbutton[disabled] {
      opacity: 0.6 !important;
    }

    #placesToolbar > toolbarbutton:not([disabled]):hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-hover-color) !important;
    }

    #placesToolbar > toolbarbutton:not([disabled]):hover:active {
      background-color: var(--organizer-selected-background) !important;
    }

    #placesToolbar > toolbarbutton > .toolbarbutton-icon,
    #placesMenu > menu > image,
    #placesMenu > menu > .menubar-text {
      -moz-context-properties: fill !important;
      fill: currentColor !important;
    }

    #placesMenu {
      margin-inline-start: 6px !important;
    }

    #placesMenu > menu {
      appearance: none !important;
      color: var(--organizer-color) !important;
      border-radius: 4px !important;
      padding-block: 5px !important;
      padding-inline-start: 5px !important;
      margin-inline-end: 2px !important;
    }

    #placesMenu > menu[_moz-menuactive="true"],
    #placesMenu > menu:hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-hover-color) !important;
    }

    #placesMenu > menu:hover:active,
    #placesMenu > menu[open] {
      background-color: var(--organizer-selected-background) !important;
      color: var(--organizer-selected-color) !important;
    }

    #placesMenu > menu > .menubar-text {
      margin-block: 0 !important; /* override menu.css */
      padding-inline-end: 4px !important;
    }

    /*- Search Bar & Input ---------------------------------------------------*/
    #searchFilter,
    #detailsPane html|input {
      appearance: none !important;
      background-color: var(--organizer-toolbar-field-background) !important;
      color: var(--organizer-color) !important;
      border: 1px solid var(--organizer-toolbar-field-border-color) !important;
      border-radius: 4px !important;
      margin: 0 !important;
      padding-block: 2px !important;
      min-height: 24px !important;
    }

    #searchFilter[focused] {
      box-shadow: var(--organizer-toolbar-field-focus-box-shadow) !important;
      background-color: var(
        --organizer-toolbar-field-background-focused
      ) !important;
      border-color: transparent !important;
      outline: 2px solid var(--organizer-toolbar-field-focus-border-color) !important;
      outline-offset: -2px !important;
    }

    /*- Sidebar & Splitter ---------------------------------------------------*/
    #placesList {
      background-color: var(--organizer-pane-background) !important;
    }

    #placesView > splitter {
      border: 0 !important;
      border-inline-end: 1px solid var(--organizer-border-color) !important;
      min-width: 0 !important;
      width: 3px !important;
      background-color: transparent !important;
      margin-inline-start: -3px !important;
      position: relative !important;
    }

    /*- Downloads Pane -------------------------------------------------------*/
    #downloadsRichListBox {
      color: var(--organizer-color) !important;
      background-color: var(--organizer-content-background) !important;
    }

    #clearDownloadsButton:focus-visible {
      outline: 2px solid var(--organizer-outline-color) !important;
    }

    richlistitem[selected="true"],
    richlistitem:hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-color) !important;
    }

    richlistbox:where(:focus) > richlistitem[selected="true"] {
      background-color: var(--organizer-selected-background) !important;
    }

    /*- Tree -----------------------------------------------------------------*/
    #contentView treecol {
      /* Use box-shadow to draw a bottom border instead of border-bottom
         * because otherwise the items on contentView won't be perfectly
         * aligned with the items on the sidebar. */
      box-shadow: inset 0 -1px var(--organizer-border-color) !important;
    }

    tree {
      background-color: var(--organizer-content-background) !important;
      color: var(--organizer-color) !important;
    }

    treecol:not([hideheader="true"]),
    treecolpicker {
      appearance: none !important;
      border: none !important;
      background-color: var(--in-content-button-background) !important;
      color: var(--organizer-color, inherit) !important;
      padding: 5px 10px !important;
    }

    treecol:not([hideheader="true"], [sortable="false"]):hover,
    treecolpicker:hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-color) !important;
    }

    treecol:not([hideheader="true"], [sortable="false"]):hover:active,
    treecolpicker:hover:active {
      background-color: var(--organizer-selected-background) !important;
    }

    treecol:not([hideheader="true"], :first-child),
    treecolpicker {
      padding-left: 10px !important;
      border-inline-start-width: 1px !important;
      border-inline-start-style: solid !important;
      border-image: linear-gradient(
          transparent 0%,
          transparent 20%,
          var(--organizer-border-color) 20%,
          var(--organizer-border-color) 80%,
          transparent 80%,
          transparent 100%
        )
        1 1 !important;
    }

    treecol[sortDirection]:not([hideheader="true"])
      > xul|*.treecol-sortdirection {
      fill: currentColor !important;
      width: 18px !important;
      height: 18px !important;
    }

    treechildren::-moz-tree-row {
      background-color: transparent !important;
    }

    treechildren::-moz-tree-row(hover) {
      background-color: var(--organizer-hover-background) !important;
    }

    treechildren::-moz-tree-row(selected) {
      background-color: var(--organizer-selected-background) !important;
      color: var(--organizer-selected-color) !important;
      border: 1px solid transparent !important;
    }

    treechildren::-moz-tree-image(hover),
    treechildren::-moz-tree-twisty(hover),
    treechildren::-moz-tree-cell-text(hover) {
      color: var(--organizer-hover-color) !important;
    }

    treechildren::-moz-tree-image(selected),
    treechildren::-moz-tree-twisty(selected),
    treechildren::-moz-tree-cell-text(selected) {
      color: var(--organizer-selected-color) !important;
    }

    treechildren::-moz-tree-separator {
      height: 1px !important;
      border-color: var(--organizer-separator-color) !important;
    }

    treechildren::-moz-tree-separator(hover) {
      border-color: var(--organizer-hover-color) !important;
    }

    treechildren::-moz-tree-separator(selected) {
      border-color: var(--organizer-selected-color) !important;
    }

    /*- Info Box -------------------------------------------------------------*/
    #detailsPane {
      background-color: var(--organizer-pane-background) !important;
      color: var(--organizer-color) !important;
      padding: 5px !important;
      border-top: 1px solid var(--organizer-border-color) !important;
    }

    #editBookmarkPanelRows .expander-up,
    #editBookmarkPanelRows .expander-down {
      appearance: none !important;
      min-width: 0 !important;
      padding: 5px !important;
      margin: 0 !important;
      margin-inline-end: 4px !important;
      border: 1px solid var(--organizer-pane-field-border-color) !important;
      border-radius: 4px !important;
      color: var(--organizer-color) !important;
      background-color: var(--organizer-content-background) !important;
      list-style-image: url("chrome://global/skin/icons/arrow-down-12.svg");
      -moz-context-properties: fill !important;
      fill: currentColor !important;
    }

    #editBookmarkPanelRows .expander-up:hover,
    #editBookmarkPanelRows .expander-down:hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-hover-color) !important;
    }

    #editBookmarkPanelRows .expander-up:hover:active,
    #editBookmarkPanelRows .expander-down:hover:active {
      background-color: var(--organizer-selected-background) !important;
      color: var(--organizer-selected-color) !important;
    }

    #editBookmarkPanelRows .expander-up:focus-visible,
    #editBookmarkPanelRows .expander-down:focus-visible {
      outline: 2px solid var(--organizer-outline-color) !important;
      outline-offset: -1px !important;
    }

    #editBookmarkPanelRows .expander-up {
      list-style-image: url("chrome://global/skin/icons/arrow-up-12.svg");
    }

    #editBookmarkPanelRows .expander-up > .button-box,
    #editBookmarkPanelRows .expander-down > .button-box {
      padding: 0 !important;
    }

    #places input {
      border: 1px solid var(--organizer-pane-field-border-color) !important;
      border-radius: 4px !important;
      background-color: var(--organizer-content-background) !important;
      color: var(--organizer-color) !important;
      min-height: 20px !important;
      padding-inline: 4px !important;
    }

    #places input:focus {
      outline: 2px solid var(--organizer-outline-color) !important;
      outline-offset: -1px !important;
    }

    #places input:not(:read-write):focus {
      outline: none !important;
    }

    .caption-label {
      margin-inline-start: 8px !important;
      color: var(--organizer-deemphasized-color) !important;
    }

    #editBMPanel_tagsSelectorRow > richlistbox {
      appearance: none !important;
      color: var(--organizer-color) !important;
      background-color: var(--organizer-content-background) !important;
      border: 1px solid var(--organizer-border-color) !important;
      border-radius: 4px !important;
    }

    #editBMPanel_tagsSelectorRow > richlistbox > richlistitem {
      border: 1px solid transparent !important;
    }

    #editBMPanel_tagsSelectorRow > richlistbox > richlistitem:hover {
      background-color: var(--organizer-hover-background) !important;
      color: var(--organizer-hover-color) !important;
    }

    #editBMPanel_tagsSelectorRow > richlistbox > richlistitem[selected] {
      background-color: var(--organizer-selected-background) !important;
      color: var(--organizer-selected-color) !important;
    }
  }
}

/** Decoration ****************************************************************/
@media (prefers-reduced-motion: no-preference) {
  /*= URL, Search Bar ========================================================*/
  #urlbar:hover:not([focused="true"]) > #urlbar-background,
  #searchbar:hover:not(:focus-within) {
    --toolbar-field-border-color: var(--toolbar-field-focus-border-color);
  }

  /*= Other Fields ===========================================================*/
  /* Sidebar */
  .sidebar-panel[lwt-sidebar] #search-box:hover,
  body[lwt-sidebar] xul|search-textbox.tabsFilter:hover {
    border-color: var(
      --lwt-sidebar-highlight-background-color,
      Highlight
    ) !important;
  }
  .sidebar-panel:not([lwt-sidebar]) #search-box:hover,
  body:not([lwt-sidebar]) xul|search-textbox.tabsFilter:hover {
    border-color: -moz-accent-color !important;
  }

  /* Others */
  #editBMPanel_namePicker:hover,
  #editBMPanel_tagsField:hover,
  .findbar-container .findbar-textbox:hover {
    --input-border-color: color-mix(
      in srgb,
      var(--focus-outline-color, -moz-accent-color) 50%,
      transparent
    );
  }

  /*= Downloads Panel ========================================================*/
  /* Accent Color for downloaded item */
  #downloadsListBox .download-state[exists] .downloadDetails {
    color: var(--button-primary-bgcolor);
  }
  #downloadsListBox
    .download-state[exists]
    .downloadDetails.downloadDetailsHover {
    color: var(--button-primary-hover-bgcolor);
  }

  /* File moved or missing */
  #downloadsListBox .download-state:not([exists], [state="0"]) .downloadTarget {
    text-decoration: line-through;
    text-decoration-color: color-mix(in srgb, currentColor 65%, transparent);
  }
  #downloadsListBox
    .download-state:not([exists], [state="0"])
    .downloadTypeIcon {
    filter: grayscale(100%) !important;
  }
}

/*= Cursor Types =============================================================*/
#appMenu-proton-update-banner,
#appMenu-fxa-status2:not([fxastatus]) > #appMenu-fxa-label2,
#appMenu-zoomReduce-button2,
#appMenu-zoomReset-button2,
#appMenu-zoomEnlarge-button2,
#appMenu-fullscreen-button2,
#panelMenu_showAllBookmarks,
#PanelUI-historyMore,
#appMenuClearRecentHistory:not([disabled]),
#appMenu-library-recentlyClosedTabs
  > .restoreallitem.panel-subview-footer-button,
#appMenu-library-recentlyClosedWindows
  > .restoreallitem.panel-subview-footer-button,
#BMB_viewBookmarksSidebar,
#BMB_bookmarksShowAllTop,
#BMB_bookmarksShowAll,
#import-button,
menuitem.openintabs-menuitem,
#downloadsListBox .downloadButton,
#downloadsListBox .download-state[exists],
#downloadsListBox .download-state[exists] .downloadDetails,
#downloadsHistory,
#protections-popup-footer .protections-popup-footer-button,
#protections-popup-multiView .panel-subview-footer-button,
#identity-popup-clear-sitedata-button,
#identity-popup-more-info {
  cursor: pointer !important;
}

/* TODO: For now, fxa-menu doesn't show any status.
           (JS required, observe .syncNowBtn status)
  #PanelUI-fxa-menu-syncnow-button[syncstatus="active"] {
    cursor: progress !important;
  }
  */

/*= Animate ==================================================================*/
@media (prefers-reduced-motion: no-preference) {
  /*- Background Color -------------------------------------------------------*/
  button,
  toolbarbutton,
  stack,
  vbox,
  .toolbarbutton-icon,
  #tabs-newtab-button > .toolbarbutton-icon {
    transition: background-color 1s var(--animation-easing-function) !important;
  }
  button:hover,
  toolbarbutton:hover,
  stack:hover,
  vbox:hover,
  .toolbarbutton-icon:hover,
  #tabs-newtab-button:hover > .toolbarbutton-icon {
    transition: background-color 0.25s var(--animation-easing-function) !important;
  }
  @media (-moz-gtk-csd-available) {
    .tabbrowser-tab:is([visuallyselected], [multiselected], [selected])
      .tab-background:not(:-moz-lwtheme) {
      transition: background-image 0.25s var(--animation-easing-function) !important;
    }
  }

  .subviewbutton {
    /* treechildren::-moz-tree-row: Can't apply
       menu, menuitem is not apply.
     */
    transition: background-color 0.5s var(--animation-easing-function) !important;
  }
  .subviewbutton:hover {
    transition: background-color 0.1s var(--animation-easing-function) !important;
  }

  /*- Pinned Tab -------------------------------------------------------------*/
  #tabbrowser-tabs:not([movingtab]) .tabbrowser-tab:not([collapsed]) {
    /* -moz-box-flex may be caused #tabbrowser-tabs[closebuttons] */
    transition: -moz-box-flex 0.2s var(--animation-easing-function),
      margin-inline-start 0.2s var(--animation-easing-function),
      min-width 0.1s ease-out, max-width 0.1s ease-out !important;
  }
  #tabbrowser-tabs:not([movingtab]) .tabbrowser-tab[pinned] {
    transition: -moz-box-flex 0.2s var(--animation-easing-function),
      margin-inline-start 0.2s var(--animation-easing-function) !important;
  }

  #tabbrowser-tabs:not([movingtab]) .tab-content::before,
  #tabbrowser-tabs:not([movingtab]) .tab-content::after {
    transition: width 0.2s var(--animation-easing-function),
      transform 0.2s var(--animation-easing-function) !important;
  }
  #tabbrowser-tabs:not([movingtab]) .tab-content .tab-label-container {
    transition: width 0.3s var(--animation-easing-function) !important;
  }
  #tabbrowser-tabs:not([movingtab]) .tab-content .tab-icon-image {
    transition: all 0.3s var(--animation-easing-function) !important;
  }

  /*- URL / Search Bar -------------------------------------------------------*/
  #urlbar-background,
  #searchbar {
    transition: border-color 1s var(--animation-easing-function),
      background-color 1.5s var(--animation-easing-function) !important;
  }
  #urlbar-background:hover,
  #searchbar:hover {
    transition: border-color 0.5s var(--animation-easing-function),
      background-color 1s var(--animation-easing-function) !important;
  }

  /* Buttons in URL bar */
  #tracking-protection-icon-container,
  #identity-icon-box,
  #identity-permission-box,
  #notification-popup-box,
  #page-action-buttons > .urlbar-page-action {
    transition: background-color 2.5s var(--animation-easing-function) !important;
  }
  #tracking-protection-icon-container:hover,
  #identity-icon-box:hover,
  #identity-permission-box:hover,
  #notification-popup-box:hover,
  #page-action-buttons > .urlbar-page-action:hover {
    transition: background-color 1.25s var(--animation-easing-function) !important;
  }

  /*- Border - Other Fields --------------------------------------------------*/
  #search-box:hover,
  xul|search-textbox.tabsFilter:hover,
  #editBMPanel_namePicker:hover,
  #editBMPanel_tagsField:hover,
  .findbar-container .findbar-textbox:hover {
    transition: border-color 1s var(--animation-easing-function) !important;
  }
  #search-box:hover,
  xul|search-textbox.tabsFilter:hover,
  #editBMPanel_namePicker:hover,
  #editBMPanel_tagsField:hover,
  .findbar-container .findbar-textbox:hover {
    transition: border-color 0.5s var(--animation-easing-function) !important;
  }

  /*- Sidebar ----------------------------------------------------------------*/
  #sidebar-box {
    /* like #sidebar-box > #sidebar */
    min-width: 14em;
    width: 18em;
    max-width: 36em;

    /* Animation */
    transition: margin-inline-start 0.25s var(--animation-easing-function),
      opacity 0.25s ease-in-out, visibility 0s linear !important;
  }
  #sidebar-box[hidden="true"] {
    display: -moz-box !important;
    margin-inline-start: -18em;
    opacity: 0;
    visibility: collapse;
    transition-delay: 0s, 0s, 0.25s !important;
  }

  /*- Full Screen ------------------------------------------------------------*/
  #navigator-toolbox {
    /* Full screen out */
    transition: margin-top 1s ease;
    transform-origin: top;
  }
  #navigator-toolbox[inFullscreen="true"] {
    /* Full screen enter */
    animation-duration: 1s;
    animation-name: fullscreen;
    animation-timing-function: ease;

    /* Full screen navbar not hover */
    transition: margin-top 0.3s var(--animation-easing-function) 50ms;
  }
  #navigator-toolbox[inFullscreen="true"]:hover {
    transition-duration: 1.5s;
    transition-delay: 0.1s;
  }

  @keyframes fullscreen {
    from {
      margin-top: 0;
    }
    /* Dont' use `to`: Depending on density */
  }

  /*- Expand - Synced Tabs ---------------------------------------------------*/
  @-moz-document url("chrome://browser/content/syncedtabs/sidebar.xhtml")
  {
    .item-tabs-list {
      transition: transform 0.2s ease-out, opacity 0.2s ease-out;
      transform: translateY(0%);
      opacity: 1;
      max-height: 100%;
    }

    .item.client.closed .item-tabs-list {
      display: flex !important;

      transition: transform 0.2s ease-out, opacity 0.2s ease-out,
        max-height 0.25s cubic-bezier(0.82, 0.085, 0.395, 0.895) 0.05s;
      visibility: hidden;
      transform: translateY(-100%);
      opacity: 0;
      max-height: 0;
    }
  }

  /*- Arrow - Synced Tabs ----------------------------------------------------*/
  @-moz-document url("chrome://browser/content/syncedtabs/sidebar.xhtml")
  {
    /* treechildren::-moz-tree-twisty: Can't apply */
    #template-container .item.client .item-twisty-container {
      transition: transform 0.1s var(--animation-easing-function) !important;
    }

    #template-container .item.client.closed .item-twisty-container {
      transform: rotate(-90deg);
      background-image: url("chrome://global/skin/icons/arrow-down-12.svg") !important;
    }

    #template-container .item.client.closed .item-twisty-container:dir(rtl) {
      transform: rotate(90deg);
      background-image: url("chrome://global/skin/icons/arrow-down-12.svg") !important;
    }
  }

  /*- Arrow - Edit Bookmark Popup --------------------------------------------*/
  #editBookmarkPanelRows .expander-up .button-icon,
  #editBookmarkPanelRows .expander-down .button-icon {
    transition: transform 0.1s var(--animation-easing-function) !important;
  }
  #editBookmarkPanelRows .expander-up {
    list-style-image: url("chrome://global/skin/icons/arrow-down.svg") !important;
  }
  #editBookmarkPanelRows .expander-up .button-icon {
    transform: rotate(180deg);
  }
}

/** Reduce Padding ************************************************************/
/*= Root - Reduce Padding ====================================================*/
:root {
  /* Tab Bar */
  --inline-tab-padding: 6px !important; /* Original: 8px */

  /* Panel */
  --arrowpanel-menuicon-padding: 8px;
  --arrowpanel-menuitem-margin: 0 var(--arrowpanel-menuicon-padding) !important; /* Original: 0 8px */
  --arrowpanel-menuitem-padding: 5px !important; /* Original: 8px */
  --arrowpanel-padding: 0.8em !important; /* Original: 16px or .cui-widget-panel, .cui-widget-panel::part(arrowcontent) => 4px 0 */
}

:root[uidensity="compact"] {
  /* Tool Bar */
  --toolbarbutton-outer-padding: 2px !important; /* Original: 3px, General is 2px */

  /* Panel */
  --arrowpanel-menuitem-padding: 3px !important; /* Original: 8px */
}

:root[uidensity="touch"] {
  /* Tab Bar - Like Original */
  --proton-tab-block-margin: 4px !important; /* Original: 4px */
  --tab-block-margin: 4px !important; /* New version of --proton-tab-block-margin */
  --inline-tab-padding: 8px !important; /* Original: 8px */

  /* Panel - Like Original */
  --arrowpanel-menuitem-padding: 8px !important; /* Original: 8px */
}

.tab-content[pinned] {
  --inline-tab-padding: 8px; /* Prevent overflow pinned tab's divide line not aligned */
  padding-inline: var(--inline-tab-padding) !important;
}

/*= Tab Bar - Reduce Width, Show more tabs ===================================*/
/* for First Tab Space */
:root {
  --space-left-tabbar: 0px; /* If you want drag space, set to 8px */
}
:root:not([tabsintitlebar]) #tabbrowser-tabs:not([positionpinnedtabs]),
:root:is([sizemode="maximized"], [sizemode="fullscreen"])
  #tabbrowser-tabs:not([positionpinnedtabs]) {
  padding-inline-start: var(--space-left-tabbar) !important;
}

/* Titlebar Space */
.titlebar-spacer[type="pre-tabs"] {
  width: 30px !important; /* Original: 40px */
}
.titlebar-spacer[type="post-tabs"] {
  width: 25px !important; /* Original: 40px */
}

/* Tabbar Buttons */
:root {
  --newtab-button-minus-width-padding: 2px;
  --newtab-button-width-padding: calc(
    var(--toolbarbutton-inner-padding) -
      var(--newtab-button-minus-width-padding)
  );
}
#new-tab-button > .toolbarbutton-icon,
#alltabs-button > .toolbarbutton-badge-stack {
  /* Original: calc(2 * var(--toolbarbutton-inner-padding) + 16px) */
  width: calc(2 * var(--newtab-button-width-padding) + 16px) !important;

  /* Original: --toolbarbutton-inner-padding */
  padding-left: var(--newtab-button-width-padding) !important;
  padding-right: var(--newtab-button-width-padding) !important;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 1px !important;
}

:root:not([uidensity="touch"]) #tabbrowser-arrowscrollbox {
  --scrollbtn-inner-padding: 1px;
  --scrollbtn-outer-padding: 3px;
}
#scrollbutton-up {
  padding-left: var(
    --scrollbtn-inner-padding,
    4px
  ) !important; /* Original: 4px */
  padding-right: var(--scrollbtn-outer-padding, 4px) !important;
}
#scrollbutton-down {
  padding-left: var(
    --scrollbtn-outer-padding,
    4px
  ) !important; /* Original: 4px */
  padding-right: var(--scrollbtn-inner-padding, 4px) !important;
}

:root:not([uidensity="touch"]) #new-tab-button,
#alltabs-button {
  --toolbarbutton-outer-padding: 1px; /* Original: 2px*/
}

/* Tab - Max Size */
:root {
  --tab-max-width: 240px;
}
.tabbrowser-tab[fadein]:not([pinned]):not([style*="max-width"]) {
  max-width: var(--tab-max-width) !important; /* Original: 225px */
}

/* neighbouring tabs should "pinch" together */
.tabbrowser-tab {
  padding-inline: 1px !important;
}

.tabbrowser-tab:not([last-visible-tab]) {
  margin-inline-end: -0.5px !important;
}

/*= Tab Bar - Reduce Height, Show more contents ==============================*/
/* for Extra Drag Space */
:root {
  --space-above-tabbar: 0px; /* If you want drag space, set to 8px */
}
:root[tabsintitlebar][sizemode="normal"] #toolbar-menubar[autohide="true"] {
  height: calc(var(--tab-min-height) + var(--space-above-tabbar));
}
:root[sizemode="normal"][chromehidden~="menubar"] #TabsToolbar > .toolbar-items,
:root[sizemode="normal"]
  #toolbar-menubar[autohide="true"][inactive]
  + #TabsToolbar
  > .toolbar-items {
  padding-top: var(--space-above-tabbar) !important;
}

/* Toolbar Height */
:root:not([uidensity]) #TabsToolbar {
  --tab-min-height: 36px !important; /* 38px -> 36px */
}
:root[uidensity="compact"] #TabsToolbar {
  --tab-min-height: 29px !important; /* 36px -> 29px */
}

/* Scroll Button - Size Fix */
:root #tabbrowser-arrowscrollbox {
  --scrollbtn-vertical-padding: 3px;
  --scrollbtn-vertical-border: 2px;
  --scrollbtn-border-radius: 7px;
}
#scrollbutton-up,
#scrollbutton-down {
  /* Original: var(--toolbarbutton-inner-padding) calc(var(--toolbarbutton-inner-padding) - 6px) = 9px */
  /* https://github.com/mozilla/gecko-dev/blob/71b1259afd1cdaf41871ae675c2dadb967ea5b34/browser/themes/shared/toolbarbuttons.inc.css#L142 */
  padding-top: var(
    --scrollbtn-vertical-padding,
    var(--toolbarbutton-inner-padding)
  ) !important;
  padding-bottom: var(
    --scrollbtn-vertical-padding,
    var(--toolbarbutton-inner-padding)
  ) !important;

  /* Original: 4px */
  border-top-width: var(--scrollbtn-vertical-border, 4px) !important;
  border-bottom-width: var(--scrollbtn-vertical-border, 4px) !important;
  /* Original: calc(var(--tab-border-radius) + 4px) = 8px */
  border-radius: var(
    --scrollbtn-border-radius,
    calc(var(--tab-border-radius) + 4px)
  ) !important;
}

:root[tabsintitlebar]:not([uidensity="compact"])
  #toolbar-menubar[autohide="true"] {
  height: calc(
    var(--tab-min-height) - var(--tabs-navbar-shadow-size) - 2px
  ); /* Compact: 28px, Normal: 33px, Touch: 38px */
}

/* Pinned Tab - Titlechanged Indicator position fix */
.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: center bottom calc(6.5px + var(--tabs-navbar-shadow-size)); */
  background-position-y: bottom calc(2.5px + var(--tabs-navbar-shadow-size)) !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: center bottom calc(6.5px + var(--tabs-navbar-shadow-size)); */
  background-position-y: bottom calc(0.5px + var(--tabs-navbar-shadow-size)) !important;
}
:root[uidensity="touch"]
  .tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="touch"]
  .tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: center bottom calc(6.5px + var(--tabs-navbar-shadow-size)); */
  background-position-y: bottom calc(4.5px + var(--tabs-navbar-shadow-size)) !important;
}

/*= Nav Bar - Reduce Width ===================================================*/
#nav-bar:not([customizing]) toolbarspring {
  min-width: 1px !important;
  max-width: 100px !important;
}

/*= URL Bar - Reduce Padding =================================================*/
:root:not([uidensity="touch"]) #urlbar-container,
:root:not([uidensity="touch"]) #search-container {
  padding-block: 3px !important; /* Original: 4px */
  margin-inline: 5px !important; /* Original: 5px */
}
:root:not([uidensity="compact"]) #urlbar-container,
:root:not([uidensity="compact"]) #search-container {
  padding-block: 2px !important;
}

/* spread menu */
:root:not([uidensity]) .urlbarView-row {
  padding-block: 1px !important; /* Original: 2px */
}
:root[uidensity="compact"] .urlbarView-row {
  padding-block: 0px !important;
}

:root:not([uidensity]) #urlbar .search-one-offs:not([hidden]) {
  padding-block: 8px !important; /* Original: 10px */
}
:root[uidensity="compact"] #urlbar .search-one-offs:not([hidden]) {
  padding-block: 2px !important;
}

/*= BookMark Bar - Reduce Height =============================================*/
:root[uidensity="compact"] #PersonalToolbar toolbarbutton {
  margin-top: 0px; /* Original: 2px */
}

/*= Info Bar - Reduce Padding ================================================*/
:root:not([uidensity]) #tab-notification-deck {
  --infobar-message-margin: 0 4px 3px;
}
:root[uidensity="compact"] #tab-notification-deck {
  --infobar-message-margin: 0 4px 2px;
}
#tab-notification-deck
  notification-message[message-bar-type="infobar"]:not([style*="margin-top"]) {
  margin: var(--infobar-message-margin, 0 4px 4px) !important;
}

:root:not([uidensity]) notification-message[message-bar-type="infobar"] {
  --infobar-vertical-margin: 7px;
  --infobar-button-vertical-margin: 3px;
}
:root[uidensity="compact"] notification-message[message-bar-type="infobar"] {
  --infobar-vertical-margin: 6px;
  --infobar-button-vertical-margin: 2px;
}
.infobar > .icon {
  margin-block: var(
    --infobar-vertical-margin,
    8px
  ) !important; /* Original: 8px */
}
.notification-message {
  padding-block: var(
    --infobar-vertical-margin,
    8px
  ) !important; /* Original: 8px */
}
.notification-button-container > .notification-button {
  margin-block: var(
    --infobar-button-vertical-margin,
    4px
  ) !important; /* Original: 4px */
}
.notification-close {
  margin: var(--infobar-button-vertical-margin, 4px) 8px !important; /* Original: 4px 8px */
}

/* Hard coded for compatibility - Disappearing phenomenon */
.container.infobar::before {
  content: "";
  display: block;
  width: 2px;
  position: absolute;
  background-image: linear-gradient(
    0,
    #9059ff 0%,
    #ff4aa2 52.08%,
    #ffbd4f 100%
  );
  top: 0;
  inset-inline-start: 0;
  height: 100%;
  border-start-start-radius: 4px;
  border-end-start-radius: 4px;
}

/*= Menu - Reduce Padding ====================================================*/
:root {
  --menu-padding: 0.35em; /* Win7, 8: 0px */
}
:root[uidensity="compact"] {
  --menu-padding: 0.25em;
}
:root[uidensity="touch"] {
  --menu-padding: 0.5em;
}
menupopup:not(.in-menulist) > menuitem,
menupopup > menu {
  /* Original: 0.5em */
  padding-block: var(--menu-padding) !important;
}

#ContentSelectDropdown > menupopup > menucaption,
#ContentSelectDropdown > menupopup > menuitem {
  padding-block: 0 !important;
}

@supports not -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  :root:not([uidensity="touch"]) .menu-text,
  :root:not([uidensity="touch"]) .menu-iconic-text {
    padding-inline-end: 0 !important; /* Original: 2px */
  }
  :root:not([uidensity="touch"]) .menupopup-arrowscrollbox {
    padding-block: 1px !important; /* Original: 4px*/
  }
  :root:not([uidensity="touch"]) #context-navigation:not([hidden]) {
    padding: 0 0 1px !important; /* Original: 0 0 4px*/
  }
  :root:not([uidensity="touch"]) .menu-right {
    margin-right: 6px !important; /* Original: 12px */
  }
}

@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8) {
  /* Remove border */
  menupopup > menuitem,
  menupopup > menu {
    padding-block: calc(var(--menu-padding) - 2px) !important;
  }

  /* Make to original */
  :root:not([uidensity="touch"]) #context-navigation:not([hidden]) {
    padding: 0 0 4px !important;
  }
}

@media (-moz-gtk-csd-available) {
  menupopup > menu {
    padding-inline-start: 0.5em;
  }
}

/* Arrow Icon Align to Right */
.bookmark-item.subviewbutton > .menu-right {
  margin-inline-end: 0 !important;
}

/*= Bookmark Menu - Reduce Padding ===========================================*/
:root {
  --bookmark-menu-padding: 3px;
}
:root[uidensity="compact"] {
  --bookmark-menu-padding: 1.5px;
}

:root:not([uidensity="touch"]) #BMB_bookmarksPopup .subviewbutton,
:root:not([uidensity="touch"]) #BMB_bookmarksPopup .subviewbutton,
:root:not([uidensity="touch"])
  #PlacesToolbar
  menupopup[placespopup]
  .bookmark-item,
:root:not([uidensity="touch"])
  #PlacesToolbar
  menupopup[placespopup]
  .openintabs-menuitem {
  padding-block: var(--bookmark-menu-padding) !important;
}

/*= Global Menu - Set Padding ================================================*/
/* Vertical Align - Center & Height: 100%  */
#main-menubar {
  -moz-box-flex: 1 !important;
}

/* Rounding */
#main-menubar > menu {
  border-radius: 4px;
}

/* Menubar item padding */
:root {
  --global-menubar-padding: 2px;
}
:root[uidensity="compact"] {
  --global-menubar-padding: 1px;
}
:root[uidensity="touch"] {
  --global-menubar-padding: 4px;
}
#main-menubar > menu {
  padding-block: var(--global-menubar-padding) !important;
}

/* Reduce items */
#main-menubar > menu > menupopup menuitem,
#main-menubar > menu > menupopup menu {
  padding-block: var(--bookmark-menu-padding) !important;
}

/*= Popup Panel - Reduce padding =============================================*/
#protections-popup-main-header-label {
  height: unset !important; /* Original: 37.6px */
}

#identity-popup,
#permission-popup,
#protections-popup {
  --vertical-section-padding: 0.8em; /* Original: 0.9em */
}

.protections-popup-footer-button,
.protections-popup-category {
  min-height: 24px; /* Original: 32px */
  height: unset !important;
}

/** Popup panel - Compact mode  */
/* Footer Button Height */
:root[uidensity="compact"] .panel-footer.panel-footer-menulike > button {
  padding: 3px 8px !important;
}
/* Footer Button Height */
:root[uidensity="compact"] #protections-popup-trackersView-settings-button {
  margin: 4px 8px 0 !important;
}
/* not cut off for Protection popup Footer on windows */
:root[uidensity="compact"]
  #protections-popup-multiView
  #protections-popup-footer {
  padding: 3px 0 20px !important;
}
/* Button and disabled category in Protection popup */
:root[uidensity="compact"]
  #protections-popup-multiView
  .protections-popup-footer-button,
:root[uidensity="compact"]
  #protections-popup-multiView
  .protections-popup-category {
  height: 20px !important;
  min-height: 20px !important;
}
/* Footer Button in Tracking Content Panel */
:root[uidensity="compact"]
  #protections-popup-multiView
  .panel-footer.panel-footer-menulike {
  margin: 0 0 3px !important;
}
/* Identity popup header padding */
:root[uidensity="compact"]
  #identity-popup-multiView
  #identity-popup-mainView-panel-header {
  padding: 2px 5px !important;
}
/* Text When There is no trackers */
:root[uidensity="compact"] #protections-popup-no-trackers-found-description {
  margin: 2em 4em !important;
}
/* Download Item margin */
:root[uidensity="compact"] #downloadsListBox {
  margin: 0 !important;
}

/** Multi Selected Color - More Contrast **************************************/
#tabbrowser-tabs:not([movingtab])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab
  > .tab-stack
  > .tab-background[multiselected]:not([selected]):-moz-lwtheme {
  background-image: linear-gradient(
      var(--toolbar-bgcolor, transparent),
      var(--toolbar-bgcolor, transparent)
    ),
    linear-gradient(var(--toolbar-bgcolor), var(--toolbar-bgcolor)),
    var(--lwt-header-image, none) !important;
}

.tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  background: color-mix(in srgb, currentColor 65%, transparent);
  opacity: 0.3;
}
#TabsToolbar[brighttext]
  .tab-background[multiselected="true"]:not([selected="true"])
  > .tab-loading-burst:not([bursting]) {
  opacity: 0.15;
}

/** Unselected Tab - Divide line **********************************************/
.tab-background::before,
#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab:not([visuallyselected], [multiselected], :hover)[last-visible-tab]
  .tab-background::after {
  /* Box Model */
  content: "";
  display: block;
  position: absolute;
  top: 50%;

  /* Bar shape */
  width: 1px;
  height: 20px;

  /* Bar Color */
  opacity: 0;
  background-color: var(--toolbarseparator-color);
}

.tab-background::before {
  transform: translateX(-2.5px) translateY(calc(-50% + 1px)) !important;
}
.tabbrowser-tab[last-visible-tab] .tab-background::after {
  right: 0;
  transform: translateX(1.5px) translateY(calc(-50% + 1px)) !important;
}

#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab[first-visible-unpinned-tab]
  .tab-background::before,
.tabbrowser-tab:not([visuallyselected], [multiselected], :hover, :first-child)
  .tab-background::before,
#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab:not([visuallyselected], [multiselected], :hover)[last-visible-tab]
  .tab-background::after {
  opacity: var(--tab-separator-opacity);
}

#navigator-toolbox:not([movingtab])
  .tabbrowser-tab:is([visuallyselected], [multiselected], :hover)
  + .tabbrowser-tab:not([visuallyselected])
  .tab-background::before,
#navigator-toolbox:not([movingtab])
  .tabbrowser-tab[first-visible-unpinned-tab]:is([visuallyselected], [multiselected], :hover)
  .tab-background::before,
#navigator-toolbox:not([movingtab])
  #tabbrowser-arrowscrollbox[overflowing]
  tab.tabbrowser-tab[first-visible-unpinned-tab]
  .tab-background::before {
  opacity: 0 !important;
}

/* Animate */
@media (prefers-reduced-motion: no-preference) {
  .tab-background::before,
  #tabbrowser-arrowscrollbox:not([overflowing])
    .tabbrowser-tab:not([visuallyselected], [multiselected], :hover)[last-visible-tab]
    .tab-background::after {
    transition: opacity 0.2s var(--animation-easing-function); /* cubic-bezier(.07, .95, 0, 1) */
  }
}

/* Latest Tab & New tab margin */
#tabbrowser-arrowscrollbox:not([overflowing])
  .tabbrowser-tab[last-visible-tab] {
  margin-inline-end: 1px !important;
}

/* New tab button - Smaller button ********************************************/
:root:not([uidensity="touch"]) #tabs-newtab-button > .toolbarbutton-icon {
  --toolbarbutton-inner-padding: calc((var(--tab-min-height) - 16px) / 2 - 1px);
}

:root:not([uidensity="compact"]) #tabs-newtab-button > .toolbarbutton-icon {
  margin-left: 2px;
}
:root[uidensity="compact"] #tabs-newtab-button > .toolbarbutton-icon {
  margin-left: 1px;
}

/* Unloaded Tab - Contents Opacity ********************************************/
#tabbrowser-tabs .tabbrowser-tab[pending] .tab-content {
  opacity: 0.7;
}

/** Clipped tabs - Letters cleary *********************************************/
#tabbrowser-tabs[closebuttons="activetab"] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]),
#tabbrowser-tabs[closebuttons="activetab"]
  .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}

/** Clipped tabs - Show close button at hover *********************************/
#tabbrowser-tabs[closebuttons="activetab"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:not([pinned])
  > .tab-stack
  > .tab-content
  > .tab-close-button:not([selected="true"]) {
  display: -moz-inline-box !important;
}

#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not([visuallyselected])
  .tab-close-button {
  visibility: collapse !important;
  opacity: 0;
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:hover
  .tab-close-button {
  visibility: visible !important;
  opacity: 1;
}

/* Animate */
@media (prefers-reduced-motion: no-preference) {
  /* Fade out */
  #tabbrowser-tabs[closebuttons="activetab"]
    .tabbrowser-tab:not([visuallyselected])
    .tab-close-button {
    transition: opacity 0.1s var(--animation-easing-function) !important;
  }

  /* Fade in */
  #tabbrowser-tabs[closebuttons="activetab"]
    .tabbrowser-tab:hover
    .tab-close-button {
    transition: opacity 0.25s var(--animation-easing-function) !important;
  }
}

/* Closed Button's icon thicker */
.tabbrowser-tab .tab-content > .close-icon {
  list-style-image: url("./icons/dismiss-filled.svg") !important;
}

/* Closed Button's icon larger */
.tab-close-button {
  padding: 6px !important; /* Original: 7px */
}
.tabbrowser-tab:not(:hover) > .tab-stack > .tab-content > .tab-close-button {
  padding-inline-start: 1px !important; /* Original: 0px */
  width: 19px !important; /* Original: 17px */
}

/* Closed Button's padding reduce */
#tabbrowser-tabs[closebuttons="activetab"] .tab-content > .tab-close-button {
  margin-inline-end: calc(
    (var(--inline-tab-padding) / -2) + 2px
  ) !important; /* Original: calc(var(--inline-tab-padding) / -2)*/
  padding: 4px !important; /* Original: 7px */
  width: 20px !important; /* Original: 24px */
  height: 20px !important; /* Original: 24px */
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab:not(:hover)
  > .tab-stack
  > .tab-content
  > .tab-close-button {
  padding-inline-start: 3px !important; /* Original: 0px */
  width: 19px !important; /* Redefine from 19px !important, Original: 17px = (width - padding)  */
}

/** Sound Tab - Hide Label ****************************************************/
.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: none !important;
}

/** Sound Tab - Show with Favicons ********************************************/
/* Makes the favicons always visible (also on hover) */
.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
}

/* Makes the speaker icon to always appear if the tab is playing (not only on hover) */
.tab-icon-overlay:not([crashed]),
.tab-icon-overlay[pinned][crashed][selected] {
  /* Position */
  top: 0 !important;
  inset-inline-end: -9px !important;
  z-index: 1 !important;
  transform: translateX(-0.5px) translateY(-6px);

  /* Shape */
  padding: 1.5px !important;
  border-radius: 10px !important;
  width: 17px !important;
  height: 17px !important;
}
.tab-icon-overlay:not([sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked]) {
  /* Color */
  color: currentColor !important;
  stroke: transparent !important;
  background: transparent !important;
  fill-opacity: 0.8 !important;
  opacity: 1 !important;
}
.tabbrowser-tab:not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked])
  .tab-label {
  transform: translateX(4px);
}

/* Animate */
@media (prefers-reduced-motion: no-preference) {
  .tab-icon-overlay:not([crashed]),
  .tab-icon-overlay[pinned][crashed][selected] {
    transition: 0.1s var(--animation-easing-function);
  }

  .tab-label-container > .tab-label {
    transition: transform 0.25s var(--animation-easing-function);
  }
}

/* None exist favicon - Size bigger */
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]) {
  transform: translateX(-0.5px) translateY(-1px);
  inset-inline-end: 0 !important;
  margin-inline-end: 0 !important;
  padding: 0 !important;
}
.tabbrowser-tab:not([image]):is([soundplaying], [muted], [activemedia-blocked])
  .tab-icon-image:not([pinned]) {
  opacity: 0 !important; /* Favicon hidden */
}
.tabbrowser-tab:not([image]):not([pinned], [sharing], [crashed]):is([soundplaying], [muted], [activemedia-blocked])
  .tab-label {
  transform: translateX(3px);
}

/* Busy - Show */
.tab-throbber[busy],
.tab-icon-pending[busy] {
  opacity: 1 !important;
}

/* Busy - Overlay Position */
.tabbrowser-tab:not([pinned])[busy]
  .tab-icon-overlay:is([soundplaying], [muted], [activemedia-blocked]) {
  transform: translateX(-0.5px) translateY(-6px);
}
.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed])[busy] {
  inset-inline-end: -9px !important;
  margin-inline-end: 9.5px !important;
  padding: 1.5px !important;
}

/* Hover */
.tab-icon-overlay:not([crashed])[soundplaying]:hover,
.tab-icon-overlay:not([crashed])[muted]:hover,
.tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  color: var(--toolbar-bgcolor, white) !important;
  stroke: var(--lwt-tab-text, var(--toolbar-color)) !important;
  background-color: var(--lwt-tab-text, var(--toolbar-color)) !important;
  fill-opacity: 0.95 !important;
}

#TabsToolbar[brighttext] .tab-icon-overlay:not([crashed])[soundplaying]:hover,
#TabsToolbar[brighttext] .tab-icon-overlay:not([crashed])[muted]:hover,
#TabsToolbar[brighttext]
  .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  color: var(--toolbar-bgcolor, black) !important;
}

.tabbrowser-tab:not([image])
  .tab-icon-overlay:not([pinned], [sharing], [crashed]):hover {
  padding: 0 !important;
}

/** PictureInPicture Tab - Show PIP Icon **************************************/
#tabbrowser-tabs:not([closebuttons="activetab"])
  .tabbrowser-tab[pictureinpicture]:not([pinned])
  .tab-content::after,
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab[pictureinpicture]:not([pinned], :hover)
  .tab-content::after {
  content: "";
}
.tabbrowser-tab[pictureinpicture]:not([pinned]) .tab-content::after {
  /* Shape */
  display: -moz-inline-box !important;
  width: 14px;
  height: 14px;
  background-size: 14px;
  -moz-box-ordinal-group: 1 !important;

  /* Color */
  fill: currentColor;
  opacity: 0.8;
  -moz-context-properties: fill;

  /* Icon */
  background-image: url("chrome://global/skin/media/picture-in-picture-open.svg");
}
.tabbrowser-tab[pictureinpicture]:not([pinned])[selected] .tab-content::after {
  opacity: 0.95;
}

/* Close Button's position */
.tabbrowser-tab[pictureinpicture]:not([pinned]) .tab-close-button {
  -moz-box-ordinal-group: 2 !important;
}
#tabbrowser-tabs:not([closebuttons="activetab"])
  .tabbrowser-tab[pictureinpicture]:not([pinned])
  .tab-close-button {
  margin-left: 7px !important;
}
#tabbrowser-tabs:not([closebuttons="activetab"])
  .tabbrowser-tab[pictureinpicture]:not([pinned]):hover
  .tab-close-button {
  margin-left: 2px !important;
}

/** Container Tab - Color line at icon's bottom *******************************/
.tab-context-line {
  display: none;
}

.tab-content:not([titlechanged])::before {
  /* Box Model */
  content: "";
  display: block;
  position: absolute !important;
  transform: translate(9px, 12px) !important;

  /* Shape */
  border-bottom: 2px solid var(--identity-icon-color);
  width: 25%;
  opacity: 0.75;
}
.tabbrowser-tab[visuallyselected]:not([pinned]) .tab-content::before {
  width: calc(100% - 30px);
  opacity: 1;
}
#tabbrowser-tabs[closebuttons="activetab"]
  .tabbrowser-tab[visuallyselected]:not([pinned])
  .tab-content::before {
  width: calc(100% - 33px);
}

/* Animate */
@media (prefers-reduced-motion: no-preference) {
  .tab-content:not([titlechanged])::before {
    transition: 0.15s var(--animation-easing-function) !important;
    transition-property: width, opacity;
  }
}

/* Pinned Tab */
.tabbrowser-tab[pinned] .tab-content::before {
  transform: translateY(12px) !important;
  width: 16px;
}

/* Pinned Tab - Titlechanged Indicator override */
.tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  --dotted-identity-image: radial-gradient(
    circle,
    var(--identity-icon-color),
    var(--identity-icon-color) 2px,
    transparent 2px
  );
  background-image: var(--dotted-identity-image), var(--dotted-identity-image),
    var(--dotted-identity-image) !important;
  background-position-x: 32%, 50%, 70% !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])[usercontextid]
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab[usercontextid]
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  /* Original: radial-gradient(circle, var(--attention-icon-color), var(--attention-icon-color) 2px, transparent 2px); */
  background-position-x: 30%, 50%, 70% !important;
}

/* Pinned Tab - Titlechanged & soundplaying */
.tabbrowser-tab:is([image], [pinned])[usercontextid]:is([soundplaying], [muted], [activemedia-blocked])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab[usercontextid]:is([soundplaying], [muted], [activemedia-blocked])
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-position-x: calc(32% - 1px), calc(50% - 1px), calc(70% - 1px) !important;
}
:root[uidensity="compact"]
  .tabbrowser-tab:is([image], [pinned])[usercontextid]:is([soundplaying], [muted], [activemedia-blocked])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
:root[uidensity="compact"]
  .tabbrowser-tab[usercontextid]:is([soundplaying], [muted], [activemedia-blocked])
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-position-x: calc(30% - 1px), calc(50% - 1px), calc(70% - 1px) !important;
}

/** Crashed Tab - Don't show Favicons *****************************************/
.tab-icon-image[crashed] {
  display: none !important;
}

/** Fullscreen - Overlap toolbar **********************************************/
:root[sizemode="fullscreen"] #navigator-toolbox {
  position: fixed !important; /* Needed for content to take up entire height */
  display: block !important; /* Needed for content to take up entire height */
  z-index: 1000 !important; /* Puts the UI above the content */
}

:root[sizemode="fullscreen"]
  :-moz-any(#navigator-toolbox, #titlebar, #nav-bar, #PersonalToolbar) {
  width: 100%; /* Makes the UI take up the entire width */
}

:root:not([sizemode="fullscreen"])
  #PersonalToolbar[initialized="true"]:not([collapsed="true"]),
:root[sizemode="fullscreen"] #PersonalToolbar[initialized="true"] {
  visibility: unset !important; /* Makes the bookmarks toolbar visible if enabled */
}

/** Library - Icons Replace ***************************************************/
/*= Standard Folder - More Visible ===========================================*/
/* on Toolbar and Menus */
:-moz-any(#PlacesToolbar, #BMB_bookmarksPopup, #bookmarksMenu) .bookmark-item[container="true"]:not([query="true"], [tagContainer], [dayContainer]),
  /* in Sidebar, Library, Add/Edit Bookmark dialog */
  /* https://github.com/rillian/firefox/blob/1f88437d263f56bdede4f20f69ba9c7b62f57001/layout/style/nsCSSAnonBoxList.h#L85-L98 */
  /* Need to overide!!, can not use :not() */
  :-moz-any(#bookmarks-view, #historyTree, #editBMPanel_folderTree, #placesList, #placeContent) treechildren::-moz-tree-image(title, container),
  #editBMPanel_folderMenuList:not([selectedGuid="toolbar_____"], [selectedGuid="menu________"]),
  #editBMPanel_folderMenuList .folder-icon:not([id]),
  /* Download Popup */
  .downloadIconShow > .button-box > .button-icon {
  list-style-image: url("./icons/folder.svg") !important;
}

/* Standard Folder - Open */
:-moz-any(#PlacesToolbar, #BMB_bookmarksPopup, #bookmarksMenu)
  .bookmark-item[container="true"]:not([query="true"], [tagContainer], [dayContainer])[open="true"],
:-moz-any(#bookmarks-view, #historyTree, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(title, container, open) {
  list-style-image: url("./icons/folder-open.svg") !important;
}

/*= Other Folder - Inbox Icon ================================================*/
/* on Menus */
#PlacesToolbar #OtherBookmarks,
  #BMB_bookmarksPopup #BMB_unsortedBookmarks,
  #bookmarksMenuPopup #menu_unsortedBookmarks,
  /* Other Bookmarks -- in Sidebar, Library, Add/Edit Bookmark dialog */
  :-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent) treechildren::-moz-tree-image(container, OrganizerQuery_UnfiledBookmarks),
  :-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent) treechildren::-moz-tree-image(container, queryFolder_unfiled_____),
  #editBMPanel_unfiledRootItem,
  #editBMPanel_folderMenuList[selectedGuid="unfiled_____"] {
  list-style-image: url("./icons/mail-inbox-all.svg") !important;
}

/* Other Folder - Open */
#PlacesToolbar #OtherBookmarks[open="true"],
#BMB_bookmarksPopup #BMB_unsortedBookmarks[open="true"],
#bookmarksMenuPopup #menu_unsortedBookmarks[open="true"],
:-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(container, open, OrganizerQuery_UnfiledBookmarks),
:-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(container, open, queryFolder_unfiled_____) {
  list-style-image: url("./icons/mail-inbox.svg") !important;
}

/*= Default Icon - Overide ===================================================*/
/* https://github.com/mozilla/gecko-dev/blob/master/browser/themes/shared/places/tree-icons.css */

/* Query */
:-moz-any(#historyTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(title, query) {
  list-style-image: url("chrome://browser/skin/places/folder-smart.svg") !important;
}

/* History */
:-moz-any(#historyTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(title, query, dayContainer),
:-moz-any(#historyTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(query, OrganizerQuery_history____v) {
  list-style-image: url("chrome://browser/skin/history.svg") !important;
}

/* Downloads */
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(query, OrganizerQuery_downloads__v) {
  list-style-image: url("chrome://browser/skin/downloads/downloads.svg") !important;
}

/* Tag */
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(title, query, tagContainer),
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(query, OrganizerQuery_tags_______v) {
  list-style-image: url("chrome://browser/skin/places/tag.svg") !important;
}

/* Boomark */
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(query, OrganizerQuery_allbms_____v) {
  list-style-image: url("chrome://browser/skin/bookmark.svg") !important;
}

/* Bookmark Toolbar */
#BMB_bookmarksPopup #BMB_bookmarksToolbar,       /* Original: Default folder icon */
  #bookmarksMenuPopup #bookmarksToolbarFolderMenu, /* Original: Default folder icon */
  :-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent) treechildren::-moz-tree-image(container, queryFolder_toolbar_____) {
  list-style-image: url("chrome://browser/skin/places/bookmarksToolbar.svg") !important;
}

/* Bookmark Menu */
:-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(container, queryFolder_menu________) {
  list-style-image: url("chrome://browser/skin/places/bookmarksMenu.svg") !important;
}

/*= Default Icon - Open ======================================================*/
/* Query */
:-moz-any(#PlacesToolbar, #BMB_bookmarksPopup, #bookmarksMenu)
  .bookmark-item[container="true"][query="true"]:not([tagContainer])[open="true"]
  > .menu-iconic-left
  > .menu-iconic-icon {
  transform: rotate(15deg) !important;
}

/* History */
:-moz-any(#historyTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(title, query, open, dayContainer),
:-moz-any(#historyTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(query, open, OrganizerQuery_history____v) {
  list-style-image: url("./icons/history-reverse.svg") !important;
}

/* Tag */
:-moz-any(#PlacesToolbar, #BMB_bookmarksPopup, #bookmarksMenu)
  .bookmark-item[container="true"][tagContainer="true"][open="true"],
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(title, query, open, tagContainer),
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(query, open, OrganizerQuery_tags_______v) {
  list-style-image: url("./icons/tag-open.svg") !important;
}

/* Boomark */
:-moz-any(#placesList, #placeContent)
  treechildren::-moz-tree-image(query, open, OrganizerQuery_allbms_____v) {
  list-style-image: url("chrome://browser/skin/bookmark-hollow.svg") !important;
}

/* Bookmark Toolbar */
#BMB_bookmarksPopup #BMB_bookmarksToolbar[open="true"],
#bookmarksMenuPopup #bookmarksToolbarFolderMenu[open="true"],
:-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(container, open, queryFolder_toolbar_____) {
  list-style-image: url("./icons/bookmarksToolbar-open.svg") !important;
}

/* Bookmark Menu */
:-moz-any(#bookmarks-view, #editBMPanel_folderTree, #placesList, #placeContent)
  treechildren::-moz-tree-image(container, open, queryFolder_menu________) {
  list-style-image: url("./icons/bookmarksMenu-open.svg") !important; /* or bookmarksMenu-open2.svg" */
}

/*= Menubar - Icons ===========================================*/
@-moz-document url("chrome://browser/content/places/places.xhtml")
{
  @media (-moz-gtk-csd-available) {
    #organizeButton,
    #viewMenu,
    #maintenanceButton,
    #back-button,
    #forward-button,
    #clearDownloadsButton {
      fill: currentColor !important;
      -moz-context-properties: fill !important;
    }

    /* Add */
    #organizeButton {
      list-style-image: url("chrome://global/skin/icons/settings.svg") !important;
    }
    #viewMenu {
      list-style-image: url("./icons/sort.svg") !important;
    }
    #maintenanceButton {
      list-style-image: url("./icons/import-export.svg") !important;
    }

    #clearDownloadsButton {
      list-style-image: url("chrome://global/skin/icons/delete.svg") !important;
    }
    #clearDownloadsButton > .toolbarbutton-icon {
      display: -moz-inline-box !important;
      margin-top: 0;
      margin-bottom: 0;
      margin-inline-start: 0;
      margin-inline-end: 2px;
    }

    /* Replace */
    #back-button {
      list-style-image: url("chrome://browser/skin/back.svg") !important;
    }
    #forward-button {
      list-style-image: url("chrome://browser/skin/forward.svg") !important;
    }

    #back-button:-moz-locale-dir(rtl) > .toolbarbutton-icon,
    #forward-button:-moz-locale-dir(rtl) > .toolbarbutton-icon {
      transform: scaleX(-1) !important;
    }
  }
}

/** Panel - Icons *************************************************************/
/*= Padding ==================================================================*/
:root {
  --arrowpanel-menublank-padding: calc(
    var(--arrowpanel-menuicon-padding) * 2 + 8px
  ) !important;
  --arrowpanel-menuimageblank-padding: calc(
    var(--arrowpanel-menuitem-padding) - 2px
  ) !important;
}

#downloadsHistory .button-text,
.subviewbutton > .toolbarbutton-text {
  padding-inline-start: var(--arrowpanel-menuicon-padding) !important;
}
.toolbaritem-combined-buttons
  > .subviewbutton:not(.subviewbutton-iconic)
  > .toolbarbutton-text {
  padding-inline-start: 0 !important;
}
#panelMenu_bookmarksMenu .subviewbutton[disabled="true"] .toolbarbutton-text,
#appMenu_historyMenu .subviewbutton[disabled="true"] .toolbarbutton-text {
  padding-inline-start: var(--arrowpanel-menublank-padding) !important;
}
#appMenu-proton-update-banner .toolbarbutton-text {
  margin-inline-start: 0 !important;
}

#appMenu-multiView .subviewbutton::before,
#appMenu-proton-update-banner::before {
  display: -moz-inline-box;
  margin-inline-end: var(--arrowpanel-menuicon-padding);
  width: 16px;
  height: 16px;
}
#appMenu-proton-update-banner {
  margin-bottom: 2px !important;
}
#appMenu-proton-update-banner::before {
  margin-inline-start: var(--arrowpanel-menuitem-padding) !important;
}
#appMenu-fxa-status2,
#appMenu-zoom-controls2 {
  align-items: center;
  padding-top: var(--arrowpanel-menuimageblank-padding) !important;
  padding-bottom: var(--arrowpanel-menuimageblank-padding) !important;
}
#appMenu-zoom-controls2::before {
  margin-inline-end: 0 !important;
}

.subviewbutton[type="checkbox"]:not([checked="true"]) > .toolbarbutton-text {
  margin-left: 16px !important;
}

/* Icons Color */
#appMenu-multiView .subviewbutton::before,
#appMenu-proton-update-banner::before,
#downloadsHistory .button-icon,
.subviewbutton > image {
  fill: currentColor !important;
  fill-opacity: var(--toolbarbutton-icon-fill-opacity) !important;
  -moz-context-properties: fill !important;
}
#appMenu-zoomReduce-button2 > .toolbarbutton-icon,
#appMenu-zoomEnlarge-button2 > .toolbarbutton-icon {
  stroke: var(
    --zoom-controls-bgcolor,
    var(--button-bgcolor, ButtonFace)
  ) !important;
  -moz-context-properties: fill, stroke !important;
}
#appMenu-zoomReduce-button2:not([disabled], [open], :active):is(:hover)
  > .toolbarbutton-icon,
#appMenu-zoomEnlarge-button2:not([disabled], [open], :active):is(:hover)
  > .toolbarbutton-icon {
  stroke: var(--button-hover-bgcolor) !important;
}

.subviewbutton[disabled="true"] > image {
  /* Ghost icons when disabled */
  opacity: 0.4;
}

/*= Panel - Main =============================================================*/
#appMenu-proton-addon-banners > .addon-banner-item > .toolbarbutton-icon {
  display: -moz-inline-box !important;
  margin-inline-start: var(--arrowpanel-menuicon-padding);
  -moz-box-ordinal-group: 0 !important;
}

#appMenu-proton-update-banner::before {
  content: url("./icons/whatsnew.svg");
}
#appMenu-fxa-status2::before {
  /* Don't exist img tag */
  content: url("chrome://browser/skin/fxa/avatar-empty.svg");
}
#appMenu-fxa-status2:is([fxastatus="signedin"], [fxastatus="unverified"], [fxastatus="login-failed"])::before {
  display: none;
}
#appMenu-fxa-status2:is([fxastatus="signedin"], [fxastatus="unverified"], [fxastatus="login-failed"])
  #appMenu-fxa-label2::before {
  /* url("https://profile.accounts.firefox.com/v1/avatar/a") */
  content: "";
  border-radius: 50% !important;
  background-size: 16px !important;
  background-image: var(--avatar-image-url) !important;
}

#appMenu-new-tab-button2 {
  list-style-image: url("chrome://browser/skin/new-tab.svg");
}
#appMenu-new-window-button2 {
  list-style-image: url("chrome://browser/skin/window.svg");
}
#appMenu-new-private-window-button2 {
  list-style-image: url("chrome://browser/skin/privateBrowsing.svg");
}

#appMenu-bookmarks-button {
  list-style-image: url("chrome://browser/skin/bookmark.svg");
}
#appMenu-history-button {
  list-style-image: url("chrome://browser/skin/history.svg");
}
#appMenu-downloads-button {
  list-style-image: url("chrome://browser/skin/downloads/downloads.svg");
}
#appMenu-passwords-button {
  list-style-image: url("chrome://browser/skin/login.svg");
}
#appMenu-extensions-themes-button {
  list-style-image: url("chrome://mozapps/skin/extensions/extension.svg");
}

#appMenu-print-button2 {
  list-style-image: url("chrome://global/skin/icons/print.svg");
}
#appMenu-save-file-button2 {
  list-style-image: url("chrome://browser/skin/save.svg");
}
#appMenu-find-button2 {
  list-style-image: url("chrome://global/skin/icons/search-glass.svg");
}
#appMenu-zoom-controls2::before {
  content: url("./icons/screenshot.svg");
}

#appMenu-settings-button {
  list-style-image: url("chrome://global/skin/icons/settings.svg");
}
#appMenu-more-button2 {
  list-style-image: url("chrome://browser/skin/ion.svg");
}
#appMenu-help-button2 {
  list-style-image: url("chrome://global/skin/icons/help.svg");
}

#appMenu-quit-button2 {
  list-style-image: url("./icons/quit.svg");
}

/*= Panel - Account ==========================================================*/
#PanelUI-fxa-menu-connect-device-button .toolbarbutton-icon,
#PanelUI-fxa-menu-account-signout-button .toolbarbutton-icon {
  width: 16px !important;
  height: 16px !important;
}

/* Default */
#fxa-manage-account-button::before {
  content: "";
  display: -moz-inline-box;
  width: 32px !important;
  height: 32px !important;
  border-radius: 50%;
  background-size: 32px;
  background-image: var(--avatar-image-url);
  margin-inline-end: var(--arrowpanel-menuicon-padding);
}

.syncNowBtn {
  visibility: visible !important;
  -moz-box-ordinal-group: 1 !important;
  margin-inline-end: var(--arrowpanel-menuicon-padding);
}
#PanelUI-fxa-menu-setup-sync-button {
  list-style-image: url("chrome://browser/skin/sync.svg");
}

#PanelUI-fxa-menu-connect-device-button {
  list-style-image: url("chrome://browser/skin/fxa/add-device.svg");
}
#PanelUI-fxa-menu-sendtab-button {
  list-style-image: url("./icons/send-to-device.svg");
}
#PanelUI-fxa-menu-sync-prefs-button {
  list-style-image: url("chrome://global/skin/icons/settings.svg");
}
#PanelUI-fxa-menu-account-signout-button {
  list-style-image: url("./icons/sign-out.svg");
}
#PanelUI-remotetabs-view-managedevices::before {
  /* Box */
  content: "";
  padding-inline-end: 16px;
  padding-block: 1px;
  margin-inline-end: var(--arrowpanel-menuicon-padding);

  /* Color */
  fill: currentColor;
  fill-opacity: var(--toolbarbutton-icon-fill-opacity);
  -moz-context-properties: fill;

  background-size: 16px;
  background-repeat: no-repeat;
  background-position: left center;
  background-image: url("chrome://global/skin/icons/settings.svg");
}

.PanelUI-remotetabs-notabsforclient-label {
  margin-inline-start: calc(
    var(--arrowpanel-menuicon-padding) + var(--arrowpanel-menuitem-padding)
  ) !important;
  padding-inline-start: var(--arrowpanel-menublank-padding) !important;
}

/* Change Separator */
#PanelUI-fxa-menu::before {
  content: "";
  display: -moz-box;
  border-bottom: 1px solid var(--panel-separator-color);
  margin: var(--panel-separator-margin);
  padding: 0;
}
#PanelUI-fxa-menu > :first-child {
  -moz-box-ordinal-group: 0;
}
#PanelUI-sign-out-separator {
  display: none;
}
.pageAction-sendToDevice-device.subviewbutton.sync-menuitem.sendtab-target[clientType=""], /* Legacy */
  .sendToDevice-device.subviewbutton.sync-menuitem.sendtab-target[clientType=""] {
  list-style-image: url("./icons/send-to-device.svg");
}
.pageAction-sendToDevice-device.subviewbutton.sync-menuitem.sendtab-target:not([clientType]), /* Legacy */
  .sendToDevice-device.subviewbutton.sync-menuitem.sendtab-target:not([clientType]) {
  list-style-image: url("chrome://global/skin/icons/settings.svg");
}

/*= Panel - Bookmark =========================================================*/
#panelMenuBookmarkThisPage {
  list-style-image: url("chrome://browser/skin/bookmark-hollow.svg");
}
panelMenuBookmarkThisPage[starred] {
  list-style-image: url("chrome://browser/skin/bookmark.svg");
}

#panelMenu_searchBookmarks {
  list-style-image: url("chrome://global/skin/icons/search-glass.svg");
}
#panelMenu_viewBookmarksToolbar {
  list-style-image: url("chrome://browser/skin/bookmarks-toolbar.svg");
}

#panelMenu_showAllBookmarks {
  list-style-image: url("chrome://browser/skin/bookmark-star-on-tray.svg");
}

/*= Panel - History ==========================================================*/
#appMenuRecentlyClosedTabs {
  list-style-image: url("chrome://browser/skin/tab.svg");
}
#appMenuRecentlyClosedWindows {
  list-style-image: url("chrome://browser/skin/window.svg");
}
#appMenuRestoreSession {
  list-style-image: url("./icons/restore-session.svg");
}
#appMenuClearRecentHistory {
  list-style-image: url("chrome://browser/skin/forget.svg");
}

#PanelUI-historyMore {
  list-style-image: url("chrome://browser/skin/history.svg");
}

#appMenu-library-recentlyClosedTabs {
  list-style-image: url("./icons/movetowindow-16.svg");
}
#appMenu-library-recentlyClosedWindows {
  list-style-image: url("./icons/restore-session.svg");
}

/*= Panel - More tools =======================================================*/
#appmenu-moreTools-button {
  list-style-image: url("chrome://browser/skin/customize.svg");
}

/* Web Developer Tools */
#appmenu-developer-tools-view .subviewbutton:nth-child(1),
#PanelUI-developer-tools-view .subviewbutton:nth-child(1) {
  list-style-image: url("./icons/developer.svg");
}
/* Task Manager */
#appmenu-developer-tools-view .subviewbutton:nth-child(2),
#PanelUI-developer-tools-view .subviewbutton:nth-child(2) {
  list-style-image: url("./icons/performance.svg");
}
/* Remote Debugging - Edge bug.svg */
#appmenu-developer-tools-view .subviewbutton:nth-child(3),
#PanelUI-developer-tools-view .subviewbutton:nth-child(3) {
  list-style-image: url("./icons/bug.svg");
}
/* Browser Toolbox - Edge webdeveloper.svg */
#appmenu-developer-tools-view .subviewbutton:nth-child(4),
#PanelUI-developer-tools-view .subviewbutton:nth-child(4) {
  list-style-image: url("./icons/window-dev-tools.svg");
}
/* Browser Content Toolbaox -  */
#appmenu-developer-tools-view .subviewbutton:nth-child(5),
#PanelUI-developer-tools-view .subviewbutton:nth-child(5) {
  list-style-image: url("./icons/command-frames.svg");
}
/* Browser Console */
#appmenu-developer-tools-view .subviewbutton:nth-last-child(5),
#PanelUI-developer-tools-view .subviewbutton:nth-last-child(5) {
  list-style-image: url("chrome://devtools/skin/images/command-console.svg");
}
/* Responsive Design Mode */
#appmenu-developer-tools-view .subviewbutton:nth-last-child(4),
#PanelUI-developer-tools-view .subviewbutton:nth-last-child(4) {
  list-style-image: url("./icons/command-responsivemode.svg");
}
/* Eyedropper */
#appmenu-developer-tools-view .subviewbutton:nth-last-child(3),
#PanelUI-developer-tools-view .subviewbutton:nth-last-child(3) {
  list-style-image: url("chrome://devtools/skin/images/command-eyedropper.svg");
}
/* Page Source - Edge file-search.svg */
#appmenu-developer-tools-view .subviewbutton:nth-last-child(2),
#PanelUI-developer-tools-view .subviewbutton:nth-last-child(2) {
  list-style-image: url("./icons/document-search.svg");
}
/* Extensions for Devel */
#appmenu-developer-tools-view .subviewbutton:nth-last-child(1),
#PanelUI-developer-tools-view .subviewbutton:nth-last-child(1) {
  list-style-image: url("chrome://devtools/skin/images/debugging-addons.svg");
}
#appmenu-developer-tools-view .subviewbutton:last-child {
  margin-bottom: 6px !important;
}

/*= Panel - Help =============================================================*/
#appMenu_menu_openHelp {
  list-style-image: url("chrome://global/skin/icons/help.svg");
}
#appMenu_feedbackPage {
  list-style-image: url("./icons/send.svg");
}
#appMenu_helpSafeMode {
  list-style-image: url("chrome://devtools/skin/images/debugging-workers.svg");
}
#appMenu_troubleShooting {
  list-style-image: url("chrome://global/skin/icons/more.svg");
}
#appMenu_help_reportSiteIssue {
  list-style-image: url("chrome://global/skin/icons/lightbulb.svg");
}
#appMenu_menu_HelpPopup_reportPhishingtoolmenu {
  list-style-image: url("chrome://global/skin/icons/warning.svg");
}
#appMenu_aboutName {
  list-style-image: url("chrome://global/skin/icons/info.svg");
}

/*= Panel - Library ==========================================================*/
#appMenu-library-bookmarks-button {
  list-style-image: url("chrome://browser/skin/bookmark.svg");
}
#appMenu-library-history-button {
  list-style-image: url("chrome://browser/skin/history.svg");
}
#appMenu-library-downloads-button {
  list-style-image: url("chrome://browser/skin/downloads/downloads.svg");
}

/*= Panel - Downloads ========================================================*/
#downloadsHistory {
  list-style-image: url("chrome://browser/skin/downloads/downloads.svg");
}
#downloadsHistory .box-inherit.button-box {
  display: -moz-inline-box !important;
}

/*= Toolbar - Overflow Menu ==================================================*/
#overflowMenu-customize-button {
  list-style-image: url("chrome://browser/skin/customize.svg");
}

/*= Tabbar - All Tab Menu ====================================================*/
#allTabsMenu-undoCloseTab {
  list-style-image: url("chrome://global/skin/icons/undo.svg");
}
#allTabsMenu-searchTabs {
  list-style-image: url("chrome://global/skin/icons/search-glass.svg");
}
#allTabsMenu-containerTabsButton {
  list-style-image: url("./icons/container-openin-16.svg");
}

#allTabsMenu-hiddenTabsButton {
  list-style-image: url("./icons/password-hide.svg");
}

#allTabsMenu-containerTabsView .subviewbutton:last-child {
  list-style-image: url("chrome://global/skin/icons/settings.svg");
}

/*= BMB_bookmarksPopup =======================================================*/
#BMB_viewBookmarksSidebar {
}
#BMB_bookmarksShowAllTop,
#BMB_bookmarksShowAll {
  --menuitem-image: url("chrome://browser/skin/bookmark-star-on-tray.svg");
}
#BMB_bookmarksToolbar {
  --menuitem-image: url("chrome://browser/skin/bookmarks-toolbar.svg");
}

@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  #BMB_bookmarksShowAllTop {
    list-style-image: url("chrome://browser/skin/bookmark-star-on-tray.svg") !important;
  }
  #BMB_bookmarksShowAllTop > .menu-iconic-left {
    display: -moz-box !important;
  }
}

/*= protections-popup ========================================================*/
#protections-popup-settings-button > .protections-popup-settings-icon,
#protections-popup-show-report-button > .protections-popup-show-report-icon {
  -moz-context-properties: fill;
  fill: currentColor;
  margin-inline-end: 1em;
}

#protections-popup-settings-button > .protections-popup-settings-icon,
#protections-popup-multiView .panel-subview-footer-button {
  list-style-image: url("chrome://global/skin/icons/settings.svg");
}

#protections-popup-show-report-button > .protections-popup-show-report-icon {
  /* chrome://browser/skin/controlcenter/dashboard.svg */
  list-style-image: url("icons/dashboard.svg");
}

/*= identity-popup ===========================================================*/
#identity-popup-clear-sitedata-button,
#identity-popup-more-info {
  padding-inline: 5px !important;
}

#identity-popup-securityView-body {
  margin-inline-start: 32px !important; /* Original: 10px */
}

#identity-popup-clear-sitedata-button {
  list-style-image: url("./icons/broom.svg");
}

/*= sidebarMenu-popup ========================================================*/
#identity-popup-more-info {
  list-style-image: url("chrome://global/skin/icons/info.svg");
}

#sidebar-switcher-bookmarks {
  list-style-image: url("chrome://browser/skin/bookmark.svg");
}

#sidebar-switcher-history {
  list-style-image: url("chrome://browser/skin/history.svg");
}

#sidebar-switcher-tabs {
  list-style-image: url("chrome://browser/skin/tab.svg");
}

#sidebar-reverse-position {
  list-style-image: url("chrome://browser/skin/sidebars-right.svg");
}
#sidebar-box[positionend="true"] #sidebar-reverse-position {
  /* Can't apply this. shadow dom */
  list-style-image: url("chrome://browser/skin/sidebars.svg");
}

#sidebarMenu-popup > .subviewbutton[data-l10n-id="sidebar-menu-close"] {
  list-style-image: url("chrome://global/skin/icons/close.svg");
}

/** Menu - Icons Layout *******************************************************/
menupopup menuitem:not([type="checkbox"], [type="radio"]),
menupopup menu:not([type="checkbox"], [type="radio"]),
#main-menubar > menu {
  -moz-appearance: none !important; /* Linux: menulist */
}

/* Icon */
:not(menu, #ContentSelectDropdown)
  > menupopup
  > menuitem:not(.menuitem-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
:not(menu, #ContentSelectDropdown)
  > menupopup
  > menu:not(.menu-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
#main-menubar > menu,
menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
  menuitem:not(.menuitem-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
  menu:not(.menu-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
menupopup:is(#organizeButtonPopup, #maintenanceButtonPopup) > menuitem,
menupopup:is(#viewMenuPopup, #maintenanceButtonPopup) > menu,
menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup) > menuitem,
#blockedPopupDontShowMessage,
menuitem.privatetab-icon /* Waterfox */ {
  /* Color */
  -moz-context-properties: fill, fill-opacity !important;
  fill: currentColor !important;

  /* Layout */
  background-size: 16px !important;
  background-repeat: no-repeat !important;
  background-image: var(--menuitem-image);
}

/* For native context menus on macOS */
@supports -moz-bool-pref("widget.macos.native-context-menus") {
  :not(menu, #ContentSelectDropdown)
    > menupopup
    > menuitem:not(.menuitem-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  :not(menu, #ContentSelectDropdown)
    > menupopup
    > menu:not(.menu-iconic, [type="checkbox"], [checked="true"], .in-menulist) {
    list-style-image: var(--menuitem-image) !important;
  }
}

/* Padding */
:root {
  --context-menu-background-padding-default: 5px;
  --context-menu-background-padding: var(
    --context-menu-background-padding-default
  );
}
:not(menu, #ContentSelectDropdown, #context-navigation) > menupopup > menuitem:not(.menuitem-iconic),
:not(menu, #ContentSelectDropdown, #context-navigation) > menupopup > menu:not(.menu-iconic),
menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
  menuitem:not(.menuitem-iconic, .in-menulist, [type="checkbox"], [checked="true"], .bookmark-item),
menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
  menu:not(.menu-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
menupopup:is(#organizeButtonPopup, #maintenanceButtonPopup) > menuitem,
menupopup:is(#viewMenuPopup, #maintenanceButtonPopup) > menu,
menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup) > menuitem,
#blockedPopupDontShowMessage,
menuitem.privatetab-icon /* Waterfox */ {
  background-position: left var(--context-menu-background-padding) center !important;
  padding-inline-start: var(--context-menu-background-padding) !important;
}

/* Menubar */
#main-menubar > menu {
  background-position: left var(--context-menu-background-padding-default)
    center !important;
  padding-inline-start: calc(
    16px + var(--context-menu-background-padding-default)
  ) !important;
  padding-inline-end: 3px;
}
#main-menubar > menu:first-child {
  background-position: left
    calc(3px + var(--context-menu-background-padding-default)) center !important;
  padding-inline-start: calc(
    19px + var(--context-menu-background-padding-default)
  ) !important;
}
#main-menubar > menu > menupopup {
  --menuitem-image: none; /* Prevent Image Inheritance */
}

/* Padding - Windows */
@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  (-moz-os-version: windows-win10),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8),
  (-moz-platform: windows-win10) {
  /* Checkbox */
  :root {
    --context-menu-text-padding: calc(
      var(--menu-padding) + var(--context-menu-background-padding-default) +
        16px
    );
  }
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem[type="checkbox"][checked="false"]
    > .menu-iconic-left {
    padding-inline-start: var(--context-menu-text-padding);
  }
}

@media (-moz-os-version: windows-win7),
  /* Legacy - v99 */ (-moz-platform: windows-win7) {
  :root {
    --context-menu-background-padding-default: 2px;
  }
}
@media (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win8) {
  :root {
    --context-menu-background-padding-default: 3px;
  }
}
@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8) {
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem:not(.menuitem-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menu:not(.menu-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
    menuitem:not(.menuitem-iconic, .in-menulist, [type="checkbox"], [checked="true"], .bookmark-item),
  menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
    menu:not(.menu-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
  menupopup:is(#organizeButtonPopup, #maintenanceButtonPopup) > menuitem,
  menupopup:is(#viewMenuPopup, #maintenanceButtonPopup) > menu,
  menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup) > menuitem,
  #blockedPopupDontShowMessage,
  menuitem.privatetab-icon /* Waterfox */ {
    background-position: left var(--context-menu-background-padding) center !important;
    padding-inline-start: 0 !important;
  }
}
@media (-moz-os-version: windows-win10),
  /* Legacy - v99 */ (-moz-platform: windows-win10) {
  :root {
    --context-menu-background-padding: 1em;
    --context-menu-text-padding: 24px; /* 16px + 8px */
    --menu-background-padding-default: calc(
      var(--context-menu-background-padding) + var(--context-menu-text-padding)
    );
  }

  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem:not(.menuitem-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menu:not(.menu-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
    menuitem:not(.menuitem-iconic, .in-menulist, [type="checkbox"], [checked="true"], .bookmark-item),
  menupopup:is(#menu_FilePopup, #menu_EditPopup, #menu_viewPopup, #goPopup, #historyMenuPopup, #bookmarksMenuPopup, #menu_ToolsPopup, #menu_HelpPopup)
    menu:not(.menu-iconic, .in-menulist, [type="checkbox"], [checked="true"]),
  menupopup:is(#organizeButtonPopup, #maintenanceButtonPopup) > menuitem,
  menupopup:is(#viewMenuPopup, #maintenanceButtonPopup) > menu,
  menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup) > menuitem,
  #blockedPopupDontShowMessage,
  menuitem.privatetab-icon /* Waterfox */ {
    padding-inline-start: var(--menu-background-padding-default) !important;
    margin-left: 0 !important;
  }
}

/* Padding - Linux */
@media (-moz-gtk-csd-available) {
  :root {
    --context-menu-background-padding-default: 6px;
  }

  #main-menubar > menu > .menubar-text {
    padding-inline-start: 3px;
  }
}

/* Padding - Mac */
@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  :root {
    --context-menu-background-padding-default: 10px;
    --context-menu-mac-padding: 21px;
  }

  /* context menu width */
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem:not(.menuitem-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menu:not(.menu-iconic, [type="checkbox"], [checked="true"], .in-menulist),
  #blockedPopupDontShowMessage {
    padding-inline-end: var(--context-menu-background-padding) !important;
  }

  /* text position */
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem
    > .menu-text,
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menu
    > menu-text {
    padding-inline-start: var(--context-menu-mac-padding) !important;
  }

  /* Checkbox menuitem, None iconic menu */
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menuitem[type="checkbox"],
  :not(menu, #ContentSelectDropdown, #context-navigation)
    > menupopup
    > menu:not(.menu-iconic) {
    padding-inline-start: calc(
      var(--context-menu-background-padding) + var(--context-menu-mac-padding)
    ) !important;
  }
}

/*= Bookmark Menu - Layout ===================================================*/
/* #goPopup(Legacy of historyMenuPoup), #historyMenuPopup, #bookmarksMenuPopup: looks like global menu
   * #BMB_bookmarksPopup: looks like arrow panel
   */

/* Empty Menu */
menupopup menupopup[emptyplacesresult] .menu-text,
#PersonalToolbar menupopup[emptyplacesresult] .menu-text {
  margin-inline-start: 0 !important;
}

/* Bookmark Popup - As Arrow Panel */
#BMB_bookmarksPopup,
#PersonalToolbar {
  --context-menu-background-padding: var(--arrowpanel-menuitem-padding);
}

/* Windows 7, 8 */
@media (-moz-os-version: windows-win7),
  (-moz-os-version: windows-win8),
  /* Legacy - v99 */ (-moz-platform: windows-win7),
  (-moz-platform: windows-win8) {
  /* Global Menu */
  menupopup:is(#goPopup, #historyMenuPopup, #bookmarksMenuPopup)
    .bookmark-item {
    padding-inline-start: 0 !important;
  }

  /* Bookmark Popup - None icon menu */
  #BMB_bookmarksPopup,
  #PersonalToolbar {
    --arrowpanel-menuicon-padding: 9px;
  }
  menupopup:is(#BMB_bookmarksPopup)
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  menupopup:is(#BMB_bookmarksPopup) menu:not(.menu-iconic),
  #PersonalToolbar
    menupopup[placespopup="true"]
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  #PersonalToolbar menupopup[placespopup="true"] menu:not(.menu-iconic) {
    margin-inline: var(--arrowpanel-menuitem-padding) !important;
    background-position: left calc(var(--arrowpanel-menuicon-padding)) center !important;
  }
  menupopup:is(#BMB_bookmarksPopup)
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  menupopup:is(#BMB_bookmarksPopup) menu:not(.menu-iconic) {
    padding-inline-start: calc(
      var(--arrowpanel-menuicon-padding) + var(--context-menu-text-padding) +
        2px
    ) !important;
  }
  #PersonalToolbar
    menupopup[placespopup="true"]
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  #PersonalToolbar menupopup[placespopup="true"] menu:not(.menu-iconic) {
    padding-inline-start: var(--arrowpanel-menuicon-padding) !important;
  }
}

/* Windows */
@media (-moz-os-version: windows-win10),
  /* Legacy - v99 */ (-moz-platform: windows-win10) {
  /* Bookmark Popup - None icon menu */
  menupopup:is(#BMB_bookmarksPopup)
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  menupopup:is(#BMB_bookmarksPopup) menu:not(.menu-iconic),
  #PersonalToolbar
    menupopup[placespopup="true"]
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  #PersonalToolbar menupopup[placespopup="true"] menu:not(.menu-iconic) {
    margin-inline: var(--arrowpanel-menuitem-padding) !important;
    padding-inline-start: calc(
      var(--arrowpanel-menuicon-padding) + var(--context-menu-text-padding)
    ) !important;
    background-position: left calc(var(--arrowpanel-menuicon-padding)) center !important;
  }
}

/* Linux */
@media (-moz-gtk-csd-available) {
  /* Global Menu */
  menupopup:is(#goPopup, #historyMenuPopup, #bookmarksMenuPopup)
    .bookmark-item {
    padding-inline-start: var(--context-menu-background-padding) !important;
  }

  /* Bookmark Popup - Iconic menu */
  #BMB_bookmarksPopup .menu-iconic-text,
  #PersonalToolbar
    menupopup[placespopup="true"]
    .bookmark-item
    .menu-iconic-text {
    padding-inline-start: 1px !important;
  }
  /* Bookmark Popup - None icon menu */
  menupopup:is(#BMB_bookmarksPopup)
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  menupopup:is(#BMB_bookmarksPopup) menu:not(.menu-iconic),
  #PersonalToolbar
    menupopup[placespopup="true"]
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  #PersonalToolbar menupopup[placespopup="true"] menu:not(.menu-iconic) {
    padding-inline-start: calc(
      var(--arrowpanel-menuitem-padding) + 1px
    ) !important;
  }
}

@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  /* Bookmark Popup - As Arrow Panel */
  #PersonalToolbar menupopup menuitem,
  #PersonalToolbar menupopup menu {
    padding-inline: calc(
      var(--arrowpanel-menuicon-padding) + var(--arrowpanel-menuitem-padding)
    ) !important;
  }

  /* Bookmark Popup - None icon menu */
  menupopup:is(#BMB_bookmarksPopup)
    menuitem:not(.menuitem-iconic, [disabled="true"]),
  menupopup:is(#BMB_bookmarksPopup) menu:not(.menu-iconic) {
    padding-inline-start: calc(
      var(--arrowpanel-menuitem-padding) + 3px
    ) !important;
  }
}

/** Context Menu - Icons ******************************************************/
/*= tabContextMenu ===========================================================*/
#context_openANewTab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}

#context_reloadTab,
#context_reloadSelectedTabs {
  --menuitem-image: url("./icons/reload.svg");
}
#context_toggleMuteTab,
#context_toggleMuteSelectedTabs {
  --menuitem-image: url("chrome://browser/skin/tabbrowser/tab-audio-muted-small.svg");
}
#context_toggleMuteTab[muted],
#context_toggleMuteSelectedTabs[muted] {
  --menuitem-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
}
#context_pinTab,
#context_pinSelectedTabs {
  --menuitem-image: url("./icons/pin-tab.svg");
}
#context_unpinTab,
#context_unpinSelectedTabs {
  --menuitem-image: url("./icons/unpin-tab.svg");
}
#context_duplicateTab,
#context_duplicateTabs {
  --menuitem-image: url("./icons/notebook-subsection.svg");
}

#context_bookmarkTab,
#context_bookmarkSelectedTabs {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#context_moveTabOptions {
  --menuitem-image: url("./icons/arrow-swap.svg");
}
#context_sendTabToDevice {
  --menuitem-image: url("./icons/send-to-device.svg");
}

#context_sendTabToDevice:is([disabled="true"]) + #context_shareTabURL, /* Legacy */
  #context_sendTabToDevice:is([disabled="true"]) + menuitem.share-tab-url-item {
  /* At windows */
  --menuitem-image: url("./icons/share.svg");
}
#context_reopenInContainer {
  --menuitem-image: url("./icons/container-openin-16.svg");
}
#context_selectAllTabs {
  --menuitem-image: url("./icons/tab-multiple.svg");
}

#context_closeTab {
  --menuitem-image: url("chrome://global/skin/icons/close.svg");
}
#context_closeTabOptions {
}
#context_undoCloseTab {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}

/*= new-tab-button-popup =====================================================*/
#new-tab-button-popup > menuitem[command="Browser:OpenAboutContainers"],
.new-tab-popup > menuitem[command="Browser:OpenAboutContainers"] {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}

/*= toolbar-context-menu =====================================================*/
.customize-context-manageExtension {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}
.customize-context-removeExtension {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
.customize-context-reportExtension {
  --menuitem-image: url("./icons/send.svg");
}

.customize-context-moveToPanel {
  --menuitem-image: url("chrome://browser/skin/pin-12.svg");
}
.toolbar-context-autohide-downloads-button {
  --menuitem-image: url("./icons/password-hide.svg");
}
.customize-context-removeFromToolbar {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
#toolbar-context-openANewTab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}

#toolbar-context-reloadSelectedTab,
#toolbar-context-reloadSelectedTabs {
  --menuitem-image: url("./icons/reload.svg");
}
#toolbar-context-bookmarkSelectedTab,
#toolbar-context-bookmarkSelectedTabs {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#toolbar-context-selectAllTabs {
  --menuitem-image: url("./icons/tab-multiple.svg");
}
#toolbar-context-undoCloseTab {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}

#toggle_toolbar-menubar {
  /* checkbox */
  /* --menuitem-image: url("./icons/calendar-agenda.svg"); */
}
#toggle_PersonalToolbar {
  /* Also placeContext */
  --menuitem-image: url("chrome://browser/skin/bookmarks-toolbar.svg");
}

menuitem.viewCustomizeToolbar {
  --menuitem-image: url("chrome://browser/skin/customize.svg");
}

/*= blockedPopupOptions ======================================================*/
#blockedPopupAllowSite {
  --menuitem-image: url("chrome://global/skin/icons/check.svg");
}
#blockedPopupOptions
  > menuitem[oncommand="gPopupBlockerObserver.editPopupSettings();"] {
  --menuitem-image: url("chrome://global/skin/icons/edit.svg");
}
#blockedPopupDontShowMessage {
  /* checkbox */
  --menuitem-image: url("chrome://global/skin/icons/blocked.svg");
}

/*= autohide-context =========================================================*/
#autohide-context > menuitem[data-l10n-id="full-screen-autohide"] {
  /* checkbox */
}

#autohide-context > menuitem[data-l10n-id="full-screen-exit"] {
  --menuitem-image: url("chrome://browser/skin/fullscreen-exit.svg");
}

/*= contentAreaContextMenu ===================================================*/
#context-viewsource-goToLine {
  --menuitem-image: url("./icons/text-number-format.svg");
}
#context-viewsource-wrapLongLines {
  /* checkbox */
  /* --menuitem-image: url("./icons/arrow-sort-down-lines.svg"); */
}

#context-viewsource-highlightSyntax {
  /* checkbox */
  /* --menuitem-image: url("./icons/code.svg"); */
}

#spell-no-suggestions {
  --menuitem-image: url("./icons/text-proofing-tools.svg");
}
#spell-add-to-dictionary {
  --menuitem-image: url("./icons/book-add.svg");
}
#spell-undo-add-to-dictionary {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}

#context-openlinkincurrent {
  --menuitem-image: url("./icons/link-square.svg");
}
#context-openlinkincontainertab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}
#context-openlinkintab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}
#context-openlinkinusercontext-menu {
  --menuitem-image: url("./icons/container-openin-16.svg");
}
#context-openlink {
  --menuitem-image: url("chrome://browser/skin/window.svg");
}
#context-openlinkprivate {
  --menuitem-image: url("chrome://browser/skin/privateBrowsing.svg");
}

#context-bookmarklink {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#context-savelink {
  --menuitem-image: url("chrome://browser/skin/save.svg");
}
#context-savelinktopocket {
  --menuitem-image: url("./icons/pocket-outline.svg");
}
#context-copyemail {
  --menuitem-image: url("chrome://browser/skin/mail.svg");
}
#context-copylink {
  --menuitem-image: url("./icons/link.svg");
}
#context-sendlinktodevice {
  --menuitem-image: url("./icons/send-to-device.svg");
}

#context-media-play {
  --menuitem-image: url("chrome://global/skin/media/play-fill.svg");
}
#context-media-pause {
  --menuitem-image: url("chrome://global/skin/media/pause-fill.svg");
}
#context-media-mute {
  --menuitem-image: url("chrome://global/skin/media/audio-muted.svg");
}
#context-media-unmute {
  --menuitem-image: url("chrome://global/skin/media/audio.svg");
}
#context-media-playbackrate {
  --menuitem-image: url("./icons/time-picker.svg");
}
#context-media-loop {
  /* checkbox */
  /* --menuitem-image: url("./icons/arrow-repeat-all.svg"); */
}
#context-leave-dom-fullscreen {
  --menuitem-image: url("chrome://global/skin/media/fullscreenExitButton.svg");
}
#context-video-fullscreen {
  --menuitem-image: url("chrome://global/skin/media/fullscreenEnterButton.svg");
}
#context-media-hidecontrols {
  --menuitem-image: url("./icons/eye-hide.svg");
}
#context-media-showcontrols {
  --menuitem-image: url("./icons/eye-show.svg");
}

#context-viewvideo {
  --menuitem-image: url("./icons/video.svg");
}
#context-video-pictureinpicture {
  /* checkbox */
  /* --menuitem-image: url("chrome://global/skin/media/picture-in-picture-open.svg"); */
}

#context-reloadimage {
  --menuitem-image: url("./icons/image-arrow-counterclockwise.svg");
}
#context-viewimage {
  --menuitem-image: url("./icons/image-add.svg");
}
#context-saveimage {
  --menuitem-image: url("./icons/image.svg");
}
#context-video-saveimage {
  --menuitem-image: url("./icons/video-snapshot.svg");
}
#context-savevideo {
  --menuitem-image: url("./icons/video.svg");
}
#context-saveaudio {
  --menuitem-image: url("chrome://global/skin/media/audio.svg");
}
#context-copyimage-contents {
  --menuitem-image: url("./icons/image-copy.svg");
}
#context-copyimage,
#context-copyvideourl,
#context-copyaudiourl {
  --menuitem-image: url("./icons/link.svg");
}
#context-sendimage,
#context-sendvideo,
#context-sendaudio {
  --menuitem-image: url("chrome://browser/skin/mail.svg");
}
#context-viewimageinfo {
  --menuitem-image: url("chrome://global/skin/icons/info.svg");
}
#context-viewimagedesc {
  --menuitem-image: url("./icons/image-alt-text.svg");
}
#context-setDesktopBackground {
  --menuitem-image: url("./icons/resize-image.svg");
}
#context-ctp-play {
  --menuitem-image: url("chrome://global/skin/icons/plugin.svg");
}
#context-ctp-hide {
  --menuitem-image: url("chrome://global/skin/icons/plugin-blocked.svg");
}

#context-savepage {
  --menuitem-image: url("chrome://browser/skin/save.svg");
}
#context-pocket {
  --menuitem-image: url("./icons/pocket-outline.svg");
}
#context-sendpagetodevice {
  --menuitem-image: url("./icons/send-to-device.svg");
}
#fill-login {
  --menuitem-image: url("./icons/password.svg");
}
#fill-login-generated-password {
  --menuitem-image: url("chrome://browser/skin/login.svg");
}
#manage-saved-logins {
  --menuitem-image: url("./icons/key-multiple.svg");
}

#context-undo {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
#context-redo {
}

#context-cut {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#context-copy {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#context-paste {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
#context-delete {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
#context-selectall {
  --menuitem-image: url("./icons/select-all-on.svg");
}
#context-print-selection {
  --menuitem-image: url("chrome://global/skin/icons/print.svg");
}

#context-take-screenshot {
  --menuitem-image: url("chrome://browser/skin/screenshot.svg");
}

#context-keywordfield {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#context-searchselect,
#context-searchselect-private {
  --menuitem-image: url("chrome://global/skin/icons/search-glass.svg");
}

#frame {
  --menuitem-image: url("./icons/command-frames.svg");
}

#spell-check-enabled {
  /* checkbox */
}
#spell-add-dictionaries-main {
  --menuitem-image: url("./icons/book-add.svg");
}
#spell-dictionaries {
  --menuitem-image: url("./icons/book.svg");
}

#context-bidi-text-direction-toggle {
  --menuitem-image: url("./icons/text-direction-horizontal-ltr.svg");
}
#context-bidi-page-direction-toggle {
  --menuitem-image: url("./icons/document-landscape-split-hint.svg");
}

#context-viewpartialsource-selection,
#context-viewsource {
  --menuitem-image: url("./icons/document-search.svg");
}
#context-inspect-a11y {
  --menuitem-image: url("chrome://devtools/skin/images/tool-accessibility.svg");
}
#context-inspect {
  --menuitem-image: url("./icons/command-pick.svg");
}

#context-media-eme-learnmore {
  /* iconic */
}

@supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled") {
  #context-back {
    --menuitem-image: url("chrome://browser/skin/back.svg");
  }
  #context-forward {
    --menuitem-image: url("chrome://browser/skin/forward.svg");
  }
  #context-reload {
    --menuitem-image: url("./icons/reload.svg");
  }
  #context-stop {
    --menuitem-image: url("chrome://global/skin/icons/close.svg");
  }

  #context-bookmarkpage {
    --menuitem-image: url("chrome://browser/skin/bookmark.svg");
  }
}

/*= pictureInPictureToggleContextMenu ========================================*/
#pictureInPictureToggleContextMenu
  > menuitem[oncommand="PictureInPicture.hideToggle();"] {
  --menuitem-image: url("./icons/eye-hide.svg");
}

/*= placeContext =============================================================*/
#placesContext_open {
  --menuitem-image: url("./icons/link-square.svg");
}
#placesContext_openBookmarkContainer\:tabs,
#placesContext_openBookmarkLinks\:tabs {
  --menuitem-image: url("./icons/movetowindow-16.svg");
}
#placesContext_open\:newtab,
#placesContext_openContainer\:tabs,
#placesContext_openLinks\:tabs {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}
#placesContext_open\:newwindow {
  --menuitem-image: url("chrome://browser/skin/window.svg");
}
#placesContext_open\:newprivatewindow {
  --menuitem-image: url("chrome://browser/skin/privateBrowsing.svg");
}

#placesContext_show_bookmark\:info,
#placesContext_show\:info,
#placesContext_show_folder\:info {
  --menuitem-image: url("chrome://global/skin/icons/edit.svg");
}
#placesContext_deleteBookmark,
#placesContext_deleteFolder,
#placesContext_delete,
#placesContext_delete_history {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
#placesContext_deleteHost {
  --menuitem-image: url("./icons/eye-hide.svg");
}
#placesContext_sortBy\:name {
  --menuitem-image: url("./icons/text-sort-ascending.svg");
}

#placesContext_cut {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#placesContext_copy {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#placesContext_paste_group {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}

#placesContext_new\:bookmark {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#placesContext_new\:folder {
  --menuitem-image: url("./icons/folder.svg");
}
#placesContext_new\:separator {
  --menuitem-image: url("./icons/vertical-line.svg");
}

#placesContext_paste {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}

#placesContext_createBookmark {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#show-other-bookmarks_PersonalToolbar {
  /* checkbox */
  /* --menuitem-image: url("./icons/star-line-horizontal.svg"); */
}
#placesContext_showAllBookmarks {
  --menuitem-image: url("chrome://browser/skin/bookmark-star-on-tray.svg");
}

.openintabs-menuitem {
  --menuitem-image: url("./icons/movetowindow-16.svg");
}

/*= pageActionContextMenu ====================================================*/
.pageActionContextMenuItem.extensionPinned.extensionUnpinned.manageExtensionItem {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}
.pageActionContextMenuItem.extensionPinned.extensionUnpinned.removeExtensionItem {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}

/*= customizationPanelItemContextMenu ========================================*/
#customizationPanelItemContextMenuUnpin {
  --menuitem-image: url("./icons/unpin-tab.svg");
}
.customize-context-removeFromPanel {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}

/*= customizationPaletteItemContextMenu ======================================*/
.customize-context-addToToolbar {
  --menuitem-image: url("chrome://devtools/skin/images/dock-bottom.svg");
}
.customize-context-addToPanel {
  --menuitem-image: url("chrome://browser/skin/menu.svg");
}

/*= customizationPanelContextMenu ============================================*/
#customizationPanelContextMenu > menuitem[command="cmd_CustomizeToolbars"] {
  --menuitem-image: url("chrome://browser/skin/customize.svg");
}

/*= downloads-button-autohide-panel ==========================================*/
#downloads-button-autohide-checkbox {
  /* checkbox */
}

/*= downloadsContextMenu =====================================================*/
.downloadPauseMenuItem {
  --menuitem-image: url("chrome://global/skin/media/pause-fill.svg");
}
.downloadResumeMenuItem {
  --menuitem-image: url("chrome://global/skin/media/play-fill.svg");
}
.downloadUnblockMenuItem {
  --menuitem-image: url("./icons/checkmark-circle.svg");
}
.downloadUseSystemDefaultMenuItem {
  --menuitem-image: url("chrome://browser/skin/open.svg");
}
.downloadAlwaysUseSystemDefaultMenuItem {
  /* checkbox */
}
.downloadShowMenuItem {
  --menuitem-image: url("./icons/folder.svg");
}

#downloadsContextMenu > menuitem[command="downloadsCmd_openReferrer"] {
  --menuitem-image: url("./icons/link-square.svg");
}
#downloadsContextMenu > menuitem[command="downloadsCmd_copyLocation"] {
  --menuitem-image: url("./icons/link.svg");
}

.downloadDeleteFileMenuItem {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
.downloadRemoveFromHistoryMenuItem {
  --menuitem-image: url("./icons/eraser.svg");
}
#downloadsContextMenu > menuitem[command="downloadsCmd_clearList"],
#downloadsContextMenu > menuitem[command="downloadsCmd_clearDownloads"] {
  --menuitem-image: url("./icons/broom.svg");
}

/*= SyncedTabsSidebarContext =================================================*/
#syncedTabsOpenSelected {
  --menuitem-image: url("./icons/link-square.svg");
}
#syncedTabsOpenSelectedInTab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}
#syncedTabsOpenSelectedInWindow {
  --menuitem-image: url("chrome://browser/skin/window.svg");
}
#syncedTabsOpenSelectedInPrivateWindow {
  --menuitem-image: url("chrome://browser/skin/privateBrowsing.svg");
}

#syncedTabsBookmarkSelected {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#syncedTabsCopySelected {
  --menuitem-image: url("./icons/link.svg");
}

#syncedTabsOpenAllInTabs {
  --menuitem-image: url("./icons/movetowindow-16.svg");
}
#syncedTabsManageDevices {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}
#syncedTabsRefresh {
  --menuitem-image: url("chrome://browser/skin/sync.svg");
}

/*= SyncedTabsSidebarTabsFilterContext =======================================*/
#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_undo"] {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_cut"] {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_copy"] {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_paste"] {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_delete"] {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}

#SyncedTabsSidebarTabsFilterContext > menuitem[cmd="cmd_selectAll"] {
  --menuitem-image: url("./icons/select-all-on.svg");
}

#syncedTabsRefreshFilter {
  --menuitem-image: url("chrome://browser/skin/sync.svg");
}

/*= urlbar-input-container ===================================================*/
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_undo"] {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_redo"] {
}

#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_cut"] {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_copy"] {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_paste"] {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
#paste-and-go {
}
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_delete"] {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
#urlbar-input-container .textbox-contextmenu menuitem[cmd="cmd_selectAll"] {
  --menuitem-image: url("./icons/select-all-on.svg");
}

/*= textbox-contextmenu ======================================================*/
/* Browser's Searchbar, Libray's Searchbar, Page Info */
.textbox-contextmenu > menuitem[data-l10n-id="text-action-undo"] {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
.textbox-contextmenu > menuitem[data-l10n-id="text-action-redo"] {
}

.textbox-contextmenu > menuitem[data-l10n-id="text-action-cut"] {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
.textbox-contextmenu > menuitem[data-l10n-id="text-action-copy"] {
  --menuitem-image: url("./icons/edit-copy.svg");
}
.textbox-contextmenu > menuitem[data-l10n-id="text-action-paste"] {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
.textbox-contextmenu > menuitem[data-l10n-id="text-action-delete"] {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}
.textbox-contextmenu > menuitem[data-l10n-id="text-action-select-all"] {
  --menuitem-image: url("./icons/select-all-on.svg");
}

/* Only searchbar */
menuitem.searchbar-paste-and-search {
}
menuitem.searchbar-clear-history {
  --menuitem-image: url("chrome://browser/skin/forget.svg");
}

/*= context_sendTabToDevicePopupMenu =========================================*/
menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType="phone"] {
  --menuitem-image: url("chrome://browser/skin/device-phone.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType="tablet"] {
  --menuitem-image: url("chrome://browser/skin/device-tablet.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType="desktop"] {
  --menuitem-image: url("chrome://browser/skin/device-desktop.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType="tv"] {
  --menuitem-image: url("chrome://browser/skin/device-tv.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType="vr"] {
  --menuitem-image: url("chrome://browser/skin/device-vr.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target[clientType=""] {
  --menuitem-image: url("./icons/send-to-device.svg");
}

menupopup:is(#context_sendTabToDevicePopupMenu, #context-sendpagetodevice-popup)
  > .sync-menuitem.sendtab-target:not([clientType]) {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}

/** Global Menu ***************************************************************/
/*= main-menubar =============================================================*/
#file-menu {
  --menuitem-image: url("./icons/mail-inbox-all.svg");
}
#edit-menu {
  --menuitem-image: url("chrome://global/skin/icons/edit.svg");
}
#view-menu {
  --menuitem-image: url("./icons/content-view.svg");
}
#history-menu {
  --menuitem-image: url("chrome://browser/skin/history.svg");
}
#bookmarksMenu {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#tools-menu {
  --menuitem-image: url("./icons/toolbox.svg");
}
#helpMenu {
  --menuitem-image: url("chrome://global/skin/icons/help.svg");
}

/*= menu_FilePopup ===========================================================*/
#menu_newNavigatorTab {
  --menuitem-image: url("chrome://browser/skin/new-tab.svg");
}
#menu_newUserContext {
}
#menu_newNavigator {
  --menuitem-image: url("chrome://browser/skin/window.svg");
}
#menu_newPrivateWindow {
  --menuitem-image: url("chrome://browser/skin/privateBrowsing.svg");
}
#menu_newFissionWindow {
}
#menu_newNonFissionWindow {
}
#menu_openLocation {
}
#menu_openFile {
  --menuitem-image: url("chrome://browser/skin/open.svg");
}
#menu_close {
}
#menu_closeWindow {
}

#menu_savePage {
  --menuitem-image: url("chrome://browser/skin/save.svg");
}
#menu_sendLink {
  --menuitem-image: url("chrome://browser/skin/mail.svg");
}

#menu_printPreview {
}
#menu_print {
  --menuitem-image: url("chrome://global/skin/icons/print.svg");
}

#menu_importFromAnotherBrowser {
  --menuitem-image: url("chrome://browser/skin/import.svg");
}

#goOfflineMenuitem {
}
#menu_FileQuitItem {
  --menuitem-image: url("./icons/quit.svg");
}

/* Mange Containers */
#menu_newUserContext menupopup menuitem:last-child {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}

/*= menu_EditPopup ===========================================================*/
#menu_undo {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
#menu_redo {
}

#menu_cut {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#menu_copy {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#menu_paste {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
#menu_delete {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}

#menu_selectAll {
  --menuitem-image: url("./icons/select-all-on.svg");
}

#menu_find {
  --menuitem-image: url("chrome://global/skin/icons/search-glass.svg");
}
#menu_findAgain {
}

#textfieldDirection-swap {
}

#menu_preferences {
  --menuitem-image: url("chrome://global/skin/icons/settings.svg");
}

/*= menu_viewPopup ===========================================================*/
#viewToolbarsMenu {
  --menuitem-image: url("./icons/toolbar.svg");
}
#viewSidebarMenuMenu {
  --menuitem-image: url("chrome://browser/skin/sidebars.svg");
}

#viewFullZoomMenu {
  --menuitem-image: url("./icons/screenshot.svg");
}
#pageStyleMenu {
  --menuitem-image: url("./icons/document-css.svg");
}
#repair-text-encoding {
  --menuitem-image: url("chrome://browser/skin/characterEncoding.svg");
}

#fullScreenItem {
  --menuitem-image: url("chrome://browser/skin/fullscreen.svg");
}
#menu_readerModeItem {
  --menuitem-image: url("chrome://browser/skin/reader-mode.svg");
}
#menu_showAllTabs {
}

#documentDirection-swap {
  --menuitem-image: url("./icons/text-direction-horizontal-ltr.svg");
}

/* view-menu-popup sub menu */
#menu_customizeToolbars {
  --menuitem-image: url("chrome://browser/skin/customize.svg");
}

/* viewFullZoomMenu sub menu */
#menu_zoomEnlarge {
  --menuitem-image: url("chrome://browser/skin/add-circle-fill.svg");
}
#menu_zoomReduce {
  --menuitem-image: url("chrome://browser/skin/subtract-circle-fill.svg");
}
#menu_zoomReset {
  --menuitem-image: url("./icons/resize.svg");
}

/*= goPopup ==================================================================*/
#menu_showAllHistory {
  --menuitem-image: url("chrome://browser/skin/history.svg");
}
#sanitizeItem {
  --menuitem-image: url("chrome://browser/skin/forget.svg");
}

#sync-tabs-menuitem {
  --menuitem-image: url("chrome://browser/skin/sync.svg");
}
#historyRestoreLastSession {
  --menuitem-image: url("./icons/restore-session.svg");
}
#hiddenTabsMenu {
}
#historyUndoMenu {
  --menuitem-image: url("chrome://browser/skin/tab.svg");
}
#historyUndoWindowMenu {
  --menuitem-image: url("chrome://browser/skin/window.svg");
}

/* sub menu */
#historyUndoPopup .restoreallitem {
  --menuitem-image: url("./icons/movetowindow-16.svg");
}
#historyUndoWindowPopup .restoreallitem {
  --menuitem-image: url("./icons/restore-session.svg");
}

/*= bookmarksMenuPopup =======================================================*/
#bookmarksShowAll {
  --menuitem-image: url("chrome://browser/skin/bookmark-star-on-tray.svg");
}

#menu_bookmarkThisPage,
#menu_bookmarkAllTabs {
  --menuitem-image: url("chrome://browser/skin/bookmark-hollow.svg");
}
#menu_bookmarkThisPage[data-l10n-id="menu-bookmark-edit"] {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}

#bookmarksToolbarFolderMenu {
}
#menu_unsortedBookmarks {
}
#menu_mobileBookmarks {
}

/*= menu_ToolsPopup ==========================================================*/
#menu_openDownloads {
  --menuitem-image: url("chrome://browser/skin/downloads/downloads.svg");
}
#menu_openAddons {
  --menuitem-image: url("chrome://mozapps/skin/extensions/extension.svg");
}
#sync-setup {
  --menuitem-image: url("chrome://browser/skin/fxa/avatar-empty.svg");
}
#sync-enable {
}
#sync-unverifieditem {
}
#sync-syncnowitem {
}
#sync-reauthitem {
}

#webDeveloperMenu, /* Legacy */
  #browserToolsMenu {
  --menuitem-image: url("./icons/developer.svg");
}
#menu_pageInfo {
  --menuitem-image: url("./icons/document-endnote.svg");
}

/* menuWebDeveloperPopup sub menu */
#enableDeveloperTools {
}
#menu_devToolbox {
}
#menu_taskManager {
  --menuitem-image: url("./icons/performance.svg");
}
#menu_devtools_remotedebugging {
  --menuitem-image: url("./icons/bug.svg");
}
#menu_browserToolbox {
  --menuitem-image: url("./icons/window-dev-tools.svg");
}
#menu_browserContentToolbox {
  --menuitem-image: url("./icons/command-frames.svg");
}
#menu_browserConsole {
  --menuitem-image: url("chrome://devtools/skin/images/command-console.svg");
}
#menu_responsiveUI {
}
#menu_eyedropper {
}
#menu_pageSource {
  --menuitem-image: url("./icons/document-search.svg");
}
#extensionsForDevelopers {
  --menuitem-image: url("chrome://devtools/skin/images/debugging-addons.svg");
}

/*= menu_HelpPopup ===========================================================*/
#menu_openHelp {
  --menuitem-image: url("chrome://global/skin/icons/help.svg");
}
#feedbackPage {
  --menuitem-image: url("./icons/send.svg");
}
#helpSafeMode {
  --menuitem-image: url("chrome://devtools/skin/images/debugging-workers.svg");
}
#troubleShooting {
  --menuitem-image: url("chrome://global/skin/icons/more.svg");
}
#help_reportSiteIssue {
  --menuitem-image: url("chrome://global/skin/icons/lightbulb.svg");
}
#menu_HelpPopup_reportPhishingtoolmenu {
  --menuitem-image: url("chrome://global/skin/icons/warning.svg");
}
#menu_HelpPopup_reportPhishingErrortoolmenu {
}

#aboutName {
  --menuitem-image: url("chrome://global/skin/icons/info.svg");
}

#helpPolicySupport {
}

/** Libray Menu ***************************************************************/
/*= organizeButtonPopup ======================================================*/
#newbookmark {
  --menuitem-image: url("chrome://browser/skin/bookmark.svg");
}
#newfolder {
  --menuitem-image: url("./icons/folder.svg");
}
#newseparator {
  --menuitem-image: url("./icons/vertical-line.svg");
}

#orgUndo {
  --menuitem-image: url("chrome://global/skin/icons/undo.svg");
}
#orgRedo {
}

#orgCut {
  --menuitem-image: url("chrome://browser/skin/edit-cut.svg");
}
#orgCopy {
  --menuitem-image: url("./icons/edit-copy.svg");
}
#orgPaste {
  --menuitem-image: url("chrome://browser/skin/edit-paste.svg");
}
#orgDelete {
  --menuitem-image: url("chrome://global/skin/icons/delete.svg");
}

#orgSelectAll {
  --menuitem-image: url("./icons/select-all-on.svg");
}

#orgClose {
  --menuitem-image: url("chrome://global/skin/icons/close.svg");
}

/*= viewMenuPopup ============================================================*/
#viewColumns {
  --menuitem-image: url("chrome://global/skin/icons/columnpicker.svg");
}
#viewSort {
  --menuitem-image: url("./icons/text-sort-ascending.svg");
}

/*= maintenanceButtonPopup ===================================================*/
#backupBookmarks {
  --menuitem-image: url("chrome://devtools/skin/images/datastore.svg");
}
#fileRestoreMenu {
}

#fileImport {
  --menuitem-image: url("chrome://browser/skin/save.svg");
}
#fileExport {
  --menuitem-image: url("chrome://browser/skin/open.svg");
}

#browserImport {
  --menuitem-image: url("chrome://browser/skin/import.svg");
}

/*= Waterfox =================================================================*/
#appMenu-restart-button {
  list-style-image: url("./icons/refresh-cw.svg") !important;
}
#menu_FileRestartItem {
  --menuitem-image: url("./icons/refresh-cw.svg");
}

menuitem.privatetab-icon {
  --menuitem-image: url("./icons/priavate-favicon.svg");
}
