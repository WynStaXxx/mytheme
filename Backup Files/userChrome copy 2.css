@import url('colors/blurred.css');
/*@import url('parts/sliding-bookmarks-bar.css');*/

@import url('parts/main-window.css');
@import url('parts/toolbar.css');
@import url('parts/tabbar.css');
@import url('parts/urlbar.css');
@import url('parts/sidebar.css');
/*@import url('parts/arrow-panel.css');*/

@import url('parts/findbar.css');
@import url('parts/customization-window.css');
@import url('parts/window-controls.css');
/*@import url('edge/extras/hidetabclosebutton.css');*/

@import url('edge/extras/vibrancy.css');
@import url('edge/tabbar/EdgeStyleTabShadow.css');
/*@import url('autohide.css');*/

@import url('parts/compact-bookmarks.css');
@import url('extras/customColorTheme.css');
/* Selected Tab Background Color */

/*
.tab-background[selected="true"] {
  /* background: var(--autocomplete-popup-highlight-background) !important;*
  opacity: 1;
  box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;
}

/* Turn on Vibrancy aka macOS Transparency and Blur in the URL Bar, Nav Bar, and SidePanel, Findbar, and Bookmarks Bar */

#main-window, #nav-bar, #sidebar-header, #history-panel, #sidebar-search-container, #bookmarksPanel, #PersonalToolbar, findbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#appMenu-popup, #customizationui-widget-panel, #pageActionPanel, #editBookmarkPanel, #protections-popup, #pageActionActivatedActionPanel, #widget-overflow, #urlbar-background, #identity-popup, .panel-arrowcontent, menupopup[hasbeenopened="true"] {
  opacity: 0.95 !important;
}

/* Possible Bug Fix Keeps sidebar from being weirdly affected by vibrancy settings in find bar*/

findbar {
  opacity: 0.9 !important;
}

/* Remove Themeing */

menupopup, menuitem, menu {
  -moz-appearance: auto !important;
}

/* Softens the Menu Separator in Right Click Menus */

menupopup menuseparator {
  -moz-appearance: meter !important;
}

/* Keep Rounded Edges on Menus */

.panel-arrowcontent, #alltabs-popup .arrowscrollbox-scrollbox, menupopup:not(#BMB_bookmarksPopup), .textbox-contextmenu {
  border-radius: 5px !important;
}

#mainPopupSet menupopup {
  color: var(--lwt-toolbar-field-color) !important;
  /* Text Color */
  background-color: rgba(144, 89, 255, 0.719) !important;
  /*This is the right click menu color*/
  opacity: 0.9 !important;
}

/* Color of hovered menu item */

menu[_moz-menuactive="true"], menuitem[_moz-menuactive="true"] {
  background-color: var(--lwt-toolbarbutton-icon-fill-attention) !important;
}

/* Side Panel Header Drop Down */

image.panel-arrow {
  color: var(--autocomplete-popup-highlight-background) !important;
}

/* Side Panel Drop Down Menu Hover Color */

.subviewbutton:hover {
  background-color: var(--lwt-toolbarbutton-icon-fill-attention) !important
}

/*
box.panel-arrowcontent {
  color: #dddddd !important;
  background: var(--autocomplete-popup-highlight-background) !important;
  box-shadow: var(--autocomplete-popup-highlight-background) !important;
  opacity: 0.9;
}

/* context menus in the ui like the url bar */

arrowscrollbox.menupopup-arrowscrollbox {
  color: var(--toolbar-color) !important;
  /* Text Color*/
  background: var(--autocomplete-popup-highlight-background) !important;
  /*This is the right click menu color*/
  box-shadow: var(--autocomplete-popup-highlight-background) !important;
  opacity: 0.9;
  border-radius: 5px !important;
}

image.panel-arrow {
  fill: var(--autocomplete-popup-highlight-background) !important;
  stroke: var(--autocomplete-popup-highlight-background) !important;
}

.findbar-closebutton {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

/* Hides all the tabs if there is only one tab 
#tabbrowser-tabs tab:only-of-type,
#tabbrowser-tabs tab:only-of-type + #tabs-newtab-button {
  display: none !important;
}

/* Find Bar Input Field color and text color */

.findbar-textbox.findbar-find-fast {
  background-color: white !important;
  color: black !important;
}

/* Color of Buttons When Hovering in Find Bar */

.findbar-button.tabbable:hover {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Color of Selected Button */

.findbar-button.tabbable[checked="true"] {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/*Color of Text and Highlight Color in Find Bar Input Field */

::-moz-selection {
  color: rgb(255, 255, 255) !important;
  /*Colour of text*/
  background: #985EFFCC !important;
  /*Highlighting colour*/
}

box#customization-container {
  -moz-appearance: moz-mac-vibrant-titlebar-dark !important;
}

/*Button Color*/

.customizationmode-button {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background: #985EFFCC !important;
}

/* Button Color on Hover */

.customizationmode-button:hover {
  -moz-appearance: auto !important;
  background: var(--autocomplete-popup-highlight-background) !important;
}

/* Button Text */

.customizationmode-button label {
  color: var(--lwt-toolbar-field-color) !important;
}

/* Text Color on Hover */

.customizationmode-button:hover label {
  color: var(--autocomplete-popup-highlight-color) !important;
}

/* Remove border From Buttons */

.customizationmode-button {
  border: none !important;
}

/* URL Bar Drop Down Coloring *
vbox.panel-subview-body {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

box.panel-header {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

#overflowMenu-customize-button {
  background-color: var(--autocomplete-popup-highlight-background) !important;
}

/* Hide some buttons for hover */

#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#page-action-buttons {
  opacity: 0;
}

#page-action-buttons {
  transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#identity-box {
  opacity: 0;
  /*visibility: collapse;*/
}

#identity-box {
  /*transition: visibility 0.30s ease-in-out, opacity 0.30s ease-in-out;*/
  transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#tracking-protection-icon-container {
  opacity: 0;
}

#tracking-protection-icon-container {
  transition: opacity 0.15s ease;
}

/*inactive tabs effect*/

/*
.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
  opacity: 0.6 !important;
  /*filter: grayscale();
}*/

/* Design of the plus/newtab button */

toolbar #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active):hover>.toolbarbutton-icon {
  border: 0 !important;
  border-radius: 20px 20px 20px 20px !important;
  background-image: none !important;
  background-color: transparent !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
}

toolbar #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :hover:active)>.toolbarbutton-icon {
  border: 0 !important;
  border-bottom: 1px solid #ffffff30 !important;
  border-radius: 20px 20px 20px 20px !important;
  background-image: none !important;
  background-color: transparent !important;
  box-shadow: inset 0 0 10px #0000004d;
  -moz-appearance: var(--bf-moz-appearance) !important;
}

#tabbrowser-tabpanels {
  background: transparent !important;
}

.tab-text, .tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
  display: -moz-box !important;
}

#main-window {
  background-color: transparent !important
}

/* Show Tab close button on hover */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  display: -moz-box !important;
  opacity: 0;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  opacity: 1;
  visibility: visible !important;
}

#tabbrowser-tabpanels, #webextpanels-window, #webext-panels-stack, #webext-panels-browser {
  background: transparent !important;
}

#navigator-toolbox {
  background-color: transparent !important;
}

#navigator-toolbox:-moz-lwtheme-darktext {
  background-color: transparent !important;
}

#TabsToolbar:-moz-lwtheme-darktext {
  appearance: auto !important;
  -moz-default-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

.tabbrowser-tab[multiselected]:-moz-lwtheme-darktext, .tabbrowser-tab[visuallyselected=true]:-moz-lwtheme-darktext {
  -moz-font-smoothing-background-color: var(--toolbar-bgcolor) !important;
}

/* Firefox Translucent Tabbar for macOS */

:root:not(:-moz-window-inactive) {
  background: transparent !important;
}

:root #TabsToolbar, :root #titlebar, :root #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background-color: transparent !important;
}

/*
:root:not([lwthemetextcolor="bright"]) #TabsToolbar, :root:not([lwthemetextcolor="bright"]) #titlebar, :root:not([lwthemetextcolor="bright"]) #tabbrowser-tabs {
  color: #000 !important;
}*/

:root[lwthemetextcolor="dark"] #TabsToolbar, :root[lwthemetextcolor="dark"] #titlebar, :root[lwthemetextcolor="dark"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[lwthemetextcolor="bright"] #TabsToolbar, :root[lwthemetextcolor="bright"] #titlebar, :root[lwthemetextcolor="bright"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root:-moz-window-inactive #TabsToolbar, :root:-moz-window-inactive #titlebar, :root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}

/*
:root[lwthemetextcolor="dark"] .tabbrowser-tab:not([selected="true"]):hover {
   background-color: rgba(0,0,0,0.1) !important;
}

:root:not([lwthemetextcolor="bright"]) .tabbrowser-tab:not([selected="true"]) {
  color: #000 !important;
}
/*
:root[lwthemetextcolor="bright"] {
  --lwt-background-tab-separator-color: rgba(255,255,255,0.5) !important;
  --lwt-selected-tab-background-color: rgb(55,55,55) !important;
  --toolbar-bgcolor: rgb(55,55,55) !important;
  --tabs-border-color: rgba(0,0,0,0.8) !important;
}
/*
:root[lwthemetextcolor="bright"] .tabbrowser-tab:not([selected="true"]):hover {
   background-color: rgba(255,255,255,0.1) !important;
}*/

.urlbarView::-moz-lwtheme, #PopupSearchAutoComplete::-moz-lwtheme {
  /* Set custom disabled text color since native graytext is too faint on macOS 10.14+. */
  --panel-disabled-color: #737373 !important
}

#sidebar-box:-moz-lwtheme {
  appearance: auto !important;
  -moz-default-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

/*
#sidebar-box:lwt-sidebar {
  appearance: auto;
  -moz-default-appearance: -moz-mac-source-list;
  -moz-font-smoothing-background-color: -moz-mac-source-list;
}*/

/* Correct visualization of the zoom percentage shown in URLBAR *

#urlbar-zoom-button {
  padding: 0px 2px !important;
}

:root {
  --panel-separator-zap-gradient: linear-gradient(90deg, #00ffff90, #9059FF 30%, #FF4AA2 85.08%, #FFBD4Fcc 100%);
  --toolbar-bgcolor: #1e20406C !important;
  /*"toolbar":"#131118"*/

/*
  --toolbar-color: #1e2040bC !important;
  --tab-border-radius: 4px !important;
  --toolbarbutton-inner-padding: 5px !important;
  --proton-tab-block-margin: 2px 4px !important;
  --arrowpanel-padding: 0.8em !important;
  --arrowpanel-dimmed: color-mix(in srgb, #3399ff 40%, transparent) !important;
  --arrowpanel-dimmed-further: color-mix(in srgb, #3399ff 50%, transparent) !important;
  --arrowpanel-dimmed-even-further: color-mix(in srgb, #3399ff 60%, transparent) !important;

/* Rainbow line in the main menus */

.PanelUI-subView>toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}

.tab-background::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background: linear-gradient(to right, #9059FF3a, #FF4AA2 42%, #FFBD4Fee 85%, #FF4AA2, #aa00ff3a) !important;
  position: absolute;
  content: '';
  height: 2px;
  left: 4px;
  top: 0;
  margin-top: 1px !important;
  margin-right: 4px !important;
  transform: scale(0, 1);
  transform-origin: center center;
  opacity: 1 !important;
}

.tab-background[selected="true"]::after {
  transform: scale(1, 1);
}

/* Active tab brightness */

/*
.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 4px 4px 4px 4px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/* Remove shadows of the selected tab Label */

/*
.tab-content:not([selected="true"]) {
  text-shadow: none !important;
  opacity: 1 !important;
}

/* Mouse Hover Background by passing by non-selected tabs */

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
}

.findbar-closebutton {
  -moz-appearance: auto !important;
}

box#customization-container {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root {
  background: transparent !important
}

#main-window {
  background-color: transparent !important
}

:root:-moz-any([inFullscreen], [tabsintitlebar]) #TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
  background: transparent!important;
  /*
color: hsl(240, 9%, 98%) !important;
text-shadow: none !important;*/
}

.browser-toolbar, .tab-background {
  appearance: auto !important;
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
  animation-duration: 0s !important;
}

/* Sound icon always visible on eyelashes with sound, while still showing the favicon */

/*
.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: -1px !important
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #e6fcff !important;
  background-color: #1d1d38bb !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted], .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #ffffff !important;
  background-color: #1d1d3850 !important;
  fill-opacity: 0.9 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover, .tab-icon-overlay:not([crashed])[muted]:hover, .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 15px !important;
  width: 15px !important;
}

/* Color of drop-down menus arrows */

/*
#identity-popup, #permission-popup, #protections-popup, .panel-header, .subviewbutton-back, .PanelUI-subView, .subviewbutton-nav::after {
  fill: #3399ff !important
}

/*Colors of the contextual menu*/

/*
menuseparator {
  border-top: 1px solid #3d3762 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  background-color: #1d1d38 !important;
  border: solid #3d3762 !important;
  border-radius: 4px !important;
  padding-block: 0px !important;
  border-color: #2d2762 !important;
}

/* Removes the padding between pinned and unpinned tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: 0 !important;
}

/*"popup_highlight"*/

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner, .urlbarView-row-inner[selected] {
  background-color: #3e3b9d !important;
  color: #ffffff !important
}

/*"toolbar_bottom_separator"*

#navigator-toolbox {
  border-bottom: 1px solid #131230 !important;
}

/* "Menu with fewer spaces" *

menupopup>menuitem, menupopup>menu {
  padding-block: .5m !important;
}

/* "Close button" */

/*
.tab-close-button {
  margin-inline-start: -16px !important;
  width: 16px !important;
  height: 16px !important;
  padding: 3px !important;
  margin-inline-end: -6px !important;
}*/

.tabbrowser-tab>.tab-stack>.tab-content>.tab-close-button {
  border-radius: 4px !important;
}

.tabbrowser-tab:hover {
  box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.1), inset 0 -2px 0 0 rgba(0, 0, 0, 0.2);
}

/* Drop Down URL with BLUR need layout.css.backdrop-filter.enabled = true *

.urlbarView {
  background-color: #00000005 !important;
}

/* Bookmarks bar with BLUR need layout.css.backdrop-filter.enabled = true */

#PersonalToolbar {
  background-color: transparent !important;
  backdrop-filter: blur(32px) !important;
  -moz-backdrop-filter: blur(32px) !important;
}

/* Show Tab Close buttons only when hovered (slide in using max-width) */

.tabbrowser-tab:not([pinned]) .tab-close-button {
  min-width: 20px !important;
  opacity: 0 !important;
  /* no delay on exit*/
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: -moz-box !important;
  max-width: 20px !important;
  opacity: 1 !important;
  /* quarter second delay on entry*/
}

.tab-text, .tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

/*"Smaller Urlbar icons"*/

.sharing-icon, #permissions-granted-icon, #tracking-protection-icon, .notification-anchor-icon, #blocked-permissions-container>.blocked-permission-icon {
  height: 14px !important;
  width: 14px !important;
}

/*"Green color of the secure web padlock icon"*/

#identity-icon {
  color: #2cf62c !important;
  height: 14px !important;
  width: 14px !important;
}

/*"Bookmark icon and smaller reading view "*/

.urlbar-icon {
  padding: 4px !important
}

:root {
  --proton-tab-block-margin: 2px !important;
  --arrowpanel-menuitem-padding: 4px !important;
  --panel-font-size: inherit !important;
  --arrowpanel-padding: 0.8em !important;
  --inline-tab-padding: 8px !important;
  /* 8px is default value since it looks good - lower values compactify tabs horizontally */
}

.subview-subheader {
  display: -moz-box
}

menupopup>menuitem, menupopup>menu {
  padding-block: 0.3em !important;
}

#urlbar-container {
  padding-block: 2px !important;
}

#urlbar-background {
  margin-block: 1px
}

/* This is kinda weird, but it makes the horizontal line between tabs and nav-bar render "inside" nav-bar thus tabs are more visibily separated even if there is less space there */

#nav-bar {
  box-shadow: inset 0 1px 0 var(--tabs-border-color) !important;
}

.tab-close-button {
  margin-inline-start: 0px !important;
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 2px
}

#scrollbutton-up, #scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

#customization-container {
  color: #eaeaea !important;
  background-color: #1d1d3828 !important;
}

/* Shadow above content */

#navigator-toolbox {
  box-shadow: 0px 0px 24px 0px rgba(0, 0, 0, 0.4) !important;
}

.tabbrowser-tab[visuallyselected="true"] {
  box-shadow: 0px 0px 24px 0px rgba(0, 0, 0, 0.33);
  --chrome-nav-bar-controls-border-color: transparent !important;
  /* border around url bar */
}

:root {
  background: transparent !important;
}

#main-window {
  background: transparent !important;
}

/*
#TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

/*
.tab-background[selected="true"] {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}*/

#nav-bar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#PersonalToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#TabsToolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[macOSNativeFullscreen]:not(:-moz-lwtheme) :is(#navigator-toolbox, #sidebar-box) {
  /* Make the toolbar opaque using this color that simulates the -moz-mac-vibrant-toolbar-dark effect. This hides vibrancy, but it also ensures that we can't see #browser through the transparent toolbar. */
  background-color: transparent !important;
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

/*VIBRANCY (OLDer from reddit)*

#TabsToolbar, .tab-background, #nav-bar, .theme-dark, .theme-light, slider, .CodeMirror, .devtools-toolbar, .message, .theme-body, .table-widget-empty-text {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

#TabsToolbar {
  position: relative;
  z-index: 1;
}

#TabsToolbar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, .3) !important;
  /* background: transparent !important;*
  background-image: linear-gradient(rgba(0, 0, 0, .1), rgba(0, 0, 0, .3)) !important;
  right: 0;
  bottom: 0;
  z-index: -1;
}

.tabbrowser-tab .tab-background-inner {
  background: rgba(0, 0, 0, .1) !important;
  background-image: linear-gradient(rgba(255, 255, 255, 0), rgba(0, 0, 0, .2)) !important;
  background: transparent !important;
}

.tabbrowser-tab[visuallyselected="true"] .tab-background-inner {
  background-color: transparent !important;
  background-image: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, .1)) !important;
}

/* Personalization of colors and presentation of tabs in containers */

.navigable.subviewbutton:not([disabled], [open], :active):is(:hover), menu.subviewbutton:not([disabled], :active)[_moz-menuactive], menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive], .widget-overflow-list .toolbarbutton-1:not([disabled], [open], :active):is(:hover), .toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])>toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #4e6bfd 43%, transparent) !important
}

/*Linea de arcoiris en los menús principales*/

.PanelUI-subView>toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/* Colors of the contextual menu */

/*
menuseparator {
  border-top: 1px solid #3d376279 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  color: white !important;
  background-color: #1d1d3896 !important;
  /*border: 1px solid #3d3762 !important;
  border-radius: 5px !important;
  padding-block: 0px !important;
  /*border-color: #2d2762 !important;
}*/

menu[_moz-menuactive="true"]:not([disabled="true"]), menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  background-color: #4e6bfd90 !important;
  color: #eaeaea !important;
  --menuitem-hover-background-color: #4e6bfd00 !important;
}

/*Color when passing the pointer by the different items of main menus */

.protections-popup-category:hover, .protections-popup-footer-button:hover, #protections-popup-show-report-stack:hover>.protections-popup-footer-button, panelview .toolbarbutton-1:not([disabled], [open], :active):is(:hover), toolbarbutton.subviewbutton:not([disabled], [open], :active):is(:hover), .navigable.subviewbutton:not([disabled], [open], :active):is(:hover), menu.subviewbutton:not([disabled], :active)[_moz-menuactive], menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive], .widget-overflow-list .toolbarbutton-1:not([disabled], [open], :active):is(:hover), .toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])>toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #3399ff 30%, transparent) !important;
}

/*Rework on the line of containers*/

/*
.tab-context-line {
  max-width: 50% !important;
  max-height: 1px !important;
  margin-left: 0px !important;
  margin-bottom: -1px !important;
  -moz-box-ordinal-group: 2 !important;
  opacity: 1 !important;
  transition: none !important;
}

/*"Bookmark icon and smaller reading view"*/

.urlbar-icon {
  padding: 3px !important
}

/*"Urlbar and Smallest Search-bar"*/

/*
#urlbar {
  min-height: 26px !important;
  margin-block: 0px 0px !important;
  text-shadow: none !important;
}

#urlbar-background {
  margin-block: 0px 0px !important;
}

#urlbar-container {
  margin-block: 0px 0px;
}

#searchbar {
  min-height: 26px !important;
  text-shadow: none !important;
  margin-block: -3px !important;
}
*/

/*"Smaller Urlbar icons "*/

.sharing-icon, #permissions-granted-icon, #tracking-protection-icon, .notification-anchor-icon, #blocked-permissions-container>.blocked-permission-icon {
  height: 15px !important;
  width: 15px !important;
  margin: 1px !important;
  padding: 0px !important
}

/*"popup_highlight"*/

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner, .urlbarView-row-inner[selected] {
  background-color: #4e6bfd90 !important;
  color: #ffffff !important
}

/*"toolbar_bottom_separator"*/

#navigator-toolbox {
  border-bottom: 1px solid #131230 !important;
}

#navigator-toolbox {
  --tabs-border-color: #4d4dfe70 !important;
}

/*"toolbar_top_separator": "#17161c"*/

#tabbrowser-tabs {
  --tab-line-color: #4d4dfeff !important;
}

/*"tab_line": "#126e82"*/

.browser-toolbar:not(.titlebar-color) {
  color: #d3d3d3 !important;
}

/*"bookmark_text": "#b3d9ff"*/

/*"Customize search bar"*/

.browserContainer>findbar:-moz-lwtheme {
  color: #d3d3d3 !important;
}

.findbar-find-status[status="notfound"] {
  color: #00dbfd !important;
}

#customization-container {
  color: #eaeaea !important;
  background-color: #232343 !important;
}

/*"Text color and" customize toolbar "icons*/

/*Color of "Track Protection"*/

.protections-popup-category.notFound {
  color: #777777 !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

/* Verified page color"*/

description#identity-popup-content-owner-label, description#identity-popup-content-owner, description#identity-popup-content-verifier, #identity-popup-securityView-body>button {
  color: #2cf62c !important;
}

/*Safe Firefox Pages"*/

#identity-box[pageproxystate="valid"].chromeUI>.identity-box-button {
  background-color: #3e3b6d !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:hover:not([open]), #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:hover:not([open]) {
  background-color: #3e3b9d !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button[open="true"], #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/* URLBAR icon background"*/

:not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), :not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .identity-box-button:hover:not([open="true"]), #tracking-protection-icon-container:hover:not([open="true"]), .identity-box-button:hover:not([open]) {
  background-color: #4d4dfe70 !important;
}

:not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], :not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], .urlbar-icon-wrapper[open="true"], .urlbar-icon-wrapper[open="true"], .identity-box-button[open="true"], #tracking-protection-icon-container[open="true"], .identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/*"Smaller Urlbar icons"*/

.sharing-icon, #permissions-granted-icon, #tracking-protection-icon, .notification-anchor-icon, #blocked-permissions-container>.blocked-permission-icon {
  margin: 1px !important;
  padding: 0px !important
}

/* Gradient line */

.tab-content {
  position: relative !important;
}

.tab-content::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background: linear-gradient(to right, #9059FF3a, #FF4AA2, #FFBD4Fee, #FF4AA2, #9059FF3a) !important;
  position: absolute;
  content: '';
  height: 3px;
  left: 2px;
  right: 2px;
  top: 0;
  transform: scale(0, 1);
  transform-origin: center center;
  opacity: 1 !important;
  border-radius: 4px !important
}

.tab-content[selected="true"]::after {
  transform: scale(1, 1);
}

/* Active tab brightness */

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 20%, transparent) !important;
  text-shadow: none !important;
  border-radius: 4px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/*Rule to visualize better selecting several tabs*/

.tabbrowser-tab>.tab-stack>.tab-background:is([multiselected]) {
  background-color: #4d4dfeff !important;
}

/* Mouse Hover Background by passing by non-selected tabs */

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important
}

/* MacOS Style Window Shadow added to Tab HOVER background above ^ */

/*Color of drop-down menus arrows*/

#identity-popup, #permission-popup, #protections-popup, .panel-header, .subviewbutton-back, .PanelUI-subView, .subviewbutton-nav::after {
  fill: #4e6bfd !important;
  fill-opacity: 1 !important;
}

/*
  box-shadow: 0 0 20px 0 rgba(0,0,0,0.15),
              0 20px 30px 8px rgba(0,0,0,0.25),
              0 0 0.5px 0.5px rgba(0,0,0,0.3); /* MacOS Style Window Shadow */

#navigator-toolbox {
  box-shadow: inset 0 1px 0.5px rgba(255, 255, 255, 0.1), 0 0 20px 0 rgba(0, 0, 0, 0.15), 0 20px 30px 8px rgba(0, 0, 0, 0.25), 0 0 0.5px 0.5px rgba(0, 0, 0, 0.3);
  /* MacOS Style Window Shadow */
}

.tab-text, .tab-label {
  -moz-box-flex: 1 !important;
  text-align: center !important;
}

.tabbrowser-tab {
  border-inline-end: 1px solid transparent !important;
  border-image: 0 1 linear-gradient(transparent 20%, var(--toolbarseparator-color) 20%, var(--toolbarseparator-color) 80%, transparent 80%);
}

.tabbrowser-tab:hover, .tabbrowser-tab[beforehovered], .tabbrowser-tab[selected], .tabbrowser-tab[last-visible-tab], .tabbrowser-tab[beforeselected-visible] {
  border-image: none !important;
}

/*test code from reddit never used prob delete*/

/*
:root #nav-bar, #titlebar, .tab-background[selected="true"] {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
}

#TabsToolbar, #nav-bar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  /*-moz-mac-vibrancy-dark
}

#titlebar, #urlbar, #nav-bar, #PersonalToolbar, .tab-content {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  /*-moz-mac-vibrancy-dark
}*/

/*Media label "Playing" modified */

/*
tab:not([pinned])[selected] .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  opacity: 1 !important;
  text-shadow: none !important;
  font-weight: bold !important;
  background: linear-gradient(to right, #00bbff 0%, #6b6bff 40%, #dd4AA2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

tab:not([pinned], [selected]) .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  text-shadow: none !important;
  font-weight: bold !important;
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
}

/*example from Mozilla CSS doc*/

/*
p {
  border: .8em darkviolet;
  border-style: dotted double;
  margin: 1em 0;
  padding: 1.4em;
  background: linear-gradient(60deg, red, yellow, red, yellow, red);
  font: 900 1.2em sans-serif;
  text-decoration: underline;
}

.border-box { background-clip: border-box; }
.padding-box { background-clip: padding-box; }
.content-box { background-clip: content-box; }

.text {
  background-clip: text;
  -webkit-background-clip: text;
  color: rgba(0,0,0,.2);
}*/

/*google searxh box shadow*/

/*
box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);
*/

/*code from Firefox bug report dev to make Tab Bar background dark --> Firefox Default*/

/*
#tabs-toolbar {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  -moz-font-smoothing-background-color: -moz-mac-vibrant-titlebar-dark !important;
  background-color: #232323 !important;
  color: hsl(240, 9%, 98%) !important;
  text-shadow: none !important;
}*/

:root {
  --button-hover-bgcolor: color-mix(in srgb, #4e6bfd 50%, transparent) !important;
  --button-active-bgcolor: color-mix(in srgb, #4e6bfd 65%, transparent) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(in srgb, #4d4dfeff 30%, transparent) !important;
  --toolbarseparator-color: #392b45 !important;
}

.urlbar-icon {
  padding: 3px !important;
}

/* Sound icon always visible on eyelashes with sound, while still showing the favicon */

/*
.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: -1px !important
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #00000010 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted], .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #1d1d3800 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover, .tab-icon-overlay:not([crashed])[muted]:hover, .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 14px !important;
  width: 14px !important
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 14px !important;
  width: 14px !important;
}

/* more test code reddit*/

:root {
  background: transparent !important
}

#ctrlTab-previews {
  border-radius: 0% !important;
}

#ctrlTab-panel {
  appearance: auto !important;
  color: white !important;
  border-style: none !important;
  padding: 20px 20px 20px 20px !important;
  /* font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important; */
  font-weight: normal !important;
  text-shadow: 0 0 2px hsl(0, 0%, 8%), 0 0 2px hsl(0, 0%, 8%) !important;
  box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;
  background-color: #4d4dfe70 !important;
  border-radius: 5px !important;
}

/*
.ctrlTab-preview:not(#ctrlTab-showAll)>*>.ctrlTab-preview-inner {
  margin: -10px -10px 0 !important;
}
*/

.ctrlTab-canvas {
  box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;
  background-color: transparent !important;
  border: none !important;
  fill: white !important;
  fill-opacity: 1 !important;
  -moz-context-properties: fill, fill-opacity !important;
  background: url(chrome://userchrome/content/skin/restore-session.svg) center no-repeat !important;
  background-size: 42% !important;
}

#ctrlTab-showAll-container {
  margin-top: 8px !important;
  margin-left: -28px !important;
}

#ctrlTab-showAll {
  background-color: var(--ctrlTab-panel-bgcolor) !important;
  border: 2px solid transparent !important;
}

#ctrlTab-showAll:focus, #ctrlTab-showAll:focus-within {
  background-color: var(--ctrlTab-panel-focused-bgcolor) !important;
  border: 2px solid var(--toolbarbutton-icon-fill-attention) !important;
}

.ctrlTab-preview-inner {
  padding: 10px !important;
  border: 2px solid transparent !important;
  border-radius: 5px !important;
  box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;
  background-color: transparent !important;
}

.ctrlTab-preview:focus>.ctrlTab-preview-inner {
  border: 4px solid transparent !important;
  border-image: 2 2 2 2 linear-gradient(90deg, #004e92 0%, #aa076b 52.08%, #dc2430 100%) !important;
}

.ctrlTab-canvas>* {
  border-radius: 3px !important;
}

.ctrlTab-favicon-container {
  -moz-box-align: start !important;
  -moz-box-pack: start !important;
  box-shadow: none !important;
  margin-inline-start: 7px !important;
  margin-top: -47px !important;
  padding-bottom: 13px !important;
  height: 45px !important;
  position: absolute !important;
}

.ctrlTab-favicon {
  margin: 0 !important;
}

.ctrlTab-favicon[src] {
  background: hsla(0, 4%, 27%, 0.3) !important;
  width: 32px !important;
  height: 32px !important;
  padding: 3px !important;
  box-shadow: none !important;
  border-radius: 3px !important;
  -moz-context-properties: fill, fill-opacity, stroke, stroke-opacity !important;
  fill: currentColor !important;
}

.ctrlTab-label {
  margin-bottom: -1.5px !important;
}

#navigator-toolbox {
  --tabs-border-color: #4d4dfe70 !important;
}

/*"toolbar_top_separator": "#17161c"*/

#tabbrowser-tabs {
  --tab-line-color: #4d4dfe00 !important;
}

/*"tab_line": "#126e82"*/

.browser-toolbar:not(.titlebar-color) {
  color: #d3d3d3 !important;
}

/*"bookmark_text": "#b3d9ff"*/

/* "Customize search bar" */

.browserContainer>findbar:-moz-lwtheme {
  color: #d3d3d3 !important;
}

.findbar-find-status[status="notfound"] {
  color: #00dbfd !important;
}

#customization-container {
  color: #eaeaea !important;
  background-color: #232343 !important;
}

/*"Color of text and" customize toolbar "icons */

/*"popup_highlight"*/

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner, .urlbarView-row-inner[selected] {
  background-color: #4e6bfd90 !important;
  color: #ffffff !important
}

/*"toolbarBottomSeparator"*/

#navigator-toolbox {
  border-bottom: 1px solid #131230 !important;
}

/* "Menu with fewer spaces" *

menupopup>menuitem, menupopup>menu {
  padding-block: 0.3em !important;
}

/* "Close button" */

/*
.tab-close-button {
  margin-inline-start: 0px !important;
  width: 16px !important;
  height: 16px !important;
  padding: 3px !important;
  margin-inline-end: -5px !important;
}

.tab-close-button[selected="true"] {
  margin-inline-start: 0px !important;
  width: 16px !important;
  height: 16px !important;
  padding: 3px !important;
  margin-inline-end: -6px !important;
}

.tabbrowser-tab>.tab-stack>.tab-content>.tab-close-button {
  margin-top: -1px !important;
  margin-bottom: -2px !important;
  border-radius: 4px !important;
}

.tab-close-button:hover {
  background-color: #4d4dfe90 !important;
}

/* "Minor measures for scroll of tabs" */

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 2px
}

#scrollbutton-up, #scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

/* "Smaller URLBAR icons" */

.sharing-icon, #permissions-granted-icon, #tracking-protection-icon, .notification-anchor-icon, #blocked-permissions-container>.blocked-permission-icon {
  margin: 1px !important;
  padding: 0px !important;
}

/* "Green color of the secure web padlock icon" */

#identity-icon {
  color: #2cf62c !important;
  height: 14px !important;
  width: 14px !important;
}

/* Smaller reading view icon "*/

.urlbar-icon {
  padding: 3px !important;
}

/* "Urlbar and Search-Bar Smaller" *

#urlbar {
  min-height: 26px !important;
  margin-block: 0px 0px !important;
  text-shadow: none !important;
}

#urlbar-background {
  margin-block: 0px 0px !important;
}

#urlbar-container {
  margin-block: 0px 0px;
}

#searchbar {
  min-height: 26px !important;
  text-shadow: none !important;
  margin-block: -3px !important;
}

/* Media label "Playing" modified */

tab:not([pinned])[selected] .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  text-shadow: none !important;
  font-weight: bold !important;
  background: linear-gradient(to right, #00aaff 0%, #906bff 40%, #cd4AA2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

tab:not([pinned], [selected]) .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  text-shadow: none !important;
  font-weight: bold !important;
  transition-duration: 0ms !important
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
  transition-duration: 0ms !important
}

/* Sound icon always visible on eyelashes with sound, while still showing the favicon */

.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: -1px !important
}

.tab-icon-image:is([pinned]):not([selected]) {
  margin-left: 0px !important;
  margin-top: 0px !important;
}

.tab-icon-overlay {
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay {
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  transition-duration: 300ms !important;
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -12px;
  z-index: 1;
  margin-right: 12px !important;
  color: #ffffff !important;
  background-color: #140d2d00 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted], .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -6px;
  inset-inline-end: -7px;
  z-index: 1;
  margin-right: 8px !important;
  color: #ffffff !important;
  background-color: #140d2d00 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
}

.tab-icon-overlay:not([crashed], [pinned])[soundplaying]:hover, .tab-icon-overlay:not([crashed], [pinned])[muted]:hover, .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  transform: scale(1.1) !important;
  transition-duration: 100ms !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  transition-duration: 200ms !important;
}

.tab-icon-overlay:is([pinned]):hover {
  stroke: white !important;
  color: black !important;
}

/* Rule to display better selecting several tabs */

.tabbrowser-tab[multiselected]:-moz-lwtheme {
  color: #ffffff !important;
  --tab-line-color: #4d4dfeff !important;
}

.tabbrowser-tab>.tab-stack>.tab-background:is([multiselected]) {
  background-color: #4d4dfeff !important;
}

/* Color of drop-down menus arrows */

#identity-popup, #permission-popup, #protections-popup, .panel-header, .subviewbutton-back, .PanelUI-subView, .subviewbutton-nav::after {
  fill: #4e6bfd !important;
  fill-opacity: 1 !important;
}

/*Color When passing the pointer by the different items of main menus */

.protections-popup-category:hover, .protections-popup-footer-button:hover, #protections-popup-show-report-stack:hover>.protections-popup-footer-button, panelview .toolbarbutton-1:not([disabled], [open], :active):is(:hover), toolbarbutton.subviewbutton:not([disabled], [open], :active):is(:hover), .navigable.subviewbutton:not([disabled], [open], :active):is(:hover), menu.subviewbutton:not([disabled], :active)[_moz-menuactive], menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive], .widget-overflow-list .toolbarbutton-1:not([disabled], [open], :active):is(:hover), .toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])>toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #4e6bfd 43%, transparent) !important
}

/* Rainbow line in the main menus */

.PanelUI-subView>toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/* Correct visualization of the zoom percentage shown in URLBAR */

#urlbar-zoom-button {
  padding: 0px 2px !important;
}

/* Line gradient in active tab */

tab:not([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(160deg, #af00bf 0%, #551dfc, #2525ff, #10afff, #2525ff, #551dfc, #af00bf 100%) !important;
  border-radius: 4px !important;
  height: 32px !important;
  transition-duration: 0ms !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important
}

tab:not([pinned])[selected="true"] .tab-content {
  /*background-image: url(images/tabbackground.png);*/
  background-image: linear-gradient(90deg, #551dfc, #1293dd, #551dfc) !important;
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 32px !important;
  padding-left: 7px !important;
  transition-duration: 0ms !important;
}

tab:is([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(90deg, #551dfc, #1293dd, #551dfc) !important;
  border-radius: 4px !important;
  height: 32px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important
}

tab:is([pinned])[selected="true"] .tab-content {
  /* background-image: url(images/tabbackground.png);*/
  background-color: #161742 !important;
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 32px !important;
}

tab:is([pinned]):not([selected="true"]) .tab-content {
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
}

.tab-content[selected="true"] {
  border-radius: 4px !important;
  transition-duration: 0ms !important;
}

/*Move the label of the eyelashes to the vertical center of the tab */

.tab-label {
  margin-top: -1px !important;
  text-shadow: none !important;
}

/*Hover mouse background by passing by eyelashes not selecteds*/

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
  box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;
}

/* Colors of the contextual menu */

menuseparator {
  border-top: 1px solid #3d3762 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  color: white !important;
  background-color: #1d1d3b !important;
  border: 1px solid !important;
  padding-block: 0px !important;
  border-color: #4d4dfe50 !important;
}

menu[_moz-menuactive="true"]:not([disabled="true"]), menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  background-color: #3949aa !important;
  color: #eaeaea !important;
  --menuitem-hover-background-color: #3949aa !important;
}

/* Buttons on the Personalize Toolbar */

.customizationmode-button {
  background-color: #4e6bfd65 !important;
  border-color: #4e6bfd85 !important;
  color: #ccc !important;
  font-weight: 700 !important;
}

.customizationmode-button:is(:active, :hover):not([disabled]), .customizationmode-button[open], .customizationmode-button[checked] {
  background-color: #2b2a80 !important;
  color: white !important;
  border-color: #4d4dfeff !important;
}

#customization-done-button:is(:active, :hover):not([disabled]) {
  background-color: #0060df !important;
}

#customization-done-button {
  color: #fff !important;
  font-weight: 700 !important;
  border-color: aqua !important;
  background-color: #0a84ff !important;
}

/* Color of "Track protection" */

.protections-popup-category.notFound {
  color: #777777 !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

/* Verified page color "*/

description#identity-popup-content-owner-label, description#identity-popup-content-owner, description#identity-popup-content-verifier, #identity-popup-securityView-body>button {
  color: #2cf62c !important;
}

/* Safe Firefox pages */

#identity-box[pageproxystate="valid"].chromeUI>.identity-box-button {
  background-color: #2e3075 !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:hover:not([open]), #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:hover:not([open]) {
  background-color: #3e3bad !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button[open="true"], #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/* URLBAR icon background "*/

:not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), :not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .identity-box-button:hover:not([open="true"]), #tracking-protection-icon-container:hover:not([open="true"]), .identity-box-button:hover:not([open]) {
  background-color: #3e3bdc !important;
}

:not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], :not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], .urlbar-icon-wrapper[open="true"], .urlbar-icon-wrapper[open="true"], .identity-box-button[open="true"], #tracking-protection-icon-container[open="true"], .identity-box-button[open="true"] {
  background-color: #4d4dfe70 !important;
}

/* URLBAR Focus */

#urlbar[focused=true] {
  background-image: linear-gradient(160deg, #9400FF, #ba00e5, #df06b9, #e62da7, #f13b95, #f64d86, #f85f7a, #fc7169, #f9845b, #e8ab52);
  border-radius: 6px !important;
}

#urlbar[focused=true] #urlbar-background {
  background-color: #19173d !important;
  border: transparent !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open=true] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
  animation-duration: 0ms !important;
}

#urlbar[open=true] {
  margin-top: -1px !important;
  padding-top: 1px !important;
}

/* Upper images */

/*
#navigator-toolbox {
  background-image: var(--lwt-additional-images) !important;
  background-repeat: var(--lwt-background-tiling) !important;
  background-position: var(--lwt-background-alignment) !important;
}
*/

#PersonalToolbar {
  background-color: transparent !important;
  backdrop-filter: blur(32px) !important;
  -moz-backdrop-filter: blur(32px) !important;
}

/* Hide titlebar spaces */

.titlebar-spacer {
  display: none;
}

/* Spacing. */

/*
#sToolbar .titlebar-placeholder[type="pre-tabs"] {
  width: 1.22em !important;
  border-right: none !important;
}
*/

.titlebar-placeholder[type="post-tabs"] {
  width: 8px !important;
}

/*ícono de sonido simpre visible en pestañas con sonido, sin dejar de mostrar el favicon*/

.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: -1px !important
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #e6fcff !important;
  background-color: #1d1d38bb !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted], .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -1px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 16px !important;
  color: #ffffff !important;
  background-color: #1d1d3850 !important;
  fill-opacity: 0.9 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important;
}

.tab-icon-overlay:not([crashed])[soundplaying]:hover, .tab-icon-overlay:not([crashed])[muted]:hover, .tab-icon-overlay:not([crashed])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  height: 15px !important;
  width: 15px !important
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  height: 15px !important;
  width: 15px !important;
}

/* Active tab brightness */

.tab-content[selected="true"] {
  background-color: color-mix(in srgb, #4d4dfe 7%, transparent) !important;
  text-shadow: 1px !important;
  border-radius: 4px !important;
  margin-top: 3px !important;
  margin-bottom: 3px !important;
}

/* Gradient line *

.tab-background {
  position: relative !important;
}

.tab-background::after {
  width: -moz-available !important;
  margin-block: 0px !important;
  background: linear-gradient(to right, #9059FF3a, #FF4AA2, #FFBD4Fee, #FF4AA2, #9059FF3a) !important;
  position: absolute;
  content: '';
  height: 3px;
  left: 2px;
  right: 2px;
  top: 3;
  margin-top: 0px !important;
  margin-right: 0px !important;
  transform: scale(0, 1);
  transform-origin: center center;
  opacity: 1 !important;
}

* .tab-background[selected="true"]::after {
  transform: scale(1, 1);
}
*/

:root:not[-moz-window-inactive] #navigator-toolbox {
  background-color: transparent !important
}

:root #TabsToolbar, :root #titlebar, :root #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  background-color: transparent !important;
}

:root[lwthemetextcolor="dark"] #TabsToolbar, :root[lwthemetextcolor="dark"] #titlebar, :root[lwthemetextcolor="dark"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[lwthemetextcolor="bright"] #TabsToolbar, :root[lwthemetextcolor="bright"] #titlebar, :root[lwthemetextcolor="bright"] #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root:-moz-window-inactive #TabsToolbar, :root:-moz-window-inactive #titlebar, :root:-moz-window-inactive #tabbrowser-tabs {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

:root[lwthemetextcolor="bright"]:-moz-window-inactive {
  --lwt-accent-color-inactive: rgb(40, 40, 40) !important;
}

/*inactive*/

.tabbrowser-tab:not([visuallyselected="true"]):not([multiselected]):not(:hover) .tab-icon-image {
  opacity: 1 !important;
  /*filter: grayscale();*/
}

.tab-background[selected="true"] {
  /* background: var(--autocomplete-popup-highlight-background) !important;
  opacity: 1;*/
  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 4px -1px;
}

:root {
  --lwt-accent-color: #0c0b0f !important;
  /*"frame": "#17161c" */
  --lwt-text-color: #b3b3b3 !important;
  /*"tab_background_text": "#c3c3c3"*/
  --arrowpanel-background: #1d1d38fa !important;
  /*"popup": "#1c1b22Fa"*/
  --arrowpanel-color: #ffffff !important;
  /*"popup_text": "#dfdfdf"*/
  --arrowpanel-border-color: #4d4dbe50 !important;
  /*"popup_border": "#304f60"*/
  --lwt-popup-brighttext-url-color: #4da6ff !important;
  /*"color de label: El sitio no funciona?"*/
  --panel-disabled-color: #99999990 !important;
  /*"label de popup label-deshabilitado"*/
  --panel-description-color: #3399ff !important;
  /*"Color de letras de: correo de la cuenta, y dispositivos conectados"*/
  --lwt-toolbar-field-background-color: #2f2a3c00 !important;
  /*"toolbar_field":"#1a1b25"*/
  --lwt-toolbar-field-color: #e5e5e6 !important;
  /*"toolbar_field_text":"#e2e9e9"*/
  --lwt-toolbar-field-border-color: #4d4dfe40 !important;
  /*"toolbar_field_border": "#363540"*/
  --lwt-toolbar-field-focus: #242343fc !important;
  /*"toolbar_field_focus": "#1a1b25FB"*/
  --lwt-toolbar-field-focus-color: #ffffff !important;
  /*"toolbar_field_text_focus": "#e5e5e6"*/
  --toolbar-field-focus-border-color: #4d4dfe !important;
  /*"toolbar_field_border_focus": "#005F66"*/
  --lwt-toolbar-field-highlight: #3b439b !important;
  /*"toolbar_field_highlight": "#006f80"*/
  --lwt-toolbar-field-highlight-text: #eaeaea !important;
  /*"toolbar_field_highlight_text": "#eaeaea"*/
  --lwt-tab-text: #ffffff !important;
  /*"tab_text": "#ffffff"*/
  --lwt-selected-tab-background-color: #11092300 !important;
  /*"tab_selected":"#363540"*/
  --lwt-background-tab-separator-color: #0a090c !important;
  /*"tab_background_separator": "#54575f"*/
  --toolbar-bgcolor: #1e20358c !important;
  /*"toolbar":"#131118", "Color de la toolbar"*/
  --toolbar-color: #1e20358c !important;
  /*"toolbar":"#1a1b25"*/
  --toolbarseparator-color: #392b45 !important;
  /*"toolbar_vertical_separator": "#363540"*/
  --chrome-content-separator-color: #18151e !important;
  /*"toolbar_bottom_separator": "#181818"*/
  --lwt-toolbarbutton-icon-fill: #d8d8d9 !important;
  /*"icons" : "#00dbfd"*/
  --toolbarbutton-icon-fill: #d8d8d9 !important;
  /*"icons": "#00dbfd"*/
  --lwt-toolbarbutton-icon-fill-attention: #4d7afe !important;
  /*"icons_attention": "#00dbfd"*/
  --toolbarbutton-hover-background: #3920cc !important;
  /*"button_background_hover": "#26242e"*/
  --toolbarbutton-active-background: #3118a4 !important;
  /*"button_background_active": "#131217"*/
  --autocomplete-popup-highlight-background: #3e3b9d !important;
  /*"popup_highlight": "#006f80"*/
  --panel-separator-zap-gradient: linear-gradient(to left, #fa00ff90, #551dfc, #2525ff, #1293bd) !important;
  --toolbarbutton-inner-padding: 5px !important;
  --proton-tab-block-margin: 2px 3px !important;
  --tab-min-height: 32px !important;
  --tabs-shadow-size: 1px !important;
  --tab-border-radius: 4px !important;
  --arrowpanel-menuitem-padding: 6px !important;
  --panel-font-size: 1.1em !important;
  --arrowpanel-padding: 0.8em !important;
  --button-bgcolor: color-mix(in srgb, #3940ac 60%, transparent) !important;
  --button-hover-bgcolor: color-mix(in srgb, #3940ac 100%, transparent) !important;
  --button-active-bgcolor: color-mix(in srgb, #3940ac 77%, transparent) !important;
  --urlbar-icon-padding: 4px !important;
  --panel-separator-color: #3d3772 !important;
  --toolbarbutton-outer-padding: 3px !important;
  --urlbar-popup-url-color: #3399ff !important;
  --autocomplete-popup-hover-background: #3e4cff95 !important;
  --autocomplete-popup-separator-color: color-mix(in srgb, #4d4dfeff 30%, transparent) !important;
  /* --lwt-additional-images: url("images/derecha.svg"), url("images/middle.png") !important;
  --lwt-background-alignment: right top, right top !important;
  --lwt-background-tiling: no-repeat, repeat-x !important;*/
}

#navigator-toolbox {
  --tabs-border-color: #4d4dfe70 !important;
}

/*"toolbar_top_separator": "#17161c"*/

#tabbrowser-tabs {
  --tab-line-color: #4d4dfe00 !important;
}

/*"tab_line": "#126e82"*/

.browser-toolbar:not(.titlebar-color) {
  color: #b3d9ff !important;
}

/*"bookmark_text": "#b3d9ff"*/

/*Vizualización correcta del porcentaje de zoom mostrado en la urlbar*/

#urlbar-zoom-button {
  padding: 0px 2px !important;
}

/*Linea gradiente en pestaña activa*/

tab:not([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(160deg, #af00bf 0%, #551dfc, #2525ff, #10afff, #2525ff, #551dfc, #af00bf 100%) !important;
  border-radius: 4px !important;
  height: 32px !important;
  transition-duration: 0ms !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 2px 2px 2px rgb(0 0 0 / 23%) !important;
}

tab:not([pinned])[selected="true"] .tab-content {
  /* background-image: url(images/tabbackground.png);*/
  background-color: #161742 !important;
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
  padding-left: 7px !important;
  transition-duration: 0ms !important;
}

tab:is([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(90deg, #551dfc, #1293dd, #551dfc) !important;
  border-radius: 4px !important;
  height: 32px !important;
  /*box-shadow: 0 0 4px -1px rgba(0, 0, 0, 0.2), 0 0 25px -2px rgba(0, 0, 0, 0.2) !important;*/
}

tab:is([pinned])[selected="true"] .tab-content {
  /* background-image: url(images/tabbackground.png);*/
  background-color: #161742 !important;
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
}

tab:is([pinned]):not([selected="true"]) .tab-content {
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
}

.tab-content[selected="true"] {
  border-radius: 4px !important;
  transition-duration: 0ms !important;
}

/*Mover el label de las pestañas al centro vertical de la pestaña*/

.tab-label {
  margin-top: -1px !important;
  text-shadow: none !important;
}

/*Fondo de hover del mouse al pasar por pestañas no seleccionadas*

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
}
*/

#navigator-toolbox {
  --tabs-border-color: #4d4dfe70 !important;
}

/*"toolbar_top_separator": "#17161c"*/

#tabbrowser-tabs {
  --tab-line-color: #4d4dfe00 !important;
}

/*"tab_line": "#126e82"*/

.browser-toolbar:not(.titlebar-color) {
  color: #d3d3d3 !important;
}

/*"bookmark_text": "#b3d9ff"*/

/*"personalizar barra de busqueda"*/

.browserContainer>findbar:-moz-lwtheme {
  color: #d3d3d3 !important;
}

.findbar-find-status[status="notfound"] {
  color: #00dbfd !important;
}

#customization-container {
  color: #eaeaea !important;
  background-color: #232343 !important;
}

/*"Color de texto e iconos de "Perzonalizar barra de herramientas"*/

/*"popup_highlight"*/

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected]>.urlbarView-row-inner, .urlbarView-row-inner[selected] {
  background-color: #4e6bfd90 !important;
  color: #ffffff !important
}

/*"toolbar_bottom_separator"*/

#navigator-toolbox {
  border-bottom: 1px solid #131230 !important;
}

/*"Menú con menos espacios"*/

menupopup>menuitem, menupopup>menu {
  padding-block: 0.3em !important;
}

/*"Medidas menores para scroll de pestañas"*/

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 2px
}

#scrollbutton-up, #scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

.sharing-icon, #permissions-granted-icon, #tracking-protection-icon, .notification-anchor-icon, #blocked-permissions-container>.blocked-permission-icon {
  margin: 1px !important;
  padding: 0px !important
}

/*"Color verde del ícono de candado de web segura"*/

#identity-icon {
  color: #2cf62c !important;
  height: 14px !important;
  width: 14px !important;
}

/*Label de medios "Reproduciendo" modifiado

tab:not([pinned])[selected] .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  opacity: 1 !important;
  text-shadow: none !important;
  font-weight: bold !important;
  background: linear-gradient(to right, #00aaff 0%, #906bff 40%, #cd4AA2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent
}

tab:not([pinned], [selected]) .tab-secondary-label:is([soundplaying], [pictureinpicture]) {
  display: -moz-box !important;
  margin-top: -2px !important;
  margin-bottom: 2px !important;
  text-shadow: none !important;
  font-weight: bold !important;
  transition-duration: 0ms !important
}

.tab-secondary-label:is([muted], [activemedia-blocked]) {
  display: none !important;
  transition-duration: 0ms !important
}

/*ícono de sonido simpre visible en pestañas con sonido, sin dejar de mostrar el favicon*/

.tab-icon-image:not([pinned]) {
  opacity: 1 !important;
  margin-top: -1px !important
}

.tab-icon-image:is([pinned]):not([selected]) {
  margin-left: 0px !important;
  margin-top: 0px !important;
}

.tab-icon-overlay {
  height: 14px !important;
  width: 14px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[soundplaying] {
  transition-duration: 300ms !important;
  opacity: 1 !important;
  border-radius: 9px !important;
  top: 0px;
  inset-inline-end: -15px;
  z-index: 1;
  margin-right: 15px !important;
  color: #ffffff !important;
  background-color: #140d2d00 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
}

.tab-icon-overlay:not([pinned], [crashed])[muted], .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked] {
  opacity: 1 !important;
  border-radius: 9px !important;
  top: -6px;
  inset-inline-end: -7px;
  z-index: 1;
  margin-right: 8px !important;
  color: #ffffff !important;
  background-color: #140d2d00 !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
}

.tab-icon-overlay:not([crashed], [pinned])[soundplaying]:hover, .tab-icon-overlay:not([crashed], [pinned])[muted]:hover, .tab-icon-overlay:not([crashed], [pinned])[activemedia-blocked]:hover {
  stroke: white !important;
  color: black !important;
  fill-opacity: 1 !important;
  padding: 0px !important;
  transform: scale(1.1) !important;
  transition-duration: 100ms !important;
}

.tab-icon-overlay:is([pinned]) {
  padding: 0px !important;
  stroke: #1d1d3870 !important;
  color: white !important;
  transition-duration: 200ms !important;
}

.tab-icon-overlay:is([pinned])[soundplaying]:hover {
  stroke: white !important;
  color: black !important;
}

/*Regla para visualizar mejor el seleccionar varias pestañas*/

.tabbrowser-tab[multiselected]:-moz-lwtheme {
  color: #ffffff !important;
  --tab-line-color: #4d4dfeff !important;
}

.tabbrowser-tab>.tab-stack>.tab-background:is([multiselected]) {
  background-color: #4d4dfeff !important;
}

/*Color de las flechas de menús desplegables*/

#identity-popup, #permission-popup, #protections-popup, .panel-header, .subviewbutton-back, .PanelUI-subView, .subviewbutton-nav::after {
  fill-opacity: .8 !important
}

/*Personalización de colores y presentación de pestañas en contenedores*/

.identity-color-blue {
  --identity-tab-color: #2574A7 !important;
  --identity-icon-color: #2574A7 !important;
}

.identity-color-green {
  --identity-tab-color: #1E934F !important;
  --identity-icon-color: #1E934F !important;
}

.identity-color-orange {
  --identity-tab-color: #e67e22 !important;
  --identity-icon-color: #e67e22 !important;
}

.identity-color-red {
  --identity-tab-color: #ff392b !important;
  --identity-icon-color: #ff392b !important;
}

.identity-color-pink {
  --identity-tab-color: #ff33bb !important;
  --identity-icon-color: #ff33bb !important;
}

.identity-color-purple {
  --identity-tab-color: #813E9D !important;
  --identity-icon-color: #813E9D !important;
}

.identity-color-yellow {
  --identity-tab-color: #e6b803 !important;
  --identity-icon-color: #e6b803 !important;
}

.identity-color-turquoise {
  --identity-tab-color: #03b48d !important;
  --identity-icon-color: #03b48d !important;
}

/*Color al pasar el puntero por los diferentes items de menús principales*/

.protections-popup-category:hover, .protections-popup-footer-button:hover, #protections-popup-show-report-stack:hover>.protections-popup-footer-button, panelview .toolbarbutton-1:not([disabled], [open], :active):is(:hover), toolbarbutton.subviewbutton:not([disabled], [open], :active):is(:hover), .navigable.subviewbutton:not([disabled], [open], :active):is(:hover), menu.subviewbutton:not([disabled], :active)[_moz-menuactive], menuitem.subviewbutton:not([disabled], :active)[_moz-menuactive], .widget-overflow-list .toolbarbutton-1:not([disabled], [open], :active):is(:hover), .toolbaritem-combined-buttons:is(:not([cui-areatype="toolbar"]), [overflowedItem="true"])>toolbarbutton:not([disabled], [open], :active):is(:hover) {
  background-color: color-mix(in srgb, #3940ac 100%, transparent) !important
}

/*Linea de arcoiris en los menús principales*/

.PanelUI-subView>toolbarseparator {
  border-image: var(--panel-separator-zap-gradient) 1 !important;
}

/*Linea gradiente en pestaña activa*/

tab:not([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(160deg, #7f00bf 0%, #551dfc, #2525ff, #105fff, #2525ff, #551dfc, #7f00bf 100%) !important;
  border-radius: 4px !important;
  height: 32px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 2px 2px 2px rgb(0 0 0 / 23%) !important;
}

tab:not([pinned])[selected="true"] .tab-content {
  /*background-image: url(images/tabbackground.png);*/
  background-color: #161742 !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
  padding-left: 7px !important;
  transition-duration: 0ms !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

tab:is([pinned])[selected="true"] .tab-background {
  background-image: linear-gradient(90deg, #551dfc, #1293dd, #551dfc) !important;
  border-radius: 4px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 2px 2px 2px rgb(0 0 0 / 23%) !important;
}

tab:is([pinned])[selected="true"] .tab-content {
  /* background-image: url(images/tabbackground.png);*/
  background-color: #161742 !important;
  margin-top: 3px !important;
  margin-left: 0px !important;
  margin-right: 0px !important;
  height: 30px !important;
}

tab:is([pinned]):not([selected="true"]) .tab-content {
  margin-top: 3px !important;
  margin-left: 1px !important;
  margin-right: 1px !important;
  height: 30px !important;
}

.tab-content[selected="true"] {
  border-radius: 4px !important;
  transition-duration: 0ms !important;
}

/*Mover el label de las pestañas al centro vertical de la pestaña*/

.tab-label {
  margin-top: -1px !important;
  text-shadow: none !important;
}

/*Fondo de hover del mouse al pasar por pestañas no seleccionadas*/

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected="true"], [multiselected]) {
  background-color: #4d4dfe50 !important;
  transition-duration: 0ms !important;
  box-shadow: inset 0 0 5px 5px #888;
}

/*colores del Menú contextual*/

menuseparator {
  border-top: 1px solid #3d3762 !important;
  padding: 0 !important;
  margin: 2px 0.5em !important;
}

.menupopup-arrowscrollbox {
  background-color: #1f1f38 !important;
  border: 1px solid !important;
  padding-block: 0px !important;
  border-color: #4d4dbe50 !important;
}

menu[_moz-menuactive="true"]:not([disabled="true"]), menuitem[_moz-menuactive="true"]:not([disabled="true"]) {
  background-color: #3949aa !important;
  color: #eaeaea !important;
  --menuitem-hover-background-color: #3949aa !important;
}

/*Color de "protección contra rastreo"*/

.protections-popup-category.notFound {
  color: #777777 !important;
}

.panel-info-button:not([disabled]):is([checked], :hover, :active) {
  background-color: #4e6bfd65 !important;
}

.panel-info-button:not([disabled]):is(:hover) {
  background-color: #4e6bfdbb !important;
}

/*Color de página verificada"*/

description#identity-popup-content-owner-label, description#identity-popup-content-owner, description#identity-popup-content-verifier, #identity-popup-securityView-body>button {
  color: #2cf62c !important;
}

/*Páginas seguras de firefox"*/

#identity-box[pageproxystate="valid"].chromeUI>.identity-box-button {
  background-color: #2e3075 !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:hover:not([open]), #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:hover:not([open]) {
  background-color: #3e3bad !important;
}

#identity-box[pageproxystate="valid"].notSecureText>.identity-box-button[open="true"], #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button[open="true"] {
  background-color: #3e3bdc !important;
}

/*fondo de íconos de la urlbar"*/

:not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), :not(.urlbar-icon-wrapper)>.urlbar-icon:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .urlbar-icon-wrapper:hover:not([open]), .identity-box-button:hover:not([open="true"]), #tracking-protection-icon-container:hover:not([open="true"]), .identity-box-button:hover:not([open]) {
  background-color: #3920cc !important;
}

:not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], :not(.urlbar-icon-wrapper)>.urlbar-icon[open="true"], .urlbar-icon-wrapper[open="true"], .urlbar-icon-wrapper[open="true"], .identity-box-button[open="true"], #tracking-protection-icon-container[open="true"], .identity-box-button[open="true"] {
  background-color: #3118a4 !important;
}

/*linea colorida urlbar focus*/

#urlbar[focused=true] {
  background-image: linear-gradient(160deg, #aa00ff90 0%, #551dfc, #2525ff, #1283bd, #2525ff, #551dfc, #ff00ff90 100%);
  border-radius: 5px !important;
}

#urlbar[focused=true] #urlbar-background {
  background: #1b1a38 !important;
  /* background-color: transparent !important;*/
  backdrop-filter: blur(32px) !important;
  -moz-backdrop-filter: blur(32px) !important;
  border: transparent !important;
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[open=true] #urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
  animation-duration: 0ms !important;
}

#urlbar[open=true] {
  margin-top: -1px !important;
  padding-top: 1px !important;
}

/*
#bookmarksShowAll::before {
  display: block !important;
  content: url("./image/bookmarksMenu.png") !important;
  width: 16px !important;
  height: 16px !important;
  margin-inline-start: 6px !important;
}

#bookmarksShowAll {
  -moz-appearance: none !important;
  background-image: url("./image/bookmarksMenu.png") !important;
  background-repeat: no-repeat !important;
  background-position: 6px !important;
  padding-top: 2px !important;
  padding-bottom: 2px !important;
}

#bookmarksShowAll:hover {
  background-color: Highlight !important;
  color: HighlightText !important;
}

/*================== NEW TAB BUTTON ==================

toolbar #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active)>.toolbarbutton-icon, toolbar #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :hover:active)>.toolbarbutton-icon, toolbar #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :active)>.toolbarbutton-icon {
  transition: all 0.3s ease !important;
  fill: rgba(var(--secondary-accent-color), 1) !important;
  border-radius: 4px !important;
  background-color: rgba(var(--transparent-bgcolor), 1) !important;
}

toolbar #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active):hover>.toolbarbutton-icon {
  background-color: rgba(var(--transparent-bgcolor), 1) !important;
}

/*rework en la Linea de Contenedores*/

tab:not([pinned])[selected] .tab-context-line {
  max-width: -moz-available !important;
  max-height: 2px !important;
  margin-left: 0px !important;
  margin-bottom: 0px !important;
}

/* improve border visiblity for selected tabs */

:root:not(:-moz-window-inactive)[lwthemetextcolor="bright"] .tabbrowser-tab[selected="true"] .tab-background {
  box-shadow: inset 0 0 5px 5px #888 !important;
}

:root #nav-bar {
  border-top: 1px solid hsla(280, 6%, 0%, 0.15) !important;
}

:root[lwthemetextcolor="bright"] #nav-bar {
  border-top: 1px solid hsla(280, 6%, 40%, 0.3) !important;
}

/* light theme header */

/*
:root[lwthemetextcolor="dark"] #navigator-toolbox, :root:not([lwt-default-theme-in-dark-mode]) #navigator-toolbox {
  -moz-appearance: -moz-mac-vibrant-titlebar-light !important;
}

/* dark theme header */

/*
:root[lwthemetextcolor="bright"] #navigator-toolbox, :root[lwt-default-theme-in-dark-mode] #navigator-toolbox {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

/* search bar background color,
   default use shadow color for the light and dark theme
 */

/* transparent background, uncomment it if you want */

/* #urlbar:not([focused="true"], [open]) > #urlbar-background, #searchbar:not(:focus-within) {
    background-color: transparent !important;
} */

/* light theme */

/*
:root[lwthemetextcolor="dark"] #urlbar:not([focused="true"], [open])>#urlbar-background, #searchbar:not(:focus-within), :root:not([lwt-default-theme-in-dark-mode]) #urlbar:not([focused="true"], [open])>#urlbar-background, #searchbar:not(:focus-within) {
  background-color: #E8E7E480 !important;
}

/* dark theme */

/*
:root[lwthemetextcolor="bright"] #urlbar:not([focused="true"], [open])>#urlbar-background, #searchbar:not(:focus-within), :root[lwt-default-theme-in-dark-mode] #urlbar:not([focused="true"], [open])>#urlbar-background, #searchbar:not(:focus-within) {
  background-color: #55545270 !important;
}

/* toolbar area background  */

/*
.browser-toolbar:not(.titlebar-color) {
  background-color: transparent !important;
}

/* icon in the url bar background */

#urlbar:not([open]) #identity-box[pageproxystate="valid"].notSecureText>.identity-box-button:not(:hover), #urlbar:not([open]) #identity-box[pageproxystate="valid"].chromeUI>.identity-box-button:not(:hover), #urlbar:not([open]) #identity-box[pageproxystate="valid"].extensionPage>.identity-box-button:not(:hover) {
  background-color: transparent !important;
}

/* url bar padding */

/*
.urlbar-input-box {
  padding: 0 1rem;
}


}

/* move url bar up three pixel */

#titlebar {
  margin-bottom: -3px;
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/compact_proton.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Small changes to make proton roughly as compact as the old compact mode */

:root {
  --toolbarbutton-inner-padding: 6px !important;
  --proton-tab-block-margin: 2px !important;
  --tabs-shadow-size: 1px !important;
  --arrowpanel-menuitem-padding: 5px !important;
  --panel-font-size: inherit !important;
  --arrowpanel-padding: 0.8em !important;
  --inline-tab-padding: 8px !important;
  /* 8px is default value since it looks good - lower values compactify tabs horizontally */
}

.subviewbutton.bookmark-item {
  padding-block: 4px !important;
}

.subview-subheader {
  display: -moz-box
}

#urlbar-background {
  margin-block: 1px
}

/* This is kinda weird, but it makes the horizontal line between tabs and nav-bar render "inside" nav-bar thus tabs are more visibily separated even if there is less space there */

#nav-bar {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

.tab-close-button {
  margin-inline-start: 0px !important;
  width: 20px !important;
  height: 20px !important;
  padding: 5px !important;
}

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 2px
}

#scrollbutton-up, #scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

/* OPTIONAL - show audio label in compact mode and make the audio icon behavior match non-compact mode */

/*
.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]){ display: -moz-box !important; margin-bottom: 1px }
#TabsToolbar:not(:hover) .tab-icon-image{ opacity: 1 !important; }
#TabsToolbar:not(:hover) .tab-icon-overlay:not([pinned]){ opacity: 0 !important; }
*/

/** Root - Reduce Padding ***************************************************/

:root {
  /* Tab Bar */
  --proton-tab-block-margin: 2px !important;
  /* Original: 4px */
  --inline-tab-padding: 6px !important;
  /* Original: 8px */
  /* Panel */
  --arrowpanel-menuitem-margin: 0 8px !important;
  /* Original: 0 8px */
  --arrowpanel-menuitem-padding: 4px !important;
  /* Original: 8px */
  --arrowpanel-padding: 0.8em !important;
  /* Original: 16px or .cui-widget-panel, .cui-widget-panel::part(arrowcontent) => 4px 0 */
}

:root[uidensity=compact] {
  /* Tool Bar */
  --toolbarbutton-outter-padding: 2px !important;
  /* Original: 3px, General is 2px */
  /* Panel */
  --arrowpanel-menuitem-padding: 2px !important;
  /* Original: 8px */
}

/** Tab Bar - Reduce Width, Show more tabs **********************************/

.titlebar-spacer[type="pre-tabs"] {
  width: 30px;
  /* Original: 40px */
}

.titlebar-spacer[type="post-tabs"] {
  width: 25px;
  /* Original: 40px */
}

:root {
  --newtab-button-minus-width-padding: 2px;
  --newtab-button-width-padding: calc(var(--toolbarbutton-inner-padding) - var(--newtab-button-minus-width-padding));
}

#tabs-newtab-button>.toolbarbutton-icon, #new-tab-button>.toolbarbutton-icon, #alltabs-button>.toolbarbutton-badge-stack {
  /* Original: calc(2 * var(--toolbarbutton-inner-padding) + 16px) */
  width: calc(2 * var(--newtab-button-width-padding) + 16px);
  /* Original: --toolbarbutton-inner-padding */
  padding-left: var(--newtab-button-width-padding);
  padding-right: var(--newtab-button-width-padding);
}

:root:not([uidensity=touch]) #new-tab-button, #alltabs-button {
  --toolbarbutton-outer-padding: 1px;
  /* Original: 2px*/
}

/** Tab Bar - Reduce Height, Show more contents *****************************/

:root:not([uidensity=touch]) #TabsToolbar {
  --toolbarbutton-inner-padding: 9px;
  /* Original: calc((var(--tab-min-height) - 16px) / 2) = 10px */
}

.toolbar-items, .tabbrowser-tab {
  max-height: 38px;
}

:root[uidensity=compact] .toolbar-items, .tabbrowser-tab {
  max-height: 32px;
  /*36px*/
}

:root[uidensity=touch] .toolbar-items, .tabbrowser-tab {
  max-height: unset;
}

:root:not([uidensity=touch]) #tabbrowser-arrowscrollbox::part(scrollbutton-up), :root:not([uidensity=touch]) #tabbrowser-arrowscrollbox::part(scrollbutton-down) {
  /* Original: var(--toolbarbutton-inner-padding) calc(var(--toolbarbutton-inner-padding) - 6px) = 9px */
  padding-top: 3px !important;
  padding-bottom: 3px !important;
}

/* Tab - Connect to window */

.tab-background {
  border-radius: var(--tab-border-radius) var(--tab-border-radius) 0px 0px !important;
  margin-bottom: 0px !important;
}

.tab-content {
  margin-top: var(--proton-tab-block-margin);
}

.tab-stack {
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/* neighbouring tabs should "pinch" together */

.tabbrowser-tab {
  padding-inline: 1px !important;
}

.tabbrowser-tab:not([last-visible-tab]) {
  margin-inline-end: -.5px !important;
}

/* Selected Tab - Box Shadow */

#TabsToolbar[brighttext] #tabbrowser-tabs:not([noshadowfortests]) .tabbrowser-tab:is([visuallyselected="true"], [multiselected])>.tab-stack>.tab-background:-moz-lwtheme {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

/** Unselected Tab - Divide line ********************************************/

/*
.tab-content::before, .tab-content::after {
  content: "" !important;
  display: block !important;
  position: absolute !important;
  background-color: var(--toolbarseparator-color) !important;
  width: 1px !important;
  height: 20px !important;
  transform: translateY(-10px) !important;
  opacity: 0 !important;
  transition: opacity .2s var(--ease-basic) !important;
}
/*
.tabbrowser-tab[visuallyselected][style*=transform]+.tabbrowser-tab[style*=transform] .tab-content::after, .tabbrowser-tab[style*=transform]:not([visuallyselected]) .tab-content::before, .tabbrowser-tab[style*=transform]+.tabbrowser-tab:not([visuallyselected]) .tab-content::before, .tabbrowser-tab:not([visuallyselected]):not(:hover):not([multiselected])+.tabbrowser-tab:not([visuallyselected]):not(:hover):not([multiselected]) .tab-content::before, #tabbrowser-tabs[hasadjacentnewtabbutton]:not([overflow]) .tabbrowser-tab[last-visible-tab]:not([visuallyselected]):not(:hover):not([multiselected]) .tab-content::after {
  opacity: .8 !important;
}

/** Clipped tabs - Letters cleary *******************************************/

/*
#tabbrowser-tabs[closebuttons=activetab] .tab-content:not([pinned]) {
  padding-inline-start: 8px !important;
}

#tabbrowser-tabs[closebuttons=activetab] .tabbrowser-tab:not([visuallyselected]) .tab-close-button {
  visibility: collapse !important;
}

#tabbrowser-tabs[closebuttons=activetab] .tab-label-container[textoverflow][labeldirection="ltr"]:not([pinned]), #tabbrowser-tabs[closebuttons=activetab] .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(ltr):not([pinned]) {
  mask-image: linear-gradient(to right, black 70%, transparent) !important;
}

#tabbrowser-tabs[closebuttons=activetab] .tab-label-container[textoverflow][labeldirection="rtl"]:not([pinned]), #tabbrowser-tabs[closebuttons=activetab] .tab-label-container[textoverflow]:not([labeldirection]):-moz-locale-dir(rtl):not([pinned]) {
  mask-image: linear-gradient(to left, black 70%, transparent) !important;
}*/

/*
░▀█▀░█▀█░█▀█░█░░░█▀▄░█▀█░█▀▄
░░█░░█░█░█░█░█░░░█▀▄░█▀█░█▀▄
░░▀░░▀▀▀░▀▀▀░▀▀▀░▀▀░░▀░▀░▀░▀
Contains navbar, urlbar, and etc*/

.browser-toolbar:-moz-lwtheme-darktext, .browser-toolbar:-moz-lwtheme-brighttext {
  background: transparent !important/*var(--bf-tab-toolbar-bg)*/
}

toolbar#nav-bar {
  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px !important;
  box-shadow: inset 0 1 0 var(--tabs-border-color) !important
}

/* Set color schemes for #nav-bar */

toolbar#nav-bar:-moz-lwtheme-darktext, toolbar#nav-bar:-moz-lwtheme-brighttext {
  background: transparent !important;
  /*var(--bf-navbar-bg)*/
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
}

toolbarbutton {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

/* Set color schemes for #nav-bar *

.toolbarbutton-1:-moz-lwtheme-darktext, .toolbarbutton-1:-moz-lwtheme-brighttext {
  --toolbarbutton-hover-background: var(--bf-hover-bg) !important;
  --toolbarbutton-active-background: var(--bf-active-bg) !important;
}

/* Back button */

#back-button>.toolbarbutton-icon {
  --backbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: rgba(0, 0, 0, 0.753) 0px 4px 12px !important;
  border-radius: 20px 20px 20px 20px !important;
}

#forward-button>.toolbarbutton-icon {
  --forwardbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: rgba(0, 0, 0, 0.753) 0px 4px 12px !important;
  border-radius: 20px 20px 20px 20px !important;
}

.toolbarbutton-1:not([disabled]):hover>.toolbarbutton-icon, .toolbarbutton-1:not([disabled]):hover>stack, .toolbarbutton-1[open="true"]>.toolbarbutton-icon, .toolbarbutton-1[open="true"]>stack, .toolbarbutton-1[checked="true"]>.toolbarbutton-icon, .toolbarbutton-1[checked="true"]>stack {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)t;
  border-radius: 20px 20px 20px 20px !important;
}

/* Back button */

#back-button>.toolbarbutton-icon {
  --backbutton-background: transparent !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  border-radius: 20px 20px 20px 20px !important;
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/tab_separator_lines.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Bring back tab separator lines that were removed in Proton */

.tabbrowser-tab {
  border-inline-end: 1px solid transparent !important;
  border-image: 0 1 linear-gradient(transparent 20%, var(--toolbarseparator-color) 20%, var(--toolbarseparator-color) 80%, transparent 80%);
}

.tabbrowser-tab:hover, .tabbrowser-tab[beforehovered], .tabbrowser-tab[selected], .tabbrowser-tab[last-visible-tab], .tabbrowser-tab[beforeselected-visible] {
  border-image: none !important;
}

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/round_ui_items.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Make bunch of things in the main UI round */

:root {
  --toolbarbutton-border-radius: 20px !important
}

#urlbar-input-container>box:hover, #urlbar-input-container>box[open], #main-menubar>menu, .titlebar-button:hover, #scrollbutton-up, #scrollbutton-down, .tab-close-button, .close-icon>image, #page-action-buttons> :hover, .panel-arrowcontent, .urlbarView-row-inner, .search-one-offs button, .subviewbutton-back, .toolbaritem-combined-buttons>toolbarbutton, #PopupSearchAutoComplete, menupopup {
  border-radius: 18px;
  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px !important;
}

.panel-arrowcontent {
  margin-inline-end: 0 !important;
}

.panel-arrow {
  margin-inline: 17px !important;
}

menupopup {
  -moz-appearance: -moz-mac-vibrant-titlebar-dark !important;
  overflow: -moz-hidden-unscrollable !important;
}

.tabbrowser-tab[selected]::after, .tabbrowser-tab[beforeselected-visible]::after {
  border-color: transparent !important;
}

#nav-bar {
  box-shadow: none !important;
  margin-top: 3px !important;
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

.urlbar-icon, toolbar toolbarbutton:not(#back-button):not(.bookmark-item):not(.titlebar-button)>.toolbarbutton-icon {
  border-radius: 0px !important;
  clip-path: circle();
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

menugroup:hover>menuitem {
  clip-path: circle();
  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px !important;
}

/* Small changes to make proton roughly as compact as the old compact mode */

:root {
  --toolbarbutton-inner-padding: 6px !important;
  --proton-tab-block-margin: 2px !important;
  --tabs-shadow-size: 0px !important;
  --arrowpanel-menuitem-padding: 5px !important;
  --panel-font-size: inherit !important;
  --arrowpanel-padding: 0.8em !important;
  --inline-tab-padding: 8px !important;
  /* 8px is default value since it looks good - lower values compactify tabs horizontally */
}

.subviewbutton.bookmark-item {
  padding-block: 4px !important;
}

.subview-subheader {
  display: -moz-box
}

/* This is kinda weird, but it makes the horizontal line between tabs and nav-bar render "inside" nav-bar thus tabs are more visibily separated even if there is less space there */

#nav-bar {
  box-shadow: inset 0 var(--tabs-shadow-size) 0 var(--tabs-border-color) !important;
}

.tab-close-button {
  margin-inline-start: 0px !important;
  width: 20px !important;
  height: 20px !important;
  /* padding: 5px !important;*/
}

#tabbrowser-tabs {
  --uc-tabs-scrollbutton-border: 2px
}

#scrollbutton-up, #scrollbutton-down {
  border-block-width: var(--uc-tabs-scrollbutton-border, 0px) !important;
}

/* Design of the plus/newtab button */

toolbar #tabs-newtab-button:not([disabled="true"]):not([checked]):not([open]):not(:active):hover>.toolbarbutton-icon {
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: rgba(0, 0, 0, 0.753) 0px 4px 12px !important;
  border-radius: 20px 20px 20px 20px !important;
}

toolbar #tabs-newtab-button:not([disabled="true"]):-moz-any([open], [checked], :hover:active)>.toolbarbutton-icon {
  border: 0 !important;
  border-bottom: 1px solid #ffffff30 !important;
  border: none !important;
  -moz-appearance: var(--bf-moz-appearance) !important;
  box-shadow: rgba(0, 0, 0, 0.753) 0px 4px 12px !important;
  border-radius: 20px 20px 20px 20px !important;
  /* box-shadow: inset 0 0 10px #0000004d;*/
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%)
}

/* Fancy tab container label in url bar */

#page-action-buttons {
  height: 24px !important;
  display: flex !important;
}

#userContext-icons {
  position: relative !important;
  padding-inline: 8px !important;
  margin: 0 !important;
  color: var(--identity-tab-color) !important;
}

#userContext-icons::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  right: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  background: var(--identity-tab-color) !important;
  border-radius: 99px !important;
  border-radius: 5px !important;
  opacity: .1 !important;
}

.tabbrowser-arrowscrollbox .arrowscrollbox-scrollbox {
  padding-inline-start: 10px !important;
}

/* To be able to see the top border of the tab*/

.tab-stack {
  margin-top: 0px !important;
}

/*
#urlbar {
  background-image: linear-gradient(90deg, #9400FF, #ba00e5, #df06b9, #e62da7, #f13b95, #f64d86, #f85f7a, #fc7169, #f9845b, #e8ab52);
  /*background-size: auto 10px;
    background-repeat: no-repeat;
    background-position: bottom; 
}

#urlbar-background {
  margin-bottom: 2px !important;
  margin-top: 2px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
}

#urlbar[focused=true] #urlbar-background {
  background-color: rgb(43, 42, 51, 0.85) !important;
}

#urlbar[open=true] #urlbar-background {
  background-color: rgb(43, 42, 51, 0.85) !important;
}


/* To be able to see the top border of the tab*/

.tab-stack {
  margin-top: 0px !important;
}

.titlebar-placeholder {
  border: none !important;
}

.titlebar-spacer {
  border: none !important;
}

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected=true])>spacer {
  margin-top: 0px !important;
  margin-bottom: 0px !important;
}

/* Apply dimmed background for inactive tabs *

.tabbrowser-tab:hover>.tab-stack>.tab-background:not([selected], [multiselected]) {
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 4px 4px 2px rgb(0 0 0 / 23%) !important;
  background: linear-gradient(140deg, #b40780, rgba(255, 0, 0, 0) 60.71%), linear-gradient(334deg, #2121c3, rgba(0, 0, 255, 0) 99.71%) !important;
  border-radius: 7px !important;
}

.tabbrowser-tab>.tab-stack>.tab-background:not([selected], [multiselected]) {
  background: linear-gradient(to right, #00bbff 0%, #6b8bff 22%, #fd4AA2 100%);
  box-shadow: 5px 3px 6px rgb(1 1 1 / 16%), 0px 0px 2px 1px rgb(0 0 0 / 23%) !important;
}

/* Reduce spacing between pinned and regular tabs */

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])>#tabbrowser-arrowscrollbox>.tabbrowser-tab[first-visible-unpinned-tab] {
  margin-inline-start: initial !important;
}

